<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DynoSAM: dyno::WorldMotionFormulation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DynoSAM
   </div>
   <div id="projectbrief">Dynamic Object Smoothing and Mapping for Dynamic SLAM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedyno.html">dyno</a></li><li class="navelem"><a class="el" href="classdyno_1_1WorldMotionFormulation.html">WorldMotionFormulation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classdyno_1_1WorldMotionFormulation-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dyno::WorldMotionFormulation Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="WorldMotionEstimator_8hpp_source.html">WorldMotionEstimator.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dyno::WorldMotionFormulation:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldMotionFormulation__inherit__graph.png" border="0" usemap="#adyno_1_1WorldMotionFormulation_inherit__map" alt="Inheritance graph"/></div>
<map name="adyno_1_1WorldMotionFormulation_inherit__map" id="adyno_1_1WorldMotionFormulation_inherit__map">
<area shape="rect" title=" " alt="" coords="5,167,228,192"/>
<area shape="rect" href="classdyno_1_1WorldPoseFormulation.html" title=" " alt="" coords="13,93,221,119"/>
<area shape="rect" href="classdyno_1_1Formulation.html" title=" " alt="" coords="41,5,192,45"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for dyno::WorldMotionFormulation:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldMotionFormulation__coll__graph.png" border="0" usemap="#adyno_1_1WorldMotionFormulation_coll__map" alt="Collaboration graph"/></div>
<map name="adyno_1_1WorldMotionFormulation_coll__map" id="adyno_1_1WorldMotionFormulation_coll__map">
<area shape="rect" title=" " alt="" coords="84,257,307,283"/>
<area shape="rect" href="classdyno_1_1WorldPoseFormulation.html" title=" " alt="" coords="91,183,299,208"/>
<area shape="rect" href="classdyno_1_1Formulation.html" title=" " alt="" coords="120,93,271,133"/>
<area shape="rect" href="structdyno_1_1FormulationParams.html" title=" " alt="" coords="5,5,193,31"/>
<area shape="rect" href="structdyno_1_1NoiseModels.html" title=" " alt="" coords="218,5,365,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a211d0a30d5842e8d8e66ead8eedd4f4a"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldMotionFormulation.html#a211d0a30d5842e8d8e66ead8eedd4f4a">Base</a> = <a class="el" href="classdyno_1_1WorldPoseFormulation.html">WorldPoseFormulation</a></td></tr>
<tr class="separator:a211d0a30d5842e8d8e66ead8eedd4f4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classdyno_1_1WorldPoseFormulation"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classdyno_1_1WorldPoseFormulation')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classdyno_1_1WorldPoseFormulation.html">dyno::WorldPoseFormulation</a></td></tr>
<tr class="memitem:a04ac547b1b546120cf8945397401a005 inherit pub_types_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a04ac547b1b546120cf8945397401a005">Base</a> = <a class="el" href="classdyno_1_1Formulation.html">Formulation</a>&lt; <a class="el" href="namespacedyno.html#acd4c28164584283b69cddea5cf1921b3">Map3d2d</a> &gt;</td></tr>
<tr class="separator:a04ac547b1b546120cf8945397401a005 inherit pub_types_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; Map3d2d &gt;</a></td></tr>
<tr class="memitem:a0d23288e66f5eeb4022958765693a6e2 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> = <a class="el" href="namespacedyno.html#acd4c28164584283b69cddea5cf1921b3">Map3d2d</a></td></tr>
<tr class="separator:a0d23288e66f5eeb4022958765693a6e2 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9a7f6d55f4d622ac051dcd9530ff22 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a6e9a7f6d55f4d622ac051dcd9530ff22">This</a> = <a class="el" href="classdyno_1_1Formulation.html">Formulation</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a6e9a7f6d55f4d622ac051dcd9530ff22 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d2f31a8b905f003dec50bc08e832adb inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a1d2f31a8b905f003dec50bc08e832adb">MapTraitsType</a> = <a class="el" href="structdyno_1_1MapTraits.html">MapTraits</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a1d2f31a8b905f003dec50bc08e832adb inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a172e526e325ba2bdfef03640ef1802 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> = <a class="el" href="structdyno_1_1PointUpdateContext.html">PointUpdateContext</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a9a172e526e325ba2bdfef03640ef1802 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8077c836f8dc574c084ed01f69d9c7 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> = <a class="el" href="structdyno_1_1ObjectUpdateContext.html">ObjectUpdateContext</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a3a8077c836f8dc574c084ed01f69d9c7 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfb552d78bbec6db6dc746aba349bc12 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#abfb552d78bbec6db6dc746aba349bc12">AccessorType</a> = <a class="el" href="classdyno_1_1Accessor.html">Accessor</a>&lt; <a class="el" href="namespacedyno.html#acd4c28164584283b69cddea5cf1921b3">Map3d2d</a> &gt;</td></tr>
<tr class="separator:abfb552d78bbec6db6dc746aba349bc12 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc95b135e9cd6ab66208afd5bcb75c29 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#acc95b135e9cd6ab66208afd5bcb75c29">AccessorTypePointer</a> = typename <a class="el" href="classdyno_1_1Accessor.html">Accessor</a>&lt; <a class="el" href="namespacedyno.html#acd4c28164584283b69cddea5cf1921b3">Map3d2d</a> &gt;::Ptr</td></tr>
<tr class="separator:acc95b135e9cd6ab66208afd5bcb75c29 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a25fdbd6e858b8b8f2e1c844c27234c42"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldMotionFormulation.html#a25fdbd6e858b8b8f2e1c844c27234c42">WorldMotionFormulation</a> (const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;params, typename Map::Ptr <a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>, const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;noise_models)</td></tr>
<tr class="separator:a25fdbd6e858b8b8f2e1c844c27234c42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad60f9621d41608943694144aad4d2e22"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldMotionFormulation.html#ad60f9621d41608943694144aad4d2e22">dynamicPointUpdateCallback</a> (const <a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors) override</td></tr>
<tr class="separator:ad60f9621d41608943694144aad4d2e22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3889c53e3fdf718a4cbab8d615f757f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldMotionFormulation.html#a3889c53e3fdf718a4cbab8d615f757f0">objectUpdateContext</a> (const <a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors) override</td></tr>
<tr class="separator:a3889c53e3fdf718a4cbab8d615f757f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdyno_1_1WorldPoseFormulation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdyno_1_1WorldPoseFormulation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdyno_1_1WorldPoseFormulation.html">dyno::WorldPoseFormulation</a></td></tr>
<tr class="memitem:a56c263d9b57c975906951a5863e90eb1 inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a56c263d9b57c975906951a5863e90eb1">WorldPoseFormulation</a> (const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;params, typename Map::Ptr <a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>, const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;noise_models)</td></tr>
<tr class="separator:a56c263d9b57c975906951a5863e90eb1 inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab028ca8dea28627a84f0498f148b9009 inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#ab028ca8dea28627a84f0498f148b9009">~WorldPoseFormulation</a> ()</td></tr>
<tr class="separator:ab028ca8dea28627a84f0498f148b9009 inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e6e0a4af9b06496359ceb969405f0a inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#ad1e6e0a4af9b06496359ceb969405f0a">dynamicPointUpdateCallback</a> (const <a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors) override</td></tr>
<tr class="separator:ad1e6e0a4af9b06496359ceb969405f0a inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe402643436b3cdf4b38748317c284c inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a2fe402643436b3cdf4b38748317c284c">objectUpdateContext</a> (const <a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors) override</td></tr>
<tr class="separator:a2fe402643436b3cdf4b38748317c284c inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d80ce7f99513dce44e3ae37796a3826 inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a3d80ce7f99513dce44e3ae37796a3826">isDynamicTrackletInMap</a> (const LandmarkNode3d2d::Ptr &amp;lmk_node) const override</td></tr>
<tr class="separator:a3d80ce7f99513dce44e3ae37796a3826 inherit pub_methods_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; Map3d2d &gt;</a></td></tr>
<tr class="memitem:a8724f7b7761d769e2030d8b313c245e1 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a8724f7b7761d769e2030d8b313c245e1">Formulation</a> (const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;params, typename Map::Ptr map, const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;noise_models)</td></tr>
<tr class="separator:a8724f7b7761d769e2030d8b313c245e1 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c70534b19467ff8ad447d10cbcec8f inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a12c70534b19467ff8ad447d10cbcec8f">~Formulation</a> ()=default</td></tr>
<tr class="separator:a12c70534b19467ff8ad447d10cbcec8f inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa882dfc5e5e0cc12a03184b08889ad7f inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">Map::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a> () const</td></tr>
<tr class="memdesc:aa882dfc5e5e0cc12a03184b08889ad7f inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the map used by the formulation.  <br /></td></tr>
<tr class="separator:aa882dfc5e5e0cc12a03184b08889ad7f inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab453db0a7949192fc9499aab026e012f inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const gtsam::Values &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ab453db0a7949192fc9499aab026e012f">getTheta</a> () const</td></tr>
<tr class="memdesc:ab453db0a7949192fc9499aab026e012f inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current linearization point for this formulation. These values can be updated after external optimisation and are constructed by the derived formulation during update.  <br /></td></tr>
<tr class="separator:ab453db0a7949192fc9499aab026e012f inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87be187fbe18eee7b20ace93327ba4b8 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a87be187fbe18eee7b20ace93327ba4b8">setTheta</a> (const gtsam::Values &amp;linearization)</td></tr>
<tr class="memdesc:a87be187fbe18eee7b20ace93327ba4b8 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the full set of theta values (overrides them). This is used after external optimisation to update the values for the accessor which has a internal reference (pointer) to theta.  <br /></td></tr>
<tr class="separator:a87be187fbe18eee7b20ace93327ba4b8 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5ff63de3f707bd29838b65ef7a2ec9 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a1b5ff63de3f707bd29838b65ef7a2ec9">updateTheta</a> (const gtsam::Values &amp;linearization)</td></tr>
<tr class="memdesc:a1b5ff63de3f707bd29838b65ef7a2ec9 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates and assigns new values to theta. This is used after external optimisation to update the values for the accessor which has a internal reference (pointer) to theta.  <br /></td></tr>
<tr class="separator:a1b5ff63de3f707bd29838b65ef7a2ec9 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5897842d346d80f87315ed7870d7d580 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const gtsam::NonlinearFactorGraph &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a5897842d346d80f87315ed7870d7d580">getGraph</a> () const</td></tr>
<tr class="memdesc:a5897842d346d80f87315ed7870d7d580 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current graph associated with the current theta and constructed by the derived formulation. Along theta, this should be used by an external optimisation routine.  <br /></td></tr>
<tr class="separator:a5897842d346d80f87315ed7870d7d580 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b9b3b3a6c14748b57725bee233bcca4 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4">getFullyQualifiedName</a> () const</td></tr>
<tr class="memdesc:a6b9b3b3a6c14748b57725bee233bcca4 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionally the <a class="el" href="structdyno_1_1FormulationParams.html#ac3367e0c0d80aec0900a00132becd768">FormulationParams::suffix</a> if given.  <br /></td></tr>
<tr class="separator:a6b9b3b3a6c14748b57725bee233bcca4 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536dbcbdd6fcd6598fcedb7866cec1de inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">AccessorType::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">accessorFromTheta</a> () const</td></tr>
<tr class="memdesc:a536dbcbdd6fcd6598fcedb7866cec1de inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public fucntion to access the <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation.  <br /></td></tr>
<tr class="separator:a536dbcbdd6fcd6598fcedb7866cec1de inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61251ff882e273eb439bb238e87762e4 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">BackendLogger::UniquePtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a61251ff882e273eb439bb238e87762e4">makeFullyQualifiedLogger</a> () const</td></tr>
<tr class="memdesc:a61251ff882e273eb439bb238e87762e4 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a logger using the fully-qualified name for this formulation.  <br /></td></tr>
<tr class="separator:a61251ff882e273eb439bb238e87762e4 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef00ff0f96ad2253cc394b8905065882 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aef00ff0f96ad2253cc394b8905065882">setInitialPose</a> (const gtsam::Pose3 &amp;T_world_camera, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::Values &amp;new_values)</td></tr>
<tr class="memdesc:aef00ff0f96ad2253cc394b8905065882 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a gtsam::Pose3 as a value in the graph at frame k.  <br /></td></tr>
<tr class="separator:aef00ff0f96ad2253cc394b8905065882 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32192676e4fab1dc4d35045373c155a3 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a32192676e4fab1dc4d35045373c155a3">setInitialPosePrior</a> (const gtsam::Pose3 &amp;T_world_camera, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::NonlinearFactorGraph &amp;new_factors)</td></tr>
<tr class="memdesc:a32192676e4fab1dc4d35045373c155a3 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a pose prior on a value in the graph at frame k using the given pose value as the prior's mean.  <br /></td></tr>
<tr class="separator:a32192676e4fab1dc4d35045373c155a3 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a849272ad3138932bb3a0957ccba9ac5c inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a849272ad3138932bb3a0957ccba9ac5c">addOdometry</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> from_frame, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> to_frame, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors)</td></tr>
<tr class="memdesc:a849272ad3138932bb3a0957ccba9ac5c inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds odometry factor between multiple frames using the initial values from the front-end (as stored in the map) to calculate the odometry.  <br /></td></tr>
<tr class="separator:a849272ad3138932bb3a0957ccba9ac5c inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3c2df3ba1ce22a47c529c07bba70bf8 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ad3c2df3ba1ce22a47c529c07bba70bf8">addOdometry</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, const gtsam::Pose3 &amp;T_world_camera, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors)</td></tr>
<tr class="memdesc:ad3c2df3ba1ce22a47c529c07bba70bf8 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds odometry factor betwene k-1 and k using T_world_camera as the measurement at k and the existing value in the graph (or initial value from the front-end) as the pose measurement for k-1.  <br /></td></tr>
<tr class="separator:ad3c2df3ba1ce22a47c529c07bba70bf8 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e62c29e14bd5ea89fc24d5693bdefea inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a4e62c29e14bd5ea89fc24d5693bdefea">updateStaticObservations</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> from_frame, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> to_frame, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors, const <a class="el" href="structdyno_1_1UpdateObservationParams.html">UpdateObservationParams</a> &amp;update_params)</td></tr>
<tr class="memdesc:a4e62c29e14bd5ea89fc24d5693bdefea inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the static-point part of the factor graph between multiple frames. Internally makes several calls to <a class="el" href="classdyno_1_1Formulation.html#a74de91cf6b4755060af63627d28fed2c" title="Updates the static-point part of the factor graph for frame k. This contains all the bookeeping logic...">updateStaticObservations(FrameId,gtsam::Values&amp;,gtsam::NonlinearFactorGraph&amp;,const UpdateObservationParams&amp;)</a> and returns the accumulated <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>.  <br /></td></tr>
<tr class="separator:a4e62c29e14bd5ea89fc24d5693bdefea inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74de91cf6b4755060af63627d28fed2c inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a74de91cf6b4755060af63627d28fed2c">updateStaticObservations</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors, const <a class="el" href="structdyno_1_1UpdateObservationParams.html">UpdateObservationParams</a> &amp;update_params)</td></tr>
<tr class="memdesc:a74de91cf6b4755060af63627d28fed2c inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the static-point part of the factor graph for frame k. This contains all the bookeeping logic to update the factor graph with static points.  <br /></td></tr>
<tr class="separator:a74de91cf6b4755060af63627d28fed2c inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4097a531fcdb07ef22b249bdeee52b23 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a4097a531fcdb07ef22b249bdeee52b23">updateDynamicObservations</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> from_frame, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> to_frame, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors, const <a class="el" href="structdyno_1_1UpdateObservationParams.html">UpdateObservationParams</a> &amp;update_params)</td></tr>
<tr class="memdesc:a4097a531fcdb07ef22b249bdeee52b23 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the dynamic-point part of the factor graph between multiple frames. Internally makes several calls to <a class="el" href="classdyno_1_1Formulation.html#ad78d57e7de23e30b9aa287a3939bb3a9" title="Updates the dyanmic-point part of the factor graph for frame k. This contains all the big-boi bookeep...">updateDynamicObservations(FrameId,gtsam::Values&amp;,gtsam::NonlinearFactorGraph&amp;,const UpdateObservationParams&amp;)</a> and returns the accumulated <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>.  <br /></td></tr>
<tr class="separator:a4097a531fcdb07ef22b249bdeee52b23 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78d57e7de23e30b9aa287a3939bb3a9 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ad78d57e7de23e30b9aa287a3939bb3a9">updateDynamicObservations</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors, const <a class="el" href="structdyno_1_1UpdateObservationParams.html">UpdateObservationParams</a> &amp;update_params)</td></tr>
<tr class="memdesc:ad78d57e7de23e30b9aa287a3939bb3a9 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the dyanmic-point part of the factor graph for frame k. This contains all the big-boi bookeeping logic to update the factor graph with dyanmic points and objects. This is where the virtual dynamicPointUpdateCallback and objectUpdateContext functions are called.  <br /></td></tr>
<tr class="separator:ad78d57e7de23e30b9aa287a3939bb3a9 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a559d73e69e026a67b5af2e7b8c1eae inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a7a559d73e69e026a67b5af2e7b8c1eae">logBackendFromMap</a> (const <a class="el" href="structdyno_1_1BackendMetaData.html">BackendMetaData</a> &amp;backend_info)</td></tr>
<tr class="memdesc:a7a559d73e69e026a67b5af2e7b8c1eae inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs all frames and values to file using <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> and <a class="el" href="classdyno_1_1BackendLogger.html">BackendLogger</a>. The <a class="el" href="structdyno_1_1BackendMetaData.html">BackendMetaData</a> provides meta-data and ground truth information for logging.  <br /></td></tr>
<tr class="separator:a7a559d73e69e026a67b5af2e7b8c1eae inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a1a34a66f03ab125c54586fa643273b25"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdyno_1_1Formulation.html#acc95b135e9cd6ab66208afd5bcb75c29">AccessorTypePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldMotionFormulation.html#a1a34a66f03ab125c54586fa643273b25">createAccessor</a> (const gtsam::Values *values) const override</td></tr>
<tr class="memdesc:a1a34a66f03ab125c54586fa643273b25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the associated <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation. The accessor will contain a pointer to <a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44" title="Current linearisation that will be associated with the current graph.">This::theta_</a>, so that when the values are updated the accessor has access to the latest values.  <br /></td></tr>
<tr class="separator:a1a34a66f03ab125c54586fa643273b25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a793731282e0f2e115533709c4387cdae"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldMotionFormulation.html#a793731282e0f2e115533709c4387cdae">loggerPrefix</a> () const override</td></tr>
<tr class="memdesc:a793731282e0f2e115533709c4387cdae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the base name of this formulation. This name will appear as part of the output logs and may be augmented with the <a class="el" href="structdyno_1_1FormulationParams.html#ac3367e0c0d80aec0900a00132becd768">FormulationParams::suffix</a>, if given. To get the fully qualified name (the actual name that will appear in the logs), use <a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4" title="Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionall...">This::getFullyQualifiedName()</a>.  <br /></td></tr>
<tr class="separator:a793731282e0f2e115533709c4387cdae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classdyno_1_1WorldPoseFormulation"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classdyno_1_1WorldPoseFormulation')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classdyno_1_1WorldPoseFormulation.html">dyno::WorldPoseFormulation</a></td></tr>
<tr class="memitem:ab5111da2ceb450b612fefe10c29ceaeb inherit pro_methods_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdyno_1_1Formulation.html#acc95b135e9cd6ab66208afd5bcb75c29">AccessorTypePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#ab5111da2ceb450b612fefe10c29ceaeb">createAccessor</a> (const gtsam::Values *values) const override</td></tr>
<tr class="memdesc:ab5111da2ceb450b612fefe10c29ceaeb inherit pro_methods_classdyno_1_1WorldPoseFormulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the associated <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation. The accessor will contain a pointer to <a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44" title="Current linearisation that will be associated with the current graph.">This::theta_</a>, so that when the values are updated the accessor has access to the latest values.  <br /></td></tr>
<tr class="separator:ab5111da2ceb450b612fefe10c29ceaeb inherit pro_methods_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50488d29033d15a68f76fcaaffd63754 inherit pro_methods_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a50488d29033d15a68f76fcaaffd63754">loggerPrefix</a> () const override</td></tr>
<tr class="memdesc:a50488d29033d15a68f76fcaaffd63754 inherit pro_methods_classdyno_1_1WorldPoseFormulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the base name of this formulation. This name will appear as part of the output logs and may be augmented with the <a class="el" href="structdyno_1_1FormulationParams.html#ac3367e0c0d80aec0900a00132becd768">FormulationParams::suffix</a>, if given. To get the fully qualified name (the actual name that will appear in the logs), use <a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4" title="Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionall...">This::getFullyQualifiedName()</a>.  <br /></td></tr>
<tr class="separator:a50488d29033d15a68f76fcaaffd63754 inherit pro_methods_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; Map3d2d &gt;</a></td></tr>
<tr class="memitem:af93533f32a88133a492b5e3ed790267f inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#af93533f32a88133a492b5e3ed790267f">dynamicPointUpdateCallback</a> (const <a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors)=0</td></tr>
<tr class="memdesc:af93533f32a88133a492b5e3ed790267f inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual function to be implemented by derived class and indicates that a specific landmark has new measurements and new values/factors should be added. Details on the landmark to be updated are provied by the context. In general, this is used to add projection/motion factors and initial values for landmarks.  <br /></td></tr>
<tr class="separator:af93533f32a88133a492b5e3ed790267f inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37aa6f06b484ce9d3fe46312063281e5 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a37aa6f06b484ce9d3fe46312063281e5">objectUpdateContext</a> (const <a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors)=0</td></tr>
<tr class="memdesc:a37aa6f06b484ce9d3fe46312063281e5 inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual function to be implemented by derived class and indicates that a specific object j and time-step k has been observed and its dynamic points updated in the graph, and associated values/factors should be added. Details on the object to be updated are provied by the context. In general, this is used to add smoothing factors and initial values for object motion/pose.  <br /></td></tr>
<tr class="separator:a37aa6f06b484ce9d3fe46312063281e5 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbe87537d35b8d21463d402342ef356 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a7cbe87537d35b8d21463d402342ef356">isDynamicTrackletInMap</a> (const typename <a class="el" href="structdyno_1_1MapTraits.html#a72db8cc0191a116471646c6302bea29b">MapTraitsType::LandmarkNodePtr</a> &amp;lmk_node) const=0</td></tr>
<tr class="memdesc:a7cbe87537d35b8d21463d402342ef356 inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual function to be implemented by derived class and indicates that the specified landmark exists within the graph already. This is used as part of the internal bookeeping.  <br /></td></tr>
<tr class="separator:a7cbe87537d35b8d21463d402342ef356 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3902e16e40c4eb8215ddfb4b7a625c5 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aa3902e16e40c4eb8215ddfb4b7a625c5">loggerPrefix</a> () const=0</td></tr>
<tr class="memdesc:aa3902e16e40c4eb8215ddfb4b7a625c5 inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the base name of this formulation. This name will appear as part of the output logs and may be augmented with the <a class="el" href="structdyno_1_1FormulationParams.html#ac3367e0c0d80aec0900a00132becd768">FormulationParams::suffix</a>, if given. To get the fully qualified name (the actual name that will appear in the logs), use <a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4" title="Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionall...">This::getFullyQualifiedName()</a>.  <br /></td></tr>
<tr class="separator:aa3902e16e40c4eb8215ddfb4b7a625c5 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a087924d81177adf630c030364e5f5025 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual AccessorType::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a087924d81177adf630c030364e5f5025">createAccessor</a> (const gtsam::Values *values) const=0</td></tr>
<tr class="memdesc:a087924d81177adf630c030364e5f5025 inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the associated <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation. The accessor will contain a pointer to <a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44" title="Current linearisation that will be associated with the current graph.">This::theta_</a>, so that when the values are updated the accessor has access to the latest values.  <br /></td></tr>
<tr class="separator:a087924d81177adf630c030364e5f5025 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3369b4fa4dd649495e5bace0e9b715d9 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">gtsam::Pose3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a3369b4fa4dd649495e5bace0e9b715d9">getInitialOrLinearizedSensorPose</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id) const</td></tr>
<tr class="separator:a3369b4fa4dd649495e5bace0e9b715d9 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_attribs_classdyno_1_1WorldPoseFormulation"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classdyno_1_1WorldPoseFormulation')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classdyno_1_1WorldPoseFormulation.html">dyno::WorldPoseFormulation</a></td></tr>
<tr class="memitem:a84a21b7e21d4db1de7686d04aba7be2f inherit pro_attribs_classdyno_1_1WorldPoseFormulation"><td class="memItemLeft" align="right" valign="top">gtsam::FastMap&lt; <a class="el" href="namespacedyno.html#afdd174eb44901fb205371d796287378c">TrackletId</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">is_dynamic_tracklet_in_map_</a></td></tr>
<tr class="separator:a84a21b7e21d4db1de7686d04aba7be2f inherit pro_attribs_classdyno_1_1WorldPoseFormulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; Map3d2d &gt;</a></td></tr>
<tr class="memitem:a18df73bd68393b6b9860c6c332bd5496 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">params_</a></td></tr>
<tr class="separator:a18df73bd68393b6b9860c6c332bd5496 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100326929d58a9a30f663f51969058f9 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">Map::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a100326929d58a9a30f663f51969058f9">map_</a></td></tr>
<tr class="separator:a100326929d58a9a30f663f51969058f9 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e9e95a8f33f2da1fe8f7123feecf81c inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a></td></tr>
<tr class="separator:a0e9e95a8f33f2da1fe8f7123feecf81c inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fa9cd53878c20db3b398f702e45b49 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">gtsam::FastMap&lt; gtsam::Key, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a></td></tr>
<tr class="memdesc:af8fa9cd53878c20db3b398f702e45b49 inherit pro_attribs_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">the set of (static related) values managed by this updater. Allows checking if values have already been added over successifve function calls  <br /></td></tr>
<tr class="separator:af8fa9cd53878c20db3b398f702e45b49 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="WorldMotionEstimator_8hpp_source.html#l00052">52</a> of file <a class="el" href="WorldMotionEstimator_8hpp_source.html">WorldMotionEstimator.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="a211d0a30d5842e8d8e66ead8eedd4f4a" name="a211d0a30d5842e8d8e66ead8eedd4f4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a211d0a30d5842e8d8e66ead8eedd4f4a">&#9670;&#160;</a></span>Base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdyno_1_1WorldMotionFormulation.html#a211d0a30d5842e8d8e66ead8eedd4f4a">dyno::WorldMotionFormulation::Base</a> =  <a class="el" href="classdyno_1_1WorldPoseFormulation.html">WorldPoseFormulation</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldMotionEstimator_8hpp_source.html#l00054">54</a> of file <a class="el" href="WorldMotionEstimator_8hpp_source.html">WorldMotionEstimator.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a25fdbd6e858b8b8f2e1c844c27234c42" name="a25fdbd6e858b8b8f2e1c844c27234c42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25fdbd6e858b8b8f2e1c844c27234c42">&#9670;&#160;</a></span>WorldMotionFormulation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dyno::WorldMotionFormulation::WorldMotionFormulation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename Map::Ptr&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;&#160;</td>
          <td class="paramname"><em>noise_models</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldMotionEstimator_8hpp_source.html#l00061">61</a> of file <a class="el" href="WorldMotionEstimator_8hpp_source.html">WorldMotionEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   61</span>: <a class="code hl_function" href="classdyno_1_1WorldPoseFormulation.html#a56c263d9b57c975906951a5863e90eb1">WorldPoseFormulation</a>(params, <a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>, noise_models) {}</div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_aa882dfc5e5e0cc12a03184b08889ad7f"><div class="ttname"><a href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">dyno::Formulation&lt; Map3d2d &gt;::map</a></div><div class="ttdeci">Map::Ptr map() const</div><div class="ttdoc">Get the map used by the formulation.</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00261">Formulation.hpp:261</a></div></div>
<div class="ttc" id="aclassdyno_1_1WorldPoseFormulation_html_a56c263d9b57c975906951a5863e90eb1"><div class="ttname"><a href="classdyno_1_1WorldPoseFormulation.html#a56c263d9b57c975906951a5863e90eb1">dyno::WorldPoseFormulation::WorldPoseFormulation</a></div><div class="ttdeci">WorldPoseFormulation(const FormulationParams &amp;params, typename Map::Ptr map, const NoiseModels &amp;noise_models)</div><div class="ttdef"><b>Definition:</b> <a href="WorldPoseEstimator_8hpp_source.html#l00052">WorldPoseEstimator.hpp:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a1a34a66f03ab125c54586fa643273b25" name="a1a34a66f03ab125c54586fa643273b25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a34a66f03ab125c54586fa643273b25">&#9670;&#160;</a></span>createAccessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdyno_1_1Formulation.html#acc95b135e9cd6ab66208afd5bcb75c29">AccessorTypePointer</a> dyno::WorldMotionFormulation::createAccessor </td>
          <td>(</td>
          <td class="paramtype">const gtsam::Values *&#160;</td>
          <td class="paramname"><em>values</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the associated <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation. The accessor will contain a pointer to <a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44" title="Current linearisation that will be associated with the current graph.">This::theta_</a>, so that when the values are updated the accessor has access to the latest values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">values</td><td>const gtsam::Values* </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AccessorType::Ptr </dd></dl>

<p>Implements <a class="el" href="classdyno_1_1Formulation.html#a087924d81177adf630c030364e5f5025">dyno::Formulation&lt; Map3d2d &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="WorldMotionEstimator_8hpp_source.html#l00070">70</a> of file <a class="el" href="WorldMotionEstimator_8hpp_source.html">WorldMotionEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   70</span>                                                                                 {</div>
<div class="line"><span class="lineno">   71</span>        <span class="keywordflow">return</span> std::make_shared&lt;WorldMotionAccessor&gt;(values, this-&gt;<a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>());</div>
<div class="line"><span class="lineno">   72</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">dyno::Formulation&lt; Map3d2d &gt;::map()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldMotionFormulation_a1a34a66f03ab125c54586fa643273b25_cgraph.png" border="0" usemap="#aclassdyno_1_1WorldMotionFormulation_a1a34a66f03ab125c54586fa643273b25_cgraph" alt=""/></div>
<map name="aclassdyno_1_1WorldMotionFormulation_a1a34a66f03ab125c54586fa643273b25_cgraph" id="aclassdyno_1_1WorldMotionFormulation_a1a34a66f03ab125c54586fa643273b25_cgraph">
<area shape="rect" title="Creates the associated Accessor for the derived formulation. The accessor will contain a pointer to T..." alt="" coords="5,5,228,45"/>
<area shape="rect" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f" title="Get the map used by the formulation." alt="" coords="276,5,427,45"/>
</map>
</div>

</div>
</div>
<a id="ad60f9621d41608943694144aad4d2e22" name="ad60f9621d41608943694144aad4d2e22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad60f9621d41608943694144aad4d2e22">&#9670;&#160;</a></span>dynamicPointUpdateCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::WorldMotionFormulation::dynamicPointUpdateCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::Values &amp;&#160;</td>
          <td class="paramname"><em>new_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::NonlinearFactorGraph &amp;&#160;</td>
          <td class="paramname"><em>new_factors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldMotionEstimator_8cc_source.html#l00155">155</a> of file <a class="el" href="WorldMotionEstimator_8cc_source.html">WorldMotionEstimator.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  158</span>                                                {</div>
<div class="line"><span class="lineno">  159</span>    <span class="keyword">const</span> <span class="keyword">auto</span> lmk_node = context.lmk_node;</div>
<div class="line"><span class="lineno">  160</span>    <span class="keyword">const</span> <span class="keyword">auto</span> frame_node_k_1 = context.frame_node_k_1;</div>
<div class="line"><span class="lineno">  161</span>    <span class="keyword">const</span> <span class="keyword">auto</span> frame_node_k = context.frame_node_k;</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keyword">auto</span> dynamic_point_noise = <a class="code hl_variable" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a>.<a class="code hl_variable" href="structdyno_1_1NoiseModels.html#aa0ba01119cae77c87c562c119497c8d0">dynamic_point_noise</a>;</div>
<div class="line"><span class="lineno">  164</span>    <span class="keyword">auto</span> theta_accessor = this-&gt;<a class="code hl_function" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">accessorFromTheta</a>();</div>
<div class="line"><span class="lineno">  165</span> </div>
<div class="line"><span class="lineno">  166</span>    <span class="keyword">const</span> gtsam::Key object_point_key_k_1 = lmk_node-&gt;makeDynamicKey(frame_node_k_1-&gt;frame_id);</div>
<div class="line"><span class="lineno">  167</span>    <span class="keyword">const</span> gtsam::Key object_point_key_k = lmk_node-&gt;makeDynamicKey(frame_node_k-&gt;frame_id);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">// if first motion (i.e first time we have both k-1 and k), add both at k-1 and k</span></div>
<div class="line"><span class="lineno">  170</span>    <span class="keywordflow">if</span>(context.is_starting_motion_frame) {</div>
<div class="line"><span class="lineno">  171</span>        CHECK(!theta_accessor-&gt;exists(object_point_key_k_1));</div>
<div class="line"><span class="lineno">  172</span> </div>
<div class="line"><span class="lineno">  173</span>        new_factors.emplace_shared&lt;<a class="code hl_typedef" href="namespacedyno.html#ad2695c66ea8d7bd38aaa57ef1bca4365">PoseToPointFactor</a>&gt;(</div>
<div class="line"><span class="lineno">  174</span>            frame_node_k_1-&gt;makePoseKey(), <span class="comment">//pose key at previous frames</span></div>
<div class="line"><span class="lineno">  175</span>            object_point_key_k_1,</div>
<div class="line"><span class="lineno">  176</span>            lmk_node-&gt;getMeasurement(frame_node_k_1).landmark,</div>
<div class="line"><span class="lineno">  177</span>            dynamic_point_noise</div>
<div class="line"><span class="lineno">  178</span>        );</div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span>(result.debug_info) result.debug_info-&gt;getObjectInfo(context.getObjectId()).num_dynamic_factors++;</div>
<div class="line"><span class="lineno">  180</span>        result.updateAffectedObject(frame_node_k_1-&gt;frame_id, context.getObjectId());</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>        <span class="comment">//add landmark at previous frame</span></div>
<div class="line"><span class="lineno">  183</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a> measured_k_1 = lmk_node-&gt;getMeasurement(frame_node_k_1-&gt;frame_id).landmark;</div>
<div class="line"><span class="lineno">  184</span>        <a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a> lmk_world_k_1;</div>
<div class="line"><span class="lineno">  185</span>        <a class="code hl_function" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">getSafeQuery</a>(</div>
<div class="line"><span class="lineno">  186</span>            lmk_world_k_1,</div>
<div class="line"><span class="lineno">  187</span>            theta_accessor-&gt;query&lt;<a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a>&gt;(object_point_key_k_1),</div>
<div class="line"><span class="lineno">  188</span>            gtsam::Point3(context.X_k_1_measured * measured_k_1)</div>
<div class="line"><span class="lineno">  189</span>        );</div>
<div class="line"><span class="lineno">  190</span>        new_values.insert(object_point_key_k_1, lmk_world_k_1);</div>
<div class="line"><span class="lineno">  191</span>        <span class="keywordflow">if</span>(result.debug_info) result.debug_info-&gt;getObjectInfo(context.getObjectId()).num_new_dynamic_points++;</div>
<div class="line"><span class="lineno">  192</span>    }</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="comment">// previous point must be added by the previous iteration</span></div>
<div class="line"><span class="lineno">  196</span>    CHECK(new_values.exists(object_point_key_k_1) || theta_accessor-&gt;exists(object_point_key_k_1));</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a> measured_k = lmk_node-&gt;getMeasurement(frame_node_k).landmark;</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>    new_factors.emplace_shared&lt;<a class="code hl_typedef" href="namespacedyno.html#ad2695c66ea8d7bd38aaa57ef1bca4365">PoseToPointFactor</a>&gt;(</div>
<div class="line"><span class="lineno">  201</span>        frame_node_k-&gt;makePoseKey(), <span class="comment">//pose key at this (in the iteration) frames</span></div>
<div class="line"><span class="lineno">  202</span>        object_point_key_k,</div>
<div class="line"><span class="lineno">  203</span>        measured_k,</div>
<div class="line"><span class="lineno">  204</span>        dynamic_point_noise</div>
<div class="line"><span class="lineno">  205</span>    );</div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">if</span>(result.debug_info) result.debug_info-&gt;getObjectInfo(context.getObjectId()).num_dynamic_factors++;</div>
<div class="line"><span class="lineno">  207</span> </div>
<div class="line"><span class="lineno">  208</span>    result.updateAffectedObject(frame_node_k-&gt;frame_id, context.getObjectId());</div>
<div class="line"><span class="lineno">  209</span> </div>
<div class="line"><span class="lineno">  210</span>    <a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a> lmk_world_k;</div>
<div class="line"><span class="lineno">  211</span>    <a class="code hl_function" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">getSafeQuery</a>(</div>
<div class="line"><span class="lineno">  212</span>        lmk_world_k,</div>
<div class="line"><span class="lineno">  213</span>        theta_accessor-&gt;query&lt;<a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a>&gt;(object_point_key_k),</div>
<div class="line"><span class="lineno">  214</span>        gtsam::Point3(context.X_k_measured * measured_k)</div>
<div class="line"><span class="lineno">  215</span>    );</div>
<div class="line"><span class="lineno">  216</span>    new_values.insert(object_point_key_k, lmk_world_k);</div>
<div class="line"><span class="lineno">  217</span>    <span class="keywordflow">if</span>(result.debug_info) result.debug_info-&gt;getObjectInfo(context.getObjectId()).num_new_dynamic_points++;</div>
<div class="line"><span class="lineno">  218</span> </div>
<div class="line"><span class="lineno">  219</span> </div>
<div class="line"><span class="lineno">  220</span>    <span class="keyword">const</span> gtsam::Key object_motion_key_k = frame_node_k-&gt;makeObjectMotionKey(context.getObjectId());</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>    <span class="keyword">auto</span> landmark_motion_noise = <a class="code hl_variable" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a>.<a class="code hl_variable" href="structdyno_1_1NoiseModels.html#a83368aae44c18d90239c00dcf557729a">landmark_motion_noise</a>;</div>
<div class="line"><span class="lineno">  224</span>    new_factors.emplace_shared&lt;LandmarkMotionTernaryFactor&gt;(</div>
<div class="line"><span class="lineno">  225</span>        object_point_key_k_1,</div>
<div class="line"><span class="lineno">  226</span>        object_point_key_k,</div>
<div class="line"><span class="lineno">  227</span>        object_motion_key_k,</div>
<div class="line"><span class="lineno">  228</span>        landmark_motion_noise</div>
<div class="line"><span class="lineno">  229</span>    );</div>
<div class="line"><span class="lineno">  230</span>    result.updateAffectedObject(frame_node_k_1-&gt;frame_id, context.getObjectId());</div>
<div class="line"><span class="lineno">  231</span>    result.updateAffectedObject(frame_node_k-&gt;frame_id, context.getObjectId());</div>
<div class="line"><span class="lineno">  232</span>    <span class="keywordflow">if</span>(result.debug_info) result.debug_info-&gt;getObjectInfo(context.getObjectId()).num_motion_factors++;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span> </div>
<div class="line"><span class="lineno">  235</span>    <span class="comment">//mark as now in map</span></div>
<div class="line"><span class="lineno">  236</span>    <a class="code hl_variable" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">is_dynamic_tracklet_in_map_</a>.insert2(context.getTrackletId(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  237</span> </div>
<div class="line"><span class="lineno">  238</span>}</div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_a0e9e95a8f33f2da1fe8f7123feecf81c"><div class="ttname"><a href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">dyno::Formulation&lt; Map3d2d &gt;::noise_models_</a></div><div class="ttdeci">const NoiseModels noise_models_</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00446">Formulation.hpp:446</a></div></div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_a536dbcbdd6fcd6598fcedb7866cec1de"><div class="ttname"><a href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">dyno::Formulation&lt; Map3d2d &gt;::accessorFromTheta</a></div><div class="ttdeci">AccessorType::Ptr accessorFromTheta() const</div><div class="ttdoc">Public fucntion to access the Accessor for the derived formulation.</div><div class="ttdef"><b>Definition:</b> <a href="Formulation-impl_8hpp_source.html#l00308">Formulation-impl.hpp:648</a></div></div>
<div class="ttc" id="aclassdyno_1_1WorldPoseFormulation_html_a84a21b7e21d4db1de7686d04aba7be2f"><div class="ttname"><a href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">dyno::WorldPoseFormulation::is_dynamic_tracklet_in_map_</a></div><div class="ttdeci">gtsam::FastMap&lt; TrackletId, bool &gt; is_dynamic_tracklet_in_map_</div><div class="ttdef"><b>Definition:</b> <a href="WorldPoseEstimator_8hpp_source.html#l00079">WorldPoseEstimator.hpp:79</a></div></div>
<div class="ttc" id="anamespacedyno_html_a6c8dbdcd5e61797d494457220b875761"><div class="ttname"><a href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">dyno::Landmark</a></div><div class="ttdeci">gtsam::Point3 Landmark</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00086">Types.hpp:86</a></div></div>
<div class="ttc" id="anamespacedyno_html_ad2695c66ea8d7bd38aaa57ef1bca4365"><div class="ttname"><a href="namespacedyno.html#ad2695c66ea8d7bd38aaa57ef1bca4365">dyno::PoseToPointFactor</a></div><div class="ttdeci">gtsam::PoseToPointFactor&lt; gtsam::Pose3, Landmark &gt; PoseToPointFactor</div><div class="ttdoc">Alias to a gtsam::PoseToPointFactor&lt;gtsam::Pose3, Landmark&gt;</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00054">BackendDefinitions.hpp:54</a></div></div>
<div class="ttc" id="anamespacedyno_html_ad5ce0869676f7888164ba26aceda60a9"><div class="ttname"><a href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">dyno::getSafeQuery</a></div><div class="ttdeci">bool getSafeQuery(ValueType &amp;result, const StateQuery&lt; ValueType &gt; &amp;query, const ValueType &amp;default_value)</div><div class="ttdoc">Safe getter to a StateQuery object. If the StateQuery is successful, result is set to the value of th...</div><div class="ttdef"><b>Definition:</b> <a href="MapNodes_8hpp_source.html#l00332">MapNodes.hpp:332</a></div></div>
<div class="ttc" id="astructdyno_1_1NoiseModels_html_a83368aae44c18d90239c00dcf557729a"><div class="ttname"><a href="structdyno_1_1NoiseModels.html#a83368aae44c18d90239c00dcf557729a">dyno::NoiseModels::landmark_motion_noise</a></div><div class="ttdeci">gtsam::SharedNoiseModel landmark_motion_noise</div><div class="ttdoc">Noise on the landmark tenrary factor.</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00101">BackendDefinitions.hpp:101</a></div></div>
<div class="ttc" id="astructdyno_1_1NoiseModels_html_aa0ba01119cae77c87c562c119497c8d0"><div class="ttname"><a href="structdyno_1_1NoiseModels.html#aa0ba01119cae77c87c562c119497c8d0">dyno::NoiseModels::dynamic_point_noise</a></div><div class="ttdeci">gtsam::SharedNoiseModel dynamic_point_noise</div><div class="ttdoc">Isometric [3x3] noise model on dynamic points;.</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00105">BackendDefinitions.hpp:105</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">dyno::Formulation&lt; Map3d2d &gt;::accessorFromTheta()</a>, <a class="el" href="structdyno_1_1UpdateObservationResult.html#a8a980ad2e2f463b0a78b5c6e8a412976">dyno::UpdateObservationResult::debug_info</a>, <a class="el" href="structdyno_1_1NoiseModels.html#aa0ba01119cae77c87c562c119497c8d0">dyno::NoiseModels::dynamic_point_noise</a>, <a class="el" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">dyno::getSafeQuery()</a>, <a class="el" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">dyno::WorldPoseFormulation::is_dynamic_tracklet_in_map_</a>, <a class="el" href="structdyno_1_1NoiseModels.html#a83368aae44c18d90239c00dcf557729a">dyno::NoiseModels::landmark_motion_noise</a>, <a class="el" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">dyno::Formulation&lt; Map3d2d &gt;::noise_models_</a>, and <a class="el" href="structdyno_1_1UpdateObservationResult.html#a002ddcad2bc2b520dd274acc8370d0a9">dyno::UpdateObservationResult::updateAffectedObject()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldMotionFormulation_ad60f9621d41608943694144aad4d2e22_cgraph.png" border="0" usemap="#aclassdyno_1_1WorldMotionFormulation_ad60f9621d41608943694144aad4d2e22_cgraph" alt=""/></div>
<map name="aclassdyno_1_1WorldMotionFormulation_ad60f9621d41608943694144aad4d2e22_cgraph" id="aclassdyno_1_1WorldMotionFormulation_ad60f9621d41608943694144aad4d2e22_cgraph">
<area shape="rect" title=" " alt="" coords="5,63,228,103"/>
<area shape="rect" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de" title="Public fucntion to access the Accessor for the derived formulation." alt="" coords="276,5,512,45"/>
<area shape="rect" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9" title="Safe getter to a StateQuery object. If the StateQuery is successful, result is set to the value of th..." alt="" coords="319,70,469,95"/>
<area shape="rect" href="structdyno_1_1UpdateObservationResult.html#a002ddcad2bc2b520dd274acc8370d0a9" title=" " alt="" coords="279,120,509,160"/>
<area shape="rect" href="classdyno_1_1StateQuery.html#af7ca5fb04717f5719c62a54b3b67fd17" title=" " alt="" coords="560,70,723,95"/>
<area shape="rect" href="namespacedyno.html#a2d6f925680f57dbc72ada75daefdb2f9" title=" " alt="" coords="771,70,981,95"/>
</map>
</div>

</div>
</div>
<a id="a793731282e0f2e115533709c4387cdae" name="a793731282e0f2e115533709c4387cdae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a793731282e0f2e115533709c4387cdae">&#9670;&#160;</a></span>loggerPrefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dyno::WorldMotionFormulation::loggerPrefix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines the base name of this formulation. This name will appear as part of the output logs and may be augmented with the <a class="el" href="structdyno_1_1FormulationParams.html#ac3367e0c0d80aec0900a00132becd768">FormulationParams::suffix</a>, if given. To get the fully qualified name (the actual name that will appear in the logs), use <a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4" title="Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionall...">This::getFullyQualifiedName()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>std::string </dd></dl>

<p>Implements <a class="el" href="classdyno_1_1Formulation.html#aa3902e16e40c4eb8215ddfb4b7a625c5">dyno::Formulation&lt; Map3d2d &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="WorldMotionEstimator_8hpp_source.html#l00074">74</a> of file <a class="el" href="WorldMotionEstimator_8hpp_source.html">WorldMotionEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   74</span>                                            {</div>
<div class="line"><span class="lineno">   75</span>        <span class="keywordflow">return</span> <span class="stringliteral">&quot;rgbd_motion_world&quot;</span>;</div>
<div class="line"><span class="lineno">   76</span>    }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a3889c53e3fdf718a4cbab8d615f757f0" name="a3889c53e3fdf718a4cbab8d615f757f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3889c53e3fdf718a4cbab8d615f757f0">&#9670;&#160;</a></span>objectUpdateContext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::WorldMotionFormulation::objectUpdateContext </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::Values &amp;&#160;</td>
          <td class="paramname"><em>new_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::NonlinearFactorGraph &amp;&#160;</td>
          <td class="paramname"><em>new_factors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldMotionEstimator_8cc_source.html#l00240">240</a> of file <a class="el" href="WorldMotionEstimator_8cc_source.html">WorldMotionEstimator.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  243</span>{</div>
<div class="line"><span class="lineno">  244</span>    <span class="keyword">auto</span> frame_node_k = context.frame_node_k;</div>
<div class="line"><span class="lineno">  245</span>    <span class="keyword">const</span> gtsam::Key object_motion_key_k = frame_node_k-&gt;makeObjectMotionKey(context.getObjectId());</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>    <span class="keyword">auto</span> theta_accessor = this-&gt;<a class="code hl_function" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">accessorFromTheta</a>();</div>
<div class="line"><span class="lineno">  248</span> </div>
<div class="line"><span class="lineno">  249</span>    <span class="comment">//skip if no motion pair availble</span></div>
<div class="line"><span class="lineno">  250</span>    <span class="keywordflow">if</span>(!context.has_motion_pair) {</div>
<div class="line"><span class="lineno">  251</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  252</span>    }</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="keyword">const</span> <span class="keyword">auto</span> frame_id = context.getFrameId();</div>
<div class="line"><span class="lineno">  255</span>    <span class="keyword">const</span> <span class="keyword">auto</span> object_id = context.getObjectId();</div>
<div class="line"><span class="lineno">  256</span> </div>
<div class="line"><span class="lineno">  257</span>    <span class="keywordflow">if</span>(!<a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.exists(object_motion_key_k)) {</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>        <span class="comment">//when we have an initial motion</span></div>
<div class="line"><span class="lineno">  260</span>        <a class="code hl_typedef" href="namespacedyno.html#a6549470bc523e57ef4bfa81eed756659">Motion3</a> initial_motion = Motion3::Identity();</div>
<div class="line"><span class="lineno">  261</span>        <span class="keywordflow">if</span>(!FLAGS_init_H_with_identity) {</div>
<div class="line"><span class="lineno">  262</span>            <a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>()-&gt;hasInitialObjectMotion(frame_id, object_id, &amp;initial_motion);</div>
<div class="line"><span class="lineno">  263</span>            LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;Using motion from frontend &quot;</span> &lt;&lt; initial_motion;</div>
<div class="line"><span class="lineno">  264</span>            initial_motion = gtsam::Pose3(gtsam::Rot3::Identity(), initial_motion.translation());</div>
<div class="line"><span class="lineno">  265</span>        }</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>        new_values.insert(object_motion_key_k, initial_motion);</div>
<div class="line"><span class="lineno">  268</span>        <a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.insert2(object_motion_key_k, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="keywordflow">if</span>(frame_id &lt; 2) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  272</span> </div>
<div class="line"><span class="lineno">  273</span>    <span class="keyword">auto</span> frame_node_k_1 = <a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>()-&gt;getFrame(frame_id - 1u);</div>
<div class="line"><span class="lineno">  274</span>    <span class="keywordflow">if</span> (!frame_node_k_1) { <span class="keywordflow">return</span>; }</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">if</span>(FLAGS_use_smoothing_factor &amp;&amp; frame_node_k_1-&gt;objectObserved(object_id)) {</div>
<div class="line"><span class="lineno">  277</span>        <span class="comment">//motion key at previous frame</span></div>
<div class="line"><span class="lineno">  278</span>        <span class="keyword">const</span> gtsam::Symbol object_motion_key_k_1 = frame_node_k_1-&gt;makeObjectMotionKey(object_id);</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>        <span class="keyword">auto</span> object_smoothing_noise = <a class="code hl_variable" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a>.<a class="code hl_variable" href="structdyno_1_1NoiseModels.html#acf038fec49e230c17c8481d74b4e1f26">object_smoothing_noise</a>;</div>
<div class="line"><span class="lineno">  281</span>        CHECK(object_smoothing_noise);</div>
<div class="line"><span class="lineno">  282</span>        CHECK_EQ(object_smoothing_noise-&gt;dim(), 6u);</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>        {</div>
<div class="line"><span class="lineno">  285</span>            <a class="code hl_typedef" href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">ObjectId</a> object_label_k_1, object_label_k;</div>
<div class="line"><span class="lineno">  286</span>            <a class="code hl_typedef" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k_1, frame_id_k;</div>
<div class="line"><span class="lineno">  287</span>            CHECK(<a class="code hl_function" href="namespacedyno.html#ad34e646d0720164e3f4430ec5b1716e7">reconstructMotionInfo</a>(object_motion_key_k_1, object_label_k_1, frame_id_k_1));</div>
<div class="line"><span class="lineno">  288</span>            CHECK(<a class="code hl_function" href="namespacedyno.html#ad34e646d0720164e3f4430ec5b1716e7">reconstructMotionInfo</a>(object_motion_key_k, object_label_k, frame_id_k));</div>
<div class="line"><span class="lineno">  289</span>            CHECK_EQ(object_label_k_1, object_label_k);</div>
<div class="line"><span class="lineno">  290</span>            CHECK_EQ(frame_id_k_1 + 1, frame_id_k); <span class="comment">//assumes consequative frames</span></div>
<div class="line"><span class="lineno">  291</span>        }</div>
<div class="line"><span class="lineno">  292</span> </div>
<div class="line"><span class="lineno">  293</span>        <span class="comment">//if the motion key at k (motion from k-1 to k), and key at k-1 (motion from k-2 to k-1)</span></div>
<div class="line"><span class="lineno">  294</span>        <span class="comment">//exists in the map or is about to exist via new values, add the smoothing factor</span></div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">if</span>(<a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.exists(object_motion_key_k_1) &amp;&amp; <a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.exists(object_motion_key_k)) {</div>
<div class="line"><span class="lineno">  296</span>            new_factors.emplace_shared&lt;gtsam::BetweenFactor&lt;gtsam::Pose3&gt;&gt;(</div>
<div class="line"><span class="lineno">  297</span>                object_motion_key_k_1,</div>
<div class="line"><span class="lineno">  298</span>                object_motion_key_k,</div>
<div class="line"><span class="lineno">  299</span>                gtsam::Pose3::Identity(),</div>
<div class="line"><span class="lineno">  300</span>                object_smoothing_noise</div>
<div class="line"><span class="lineno">  301</span>            );</div>
<div class="line"><span class="lineno">  302</span>            <span class="keywordflow">if</span>(result.debug_info) result.debug_info-&gt;getObjectInfo(context.getObjectId()).smoothing_factor_added = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  303</span> </div>
<div class="line"><span class="lineno">  304</span>            <span class="comment">// object_debug_info.smoothing_factor_added = true;</span></div>
<div class="line"><span class="lineno">  305</span>        }</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>        <span class="comment">// if(smoothing_added) {</span></div>
<div class="line"><span class="lineno">  308</span>        <span class="comment">//     //TODO: add back in</span></div>
<div class="line"><span class="lineno">  309</span>        <span class="comment">//     // object_debug_info.smoothing_factor_added = true;</span></div>
<div class="line"><span class="lineno">  310</span>        <span class="comment">// }</span></div>
<div class="line"><span class="lineno">  311</span> </div>
<div class="line"><span class="lineno">  312</span>    }</div>
<div class="line"><span class="lineno">  313</span> </div>
<div class="line"><span class="lineno">  314</span> </div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>}</div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_af8fa9cd53878c20db3b398f702e45b49"><div class="ttname"><a href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">dyno::Formulation&lt; Map3d2d &gt;::is_other_values_in_map</a></div><div class="ttdeci">gtsam::FastMap&lt; gtsam::Key, bool &gt; is_other_values_in_map</div><div class="ttdoc">the set of (static related) values managed by this updater. Allows checking if values have already be...</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00448">Formulation.hpp:448</a></div></div>
<div class="ttc" id="anamespacedyno_html_a38bb86e4154b86428b8d133be03fb2b5"><div class="ttname"><a href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">dyno::ObjectId</a></div><div class="ttdeci">int ObjectId</div><div class="ttdoc">Discrete object id, j.</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00068">Types.hpp:68</a></div></div>
<div class="ttc" id="anamespacedyno_html_a6549470bc523e57ef4bfa81eed756659"><div class="ttname"><a href="namespacedyno.html#a6549470bc523e57ef4bfa81eed756659">dyno::Motion3</a></div><div class="ttdeci">gtsam::Pose3 Motion3</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00101">Types.hpp:101</a></div></div>
<div class="ttc" id="anamespacedyno_html_ac4303d6fafb755f794b072d76f9cfb41"><div class="ttname"><a href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">dyno::FrameId</a></div><div class="ttdeci">size_t FrameId</div><div class="ttdoc">Discrete time-step k.</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00072">Types.hpp:72</a></div></div>
<div class="ttc" id="anamespacedyno_html_ad34e646d0720164e3f4430ec5b1716e7"><div class="ttname"><a href="namespacedyno.html#ad34e646d0720164e3f4430ec5b1716e7">dyno::reconstructMotionInfo</a></div><div class="ttdeci">bool reconstructMotionInfo(gtsam::Key key, ObjectId &amp;object_label, FrameId &amp;frame_id)</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8cc_source.html#l00055">BackendDefinitions.cc:55</a></div></div>
<div class="ttc" id="astructdyno_1_1NoiseModels_html_acf038fec49e230c17c8481d74b4e1f26"><div class="ttname"><a href="structdyno_1_1NoiseModels.html#acf038fec49e230c17c8481d74b4e1f26">dyno::NoiseModels::object_smoothing_noise</a></div><div class="ttdeci">gtsam::SharedNoiseModel object_smoothing_noise</div><div class="ttdoc">Contant velocity noise model between motions.</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00103">BackendDefinitions.hpp:103</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">dyno::Formulation&lt; Map3d2d &gt;::accessorFromTheta()</a>, <a class="el" href="structdyno_1_1UpdateObservationResult.html#a8a980ad2e2f463b0a78b5c6e8a412976">dyno::UpdateObservationResult::debug_info</a>, <a class="el" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">dyno::Formulation&lt; Map3d2d &gt;::is_other_values_in_map</a>, <a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">dyno::Formulation&lt; Map3d2d &gt;::map()</a>, <a class="el" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">dyno::Formulation&lt; Map3d2d &gt;::noise_models_</a>, <a class="el" href="structdyno_1_1NoiseModels.html#acf038fec49e230c17c8481d74b4e1f26">dyno::NoiseModels::object_smoothing_noise</a>, and <a class="el" href="namespacedyno.html#ad34e646d0720164e3f4430ec5b1716e7">dyno::reconstructMotionInfo()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldMotionFormulation_a3889c53e3fdf718a4cbab8d615f757f0_cgraph.png" border="0" usemap="#aclassdyno_1_1WorldMotionFormulation_a3889c53e3fdf718a4cbab8d615f757f0_cgraph" alt=""/></div>
<map name="aclassdyno_1_1WorldMotionFormulation_a3889c53e3fdf718a4cbab8d615f757f0_cgraph" id="aclassdyno_1_1WorldMotionFormulation_a3889c53e3fdf718a4cbab8d615f757f0_cgraph">
<area shape="rect" title=" " alt="" coords="5,69,228,109"/>
<area shape="rect" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de" title="Public fucntion to access the Accessor for the derived formulation." alt="" coords="276,5,512,45"/>
<area shape="rect" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f" title="Get the map used by the formulation." alt="" coords="319,69,469,109"/>
<area shape="rect" href="namespacedyno.html#ad34e646d0720164e3f4430ec5b1716e7" title=" " alt="" coords="291,134,497,159"/>
<area shape="rect" href="namespacedyno.html#ad70315ebece77edf55dcc69980a345f1" title=" " alt="" coords="560,134,775,159"/>
<area shape="rect" href="namespacedyno.html#ad6fa332f8e592219dee9f3f3acec4d3e" title=" " alt="" coords="823,134,1032,159"/>
</map>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>dynosam/include/dynosam/backend/rgbd/<a class="el" href="WorldMotionEstimator_8hpp_source.html">WorldMotionEstimator.hpp</a></li>
<li>dynosam/src/backend/rgbd/<a class="el" href="WorldMotionEstimator_8cc_source.html">WorldMotionEstimator.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
