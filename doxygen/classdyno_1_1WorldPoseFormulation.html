<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DynoSAM: dyno::WorldPoseFormulation Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DynoSAM
   </div>
   <div id="projectbrief">Dynamic Object Smoothing and Mapping for Dynamic SLAM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedyno.html">dyno</a></li><li class="navelem"><a class="el" href="classdyno_1_1WorldPoseFormulation.html">WorldPoseFormulation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="classdyno_1_1WorldPoseFormulation-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dyno::WorldPoseFormulation Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for dyno::WorldPoseFormulation:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldPoseFormulation__inherit__graph.png" border="0" usemap="#adyno_1_1WorldPoseFormulation_inherit__map" alt="Inheritance graph"/></div>
<map name="adyno_1_1WorldPoseFormulation_inherit__map" id="adyno_1_1WorldPoseFormulation_inherit__map">
<area shape="rect" title=" " alt="" coords="13,93,221,119"/>
<area shape="rect" href="classdyno_1_1WorldMotionFormulation.html" title=" " alt="" coords="5,167,228,192"/>
<area shape="rect" href="classdyno_1_1Formulation.html" title=" " alt="" coords="41,5,192,45"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for dyno::WorldPoseFormulation:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldPoseFormulation__coll__graph.png" border="0" usemap="#adyno_1_1WorldPoseFormulation_coll__map" alt="Collaboration graph"/></div>
<map name="adyno_1_1WorldPoseFormulation_coll__map" id="adyno_1_1WorldPoseFormulation_coll__map">
<area shape="rect" title=" " alt="" coords="265,257,473,283"/>
<area shape="rect" href="classdyno_1_1Formulation.html" title=" " alt="" coords="293,168,444,208"/>
<area shape="rect" href="structdyno_1_1FormulationParams.html" title="Basic parameters for a Formulation. Right now is just directly the BackendParams since there is lots ..." alt="" coords="5,80,193,105"/>
<area shape="rect" href="structdyno_1_1BackendParams.html" title=" " alt="" coords="17,5,182,31"/>
<area shape="rect" href="structdyno_1_1NoiseModels.html" title=" " alt="" coords="218,80,365,105"/>
<area shape="rect" href="structdyno_1_1Sensors.html" title="Encapsulation of various sensor types, giving the Formulation access to different models." alt="" coords="389,80,503,105"/>
<area shape="rect" href="structdyno_1_1FormulationHooks.html" title="Defines a set of input hooks to the formulation that allow communication to outside the formulation." alt="" coords="527,80,709,105"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:aa1e8046f9fe7559b216cc603b8ae312b"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#aa1e8046f9fe7559b216cc603b8ae312b">Base</a> = <a class="el" href="classdyno_1_1Formulation.html">Formulation</a>&lt; <a class="el" href="namespacedyno.html#a72bee4f7b14bccf278baafa6b99dc83f">MapVision</a> &gt;</td></tr>
<tr class="separator:aa1e8046f9fe7559b216cc603b8ae312b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; MapVision &gt;</a></td></tr>
<tr class="memitem:a0d23288e66f5eeb4022958765693a6e2 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> = <a class="el" href="namespacedyno.html#a72bee4f7b14bccf278baafa6b99dc83f">MapVision</a></td></tr>
<tr class="separator:a0d23288e66f5eeb4022958765693a6e2 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e9a7f6d55f4d622ac051dcd9530ff22 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a6e9a7f6d55f4d622ac051dcd9530ff22">This</a> = <a class="el" href="classdyno_1_1Formulation.html">Formulation</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a6e9a7f6d55f4d622ac051dcd9530ff22 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d2f31a8b905f003dec50bc08e832adb inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a1d2f31a8b905f003dec50bc08e832adb">MapTraitsType</a> = <a class="el" href="structdyno_1_1MapTraits.html">MapTraits</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a1d2f31a8b905f003dec50bc08e832adb inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c53ea227b7b8abb6e5490d6149af51 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ad5c53ea227b7b8abb6e5490d6149af51">MeasurementType</a> = typename <a class="el" href="structdyno_1_1MapTraits.html#a12b6c0f27a3a4cd1c9ceee571d41c2ca">MapTraitsType::MeasurementType</a></td></tr>
<tr class="separator:ad5c53ea227b7b8abb6e5490d6149af51 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab26582b919eeb3e37d6c4d5725d0a5af inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ab26582b919eeb3e37d6c4d5725d0a5af">MeasurementTraits</a> = <a class="el" href="structdyno_1_1measurement__traits.html">measurement_traits</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#ad5c53ea227b7b8abb6e5490d6149af51">MeasurementType</a> &gt;</td></tr>
<tr class="separator:ab26582b919eeb3e37d6c4d5725d0a5af inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a172e526e325ba2bdfef03640ef1802 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> = <a class="el" href="structdyno_1_1PointUpdateContext.html">PointUpdateContext</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a9a172e526e325ba2bdfef03640ef1802 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a8077c836f8dc574c084ed01f69d9c7 inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> = <a class="el" href="structdyno_1_1ObjectUpdateContext.html">ObjectUpdateContext</a>&lt; <a class="el" href="classdyno_1_1Formulation.html#a0d23288e66f5eeb4022958765693a6e2">Map</a> &gt;</td></tr>
<tr class="separator:a3a8077c836f8dc574c084ed01f69d9c7 inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abbf989e022a1574ccf1bcd7206b5242f inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#abbf989e022a1574ccf1bcd7206b5242f">AccessorType</a> = <a class="el" href="classdyno_1_1AccessorT.html">AccessorT</a>&lt; <a class="el" href="namespacedyno.html#a72bee4f7b14bccf278baafa6b99dc83f">MapVision</a> &gt;</td></tr>
<tr class="separator:abbf989e022a1574ccf1bcd7206b5242f inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61b5c915f46f13b09bfea05fef89b8f inherit pub_types_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aa61b5c915f46f13b09bfea05fef89b8f">AccessorTypePointer</a> = typename <a class="el" href="classdyno_1_1AccessorT.html">AccessorT</a>&lt; <a class="el" href="namespacedyno.html#a72bee4f7b14bccf278baafa6b99dc83f">MapVision</a> &gt;::Ptr</td></tr>
<tr class="separator:aa61b5c915f46f13b09bfea05fef89b8f inherit pub_types_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:afadf62500b5015d59be67f8202314f5f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#afadf62500b5015d59be67f8202314f5f">WorldPoseFormulation</a> (const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;<a class="el" href="classdyno_1_1Formulation.html#af6844b53df3a65e2fd2572c9ed21fc7a">params</a>, typename Map::Ptr <a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>, const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;noise_models, const <a class="el" href="structdyno_1_1Sensors.html">Sensors</a> &amp;<a class="el" href="classdyno_1_1Formulation.html#af1d0d91c1044e9813b93e055457762c3">sensors</a>, const <a class="el" href="structdyno_1_1FormulationHooks.html">FormulationHooks</a> &amp;<a class="el" href="classdyno_1_1Formulation.html#aa4f1f491d354f1c3e389fc7d21fdf94b">hooks</a>)</td></tr>
<tr class="separator:afadf62500b5015d59be67f8202314f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab028ca8dea28627a84f0498f148b9009"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#ab028ca8dea28627a84f0498f148b9009">~WorldPoseFormulation</a> ()</td></tr>
<tr class="separator:ab028ca8dea28627a84f0498f148b9009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e6e0a4af9b06496359ceb969405f0a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#ad1e6e0a4af9b06496359ceb969405f0a">dynamicPointUpdateCallback</a> (const <a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors) override</td></tr>
<tr class="separator:ad1e6e0a4af9b06496359ceb969405f0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe402643436b3cdf4b38748317c284c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a2fe402643436b3cdf4b38748317c284c">objectUpdateContext</a> (const <a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors) override</td></tr>
<tr class="separator:a2fe402643436b3cdf4b38748317c284c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e99543a54f33a3f9d9be0d203f1a765"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a2e99543a54f33a3f9d9be0d203f1a765">isDynamicTrackletInMap</a> (const typename <a class="el" href="structdyno_1_1MapTraits.html#a72db8cc0191a116471646c6302bea29b">MapTraitsType::LandmarkNodePtr</a> &amp;lmk_node) const override</td></tr>
<tr class="memdesc:a2e99543a54f33a3f9d9be0d203f1a765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual function to be implemented by derived class and indicates that the specified landmark exists within the graph already. This is used as part of the internal bookeeping.  <br /></td></tr>
<tr class="separator:a2e99543a54f33a3f9d9be0d203f1a765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; MapVision &gt;</a></td></tr>
<tr class="memitem:aecc181278cdbd66990d3f5acf8b3f583 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aecc181278cdbd66990d3f5acf8b3f583">Formulation</a> (const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;params, typename Map::Ptr map, const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;noise_models, const <a class="el" href="structdyno_1_1Sensors.html">Sensors</a> &amp;sensors, const <a class="el" href="structdyno_1_1FormulationHooks.html">FormulationHooks</a> &amp;hooks=<a class="el" href="structdyno_1_1FormulationHooks.html">FormulationHooks</a>())</td></tr>
<tr class="separator:aecc181278cdbd66990d3f5acf8b3f583 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12c70534b19467ff8ad447d10cbcec8f inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a12c70534b19467ff8ad447d10cbcec8f">~Formulation</a> ()=default</td></tr>
<tr class="separator:a12c70534b19467ff8ad447d10cbcec8f inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa882dfc5e5e0cc12a03184b08889ad7f inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">Map::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a> () const</td></tr>
<tr class="memdesc:aa882dfc5e5e0cc12a03184b08889ad7f inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the map used by the formulation.  <br /></td></tr>
<tr class="separator:aa882dfc5e5e0cc12a03184b08889ad7f inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab453db0a7949192fc9499aab026e012f inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const gtsam::Values &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ab453db0a7949192fc9499aab026e012f">getTheta</a> () const</td></tr>
<tr class="memdesc:ab453db0a7949192fc9499aab026e012f inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the current linearization point for this formulation. These values can be updated after external optimisation and are constructed by the derived formulation during update.  <br /></td></tr>
<tr class="separator:ab453db0a7949192fc9499aab026e012f inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87be187fbe18eee7b20ace93327ba4b8 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a87be187fbe18eee7b20ace93327ba4b8">setTheta</a> (const gtsam::Values &amp;linearization)</td></tr>
<tr class="memdesc:a87be187fbe18eee7b20ace93327ba4b8 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the full set of theta values (overrides them). This is used after external optimisation to update the values for the accessor which has a internal reference (pointer) to theta.  <br /></td></tr>
<tr class="separator:a87be187fbe18eee7b20ace93327ba4b8 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b5ff63de3f707bd29838b65ef7a2ec9 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a1b5ff63de3f707bd29838b65ef7a2ec9">updateTheta</a> (const gtsam::Values &amp;linearization)</td></tr>
<tr class="memdesc:a1b5ff63de3f707bd29838b65ef7a2ec9 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates and assigns new values to theta. This is used after external optimisation to update the values for the accessor which has a internal reference (pointer) to theta.  <br /></td></tr>
<tr class="separator:a1b5ff63de3f707bd29838b65ef7a2ec9 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5897842d346d80f87315ed7870d7d580 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const gtsam::NonlinearFactorGraph &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a5897842d346d80f87315ed7870d7d580">getGraph</a> () const</td></tr>
<tr class="memdesc:a5897842d346d80f87315ed7870d7d580 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the current graph associated with the current theta and constructed by the derived formulation. Along theta, this should be used by an external optimisation routine.  <br /></td></tr>
<tr class="separator:a5897842d346d80f87315ed7870d7d580 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4f1f491d354f1c3e389fc7d21fdf94b inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1FormulationHooks.html">FormulationHooks</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aa4f1f491d354f1c3e389fc7d21fdf94b">hooks</a> () const</td></tr>
<tr class="separator:aa4f1f491d354f1c3e389fc7d21fdf94b inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9dac5ca72057435a8d32ea285a32e4a inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ad9dac5ca72057435a8d32ea285a32e4a">noiseModels</a> () const</td></tr>
<tr class="separator:ad9dac5ca72057435a8d32ea285a32e4a inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d0d91c1044e9813b93e055457762c3 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1Sensors.html">Sensors</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#af1d0d91c1044e9813b93e055457762c3">sensors</a> () const</td></tr>
<tr class="separator:af1d0d91c1044e9813b93e055457762c3 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6844b53df3a65e2fd2572c9ed21fc7a inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#af6844b53df3a65e2fd2572c9ed21fc7a">params</a> () const</td></tr>
<tr class="separator:af6844b53df3a65e2fd2572c9ed21fc7a inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1882f4374cf29b9e4f52f6e8b65be288 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual gtsam::KeyFormatter&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a1882f4374cf29b9e4f52f6e8b65be288">formatter</a> () const</td></tr>
<tr class="memdesc:a1882f4374cf29b9e4f52f6e8b65be288 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom gtsam::Key formatter for this formulation. Defaults to DynosamKeyFormatter.  <br /></td></tr>
<tr class="separator:a1882f4374cf29b9e4f52f6e8b65be288 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12128e3301688948b5177633739e7561 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a12128e3301688948b5177633739e7561">format</a> (const gtsam::Key &amp;key) const</td></tr>
<tr class="separator:a12128e3301688948b5177633739e7561 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b9b3b3a6c14748b57725bee233bcca4 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4">getFullyQualifiedName</a> () const</td></tr>
<tr class="memdesc:a6b9b3b3a6c14748b57725bee233bcca4 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionally the FormulationParams::suffix if given.  <br /></td></tr>
<tr class="separator:a6b9b3b3a6c14748b57725bee233bcca4 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536dbcbdd6fcd6598fcedb7866cec1de inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">AccessorType::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">accessorFromTheta</a> () const</td></tr>
<tr class="memdesc:a536dbcbdd6fcd6598fcedb7866cec1de inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public fucntion to access the <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation.  <br /></td></tr>
<tr class="separator:a536dbcbdd6fcd6598fcedb7866cec1de inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7120e1acbc23eccf63f31b3861473e inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; Derived &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aca7120e1acbc23eccf63f31b3861473e">derivedAccessor</a> () const</td></tr>
<tr class="separator:aca7120e1acbc23eccf63f31b3861473e inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61251ff882e273eb439bb238e87762e4 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">BackendLogger::UniquePtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a61251ff882e273eb439bb238e87762e4">makeFullyQualifiedLogger</a> () const</td></tr>
<tr class="memdesc:a61251ff882e273eb439bb238e87762e4 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Makes a logger using the fully-qualified name for this formulation.  <br /></td></tr>
<tr class="separator:a61251ff882e273eb439bb238e87762e4 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6caf8df3de758b7e7e057bef6c25cd5d inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a6caf8df3de758b7e7e057bef6c25cd5d">addValuesFunctional</a> (std::function&lt; void(gtsam::Values &amp;)&gt; callback, gtsam::Values &amp;new_values)</td></tr>
<tr class="separator:a6caf8df3de758b7e7e057bef6c25cd5d inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64c7da9b26469af2ed77aee341e9080f inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a64c7da9b26469af2ed77aee341e9080f">addFactorsFunctional</a> (std::function&lt; void(gtsam::NonlinearFactorGraph &amp;)&gt; callback, gtsam::NonlinearFactorGraph &amp;new_factors)</td></tr>
<tr class="separator:a64c7da9b26469af2ed77aee341e9080f inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4faa879a9a9b3c93c78c337a9a54679 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ae4faa879a9a9b3c93c78c337a9a54679">addSensorPoseValue</a> (const gtsam::Pose3 &amp;X_W_k, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::Values &amp;new_values)</td></tr>
<tr class="separator:ae4faa879a9a9b3c93c78c337a9a54679 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a462debff02cf44e7f13b86969540dedc inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a462debff02cf44e7f13b86969540dedc">addSensorPosePriorFactor</a> (const gtsam::Pose3 &amp;X_W_k, gtsam::SharedNoiseModel noise_model, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::NonlinearFactorGraph &amp;new_factors)</td></tr>
<tr class="separator:a462debff02cf44e7f13b86969540dedc inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef00ff0f96ad2253cc394b8905065882 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aef00ff0f96ad2253cc394b8905065882">setInitialPose</a> (const gtsam::Pose3 &amp;T_world_camera, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::Values &amp;new_values)</td></tr>
<tr class="memdesc:aef00ff0f96ad2253cc394b8905065882 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a gtsam::Pose3 as a value in the graph at frame k.  <br /></td></tr>
<tr class="separator:aef00ff0f96ad2253cc394b8905065882 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32192676e4fab1dc4d35045373c155a3 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a32192676e4fab1dc4d35045373c155a3">setInitialPosePrior</a> (const gtsam::Pose3 &amp;T_world_camera, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::NonlinearFactorGraph &amp;new_factors)</td></tr>
<tr class="memdesc:a32192676e4fab1dc4d35045373c155a3 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds a pose prior on a value in the graph at frame k using the given pose value as the prior's mean.  <br /></td></tr>
<tr class="separator:a32192676e4fab1dc4d35045373c155a3 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74de91cf6b4755060af63627d28fed2c inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a74de91cf6b4755060af63627d28fed2c">updateStaticObservations</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors, const <a class="el" href="structdyno_1_1UpdateObservationParams.html">UpdateObservationParams</a> &amp;update_params)</td></tr>
<tr class="memdesc:a74de91cf6b4755060af63627d28fed2c inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the static-point part of the factor graph for frame k. This contains all the bookeeping logic to update the factor graph with static points.  <br /></td></tr>
<tr class="separator:a74de91cf6b4755060af63627d28fed2c inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78d57e7de23e30b9aa287a3939bb3a9 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ad78d57e7de23e30b9aa287a3939bb3a9">updateDynamicObservations</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors, const <a class="el" href="structdyno_1_1UpdateObservationParams.html">UpdateObservationParams</a> &amp;update_params)</td></tr>
<tr class="memdesc:ad78d57e7de23e30b9aa287a3939bb3a9 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the dyanmic-point part of the factor graph for frame k. This contains all the big-boi bookeeping logic to update the factor graph with dyanmic points and objects. This is where the virtual dynamicPointUpdateCallback and objectUpdateContext functions are called.  <br /></td></tr>
<tr class="separator:ad78d57e7de23e30b9aa287a3939bb3a9 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a559d73e69e026a67b5af2e7b8c1eae inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a7a559d73e69e026a67b5af2e7b8c1eae">logBackendFromMap</a> (const <a class="el" href="structdyno_1_1BackendMetaData.html">BackendMetaData</a> &amp;backend_info)</td></tr>
<tr class="memdesc:a7a559d73e69e026a67b5af2e7b8c1eae inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Logs all frames and values to file using <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> and <a class="el" href="classdyno_1_1BackendLogger.html">BackendLogger</a>. The <a class="el" href="structdyno_1_1BackendMetaData.html">BackendMetaData</a> provides meta-data and ground truth information for logging.  <br /></td></tr>
<tr class="separator:a7a559d73e69e026a67b5af2e7b8c1eae inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a019483b0b11a0a4500a8530a71d9dd18 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a019483b0b11a0a4500a8530a71d9dd18">preUpdate</a> (const <a class="el" href="structdyno_1_1PreUpdateData.html">PreUpdateData</a> &amp;)</td></tr>
<tr class="memdesc:a019483b0b11a0a4500a8530a71d9dd18 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pre update hook called in the RegularBackend after the map is updated with new measurements but before new values/factors are constructed from this formulation.  <br /></td></tr>
<tr class="separator:a019483b0b11a0a4500a8530a71d9dd18 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2454756d123ef13b0042041c4beaf525 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a2454756d123ef13b0042041c4beaf525">postUpdate</a> (const <a class="el" href="structdyno_1_1PostUpdateData.html">PostUpdateData</a> &amp;)</td></tr>
<tr class="memdesc:a2454756d123ef13b0042041c4beaf525 inherit pub_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post-update hook called in the RegulatBackend after graph construction and optimization!  <br /></td></tr>
<tr class="separator:a2454756d123ef13b0042041c4beaf525 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3369b4fa4dd649495e5bace0e9b715d9 inherit pub_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">gtsam::Pose3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a3369b4fa4dd649495e5bace0e9b715d9">getInitialOrLinearizedSensorPose</a> (<a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id) const</td></tr>
<tr class="separator:a3369b4fa4dd649495e5bace0e9b715d9 inherit pub_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4bc1d7f46c4f044bfbbd3273dd76b835"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdyno_1_1Formulation.html#aa61b5c915f46f13b09bfea05fef89b8f">AccessorTypePointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a4bc1d7f46c4f044bfbbd3273dd76b835">createAccessor</a> (const <a class="el" href="structdyno_1_1SharedFormulationData.html">SharedFormulationData</a> &amp;shared_data) const override</td></tr>
<tr class="memdesc:a4bc1d7f46c4f044bfbbd3273dd76b835"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the associated <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation. The accessor will contain a pointer to <a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44" title="Current linearisation that will be associated with the current graph.">This::theta_</a>, so that when the values are updated the accessor has access to the latest values.  <br /></td></tr>
<tr class="separator:a4bc1d7f46c4f044bfbbd3273dd76b835"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50488d29033d15a68f76fcaaffd63754"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a50488d29033d15a68f76fcaaffd63754">loggerPrefix</a> () const override</td></tr>
<tr class="memdesc:a50488d29033d15a68f76fcaaffd63754"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the base name of this formulation. This name will appear as part of the output logs and may be augmented with the FormulationParams::suffix, if given. To get the fully qualified name (the actual name that will appear in the logs), use <a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4" title="Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionall...">This::getFullyQualifiedName()</a>.  <br /></td></tr>
<tr class="separator:a50488d29033d15a68f76fcaaffd63754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; MapVision &gt;</a></td></tr>
<tr class="memitem:af93533f32a88133a492b5e3ed790267f inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#af93533f32a88133a492b5e3ed790267f">dynamicPointUpdateCallback</a> (const <a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors)=0</td></tr>
<tr class="memdesc:af93533f32a88133a492b5e3ed790267f inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual function to be implemented by derived class and indicates that a specific landmark has new measurements and new values/factors should be added. Details on the landmark to be updated are provied by the context. In general, this is used to add projection/motion factors and initial values for landmarks.  <br /></td></tr>
<tr class="separator:af93533f32a88133a492b5e3ed790267f inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37aa6f06b484ce9d3fe46312063281e5 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a37aa6f06b484ce9d3fe46312063281e5">objectUpdateContext</a> (const <a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> &amp;context, <a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;result, gtsam::Values &amp;new_values, gtsam::NonlinearFactorGraph &amp;new_factors)=0</td></tr>
<tr class="memdesc:a37aa6f06b484ce9d3fe46312063281e5 inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual function to be implemented by derived class and indicates that a specific object j and time-step k has been observed and its dynamic points updated in the graph, and associated values/factors should be added. Details on the object to be updated are provied by the context. In general, this is used to add smoothing factors and initial values for object motion/pose.  <br /></td></tr>
<tr class="separator:a37aa6f06b484ce9d3fe46312063281e5 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbe87537d35b8d21463d402342ef356 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a7cbe87537d35b8d21463d402342ef356">isDynamicTrackletInMap</a> (const typename <a class="el" href="structdyno_1_1MapTraits.html#a72db8cc0191a116471646c6302bea29b">MapTraitsType::LandmarkNodePtr</a> &amp;lmk_node) const=0</td></tr>
<tr class="memdesc:a7cbe87537d35b8d21463d402342ef356 inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Virtual function to be implemented by derived class and indicates that the specified landmark exists within the graph already. This is used as part of the internal bookeeping.  <br /></td></tr>
<tr class="separator:a7cbe87537d35b8d21463d402342ef356 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3902e16e40c4eb8215ddfb4b7a625c5 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aa3902e16e40c4eb8215ddfb4b7a625c5">loggerPrefix</a> () const=0</td></tr>
<tr class="memdesc:aa3902e16e40c4eb8215ddfb4b7a625c5 inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the base name of this formulation. This name will appear as part of the output logs and may be augmented with the FormulationParams::suffix, if given. To get the fully qualified name (the actual name that will appear in the logs), use <a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4" title="Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionall...">This::getFullyQualifiedName()</a>.  <br /></td></tr>
<tr class="separator:aa3902e16e40c4eb8215ddfb4b7a625c5 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c9f31b5f14e48ddb5f6e98a67c0f5ec inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">virtual AccessorType::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a8c9f31b5f14e48ddb5f6e98a67c0f5ec">createAccessor</a> (const <a class="el" href="structdyno_1_1SharedFormulationData.html">SharedFormulationData</a> &amp;shared_data) const=0</td></tr>
<tr class="memdesc:a8c9f31b5f14e48ddb5f6e98a67c0f5ec inherit pro_methods_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the associated <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation. The accessor will contain a pointer to <a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44" title="Current linearisation that will be associated with the current graph.">This::theta_</a>, so that when the values are updated the accessor has access to the latest values.  <br /></td></tr>
<tr class="separator:a8c9f31b5f14e48ddb5f6e98a67c0f5ec inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89cb9ff689b105b56a1cc8ccb48b2e2 inherit pro_methods_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#ac89cb9ff689b105b56a1cc8ccb48b2e2">clearGraph</a> ()</td></tr>
<tr class="separator:ac89cb9ff689b105b56a1cc8ccb48b2e2 inherit pro_methods_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a84a21b7e21d4db1de7686d04aba7be2f"><td class="memItemLeft" align="right" valign="top">gtsam::FastMap&lt; <a class="el" href="namespacedyno.html#afdd174eb44901fb205371d796287378c">TrackletId</a>, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">is_dynamic_tracklet_in_map_</a></td></tr>
<tr class="separator:a84a21b7e21d4db1de7686d04aba7be2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classdyno_1_1Formulation"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classdyno_1_1Formulation')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classdyno_1_1Formulation.html">dyno::Formulation&lt; MapVision &gt;</a></td></tr>
<tr class="memitem:a18df73bd68393b6b9860c6c332bd5496 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">params_</a></td></tr>
<tr class="separator:a18df73bd68393b6b9860c6c332bd5496 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100326929d58a9a30f663f51969058f9 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">Map::Ptr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a100326929d58a9a30f663f51969058f9">map_</a></td></tr>
<tr class="separator:a100326929d58a9a30f663f51969058f9 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e9e95a8f33f2da1fe8f7123feecf81c inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a></td></tr>
<tr class="separator:a0e9e95a8f33f2da1fe8f7123feecf81c inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ec8e41c8148577c2fd8b4457eeccf87 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1Sensors.html">Sensors</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#a5ec8e41c8148577c2fd8b4457eeccf87">sensors_</a></td></tr>
<tr class="separator:a5ec8e41c8148577c2fd8b4457eeccf87 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef524736402953c8f346ba7b2bb2112e inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structdyno_1_1FormulationHooks.html">FormulationHooks</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aef524736402953c8f346ba7b2bb2112e">hooks_</a></td></tr>
<tr class="separator:aef524736402953c8f346ba7b2bb2112e inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8fa9cd53878c20db3b398f702e45b49 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">gtsam::FastMap&lt; gtsam::Key, bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a></td></tr>
<tr class="separator:af8fa9cd53878c20db3b398f702e45b49 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aece87cef780a5692feeffc034e3dbd44 inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">gtsam::Values&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44">theta_</a></td></tr>
<tr class="memdesc:aece87cef780a5692feeffc034e3dbd44 inherit pro_attribs_classdyno_1_1Formulation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current linearisation that will be associated with the current graph.  <br /></td></tr>
<tr class="separator:aece87cef780a5692feeffc034e3dbd44 inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc461bd6dfa004c931e99356477104e inherit pro_attribs_classdyno_1_1Formulation"><td class="memItemLeft" align="right" valign="top">gtsam::NonlinearFactorGraph&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1Formulation.html#aabc461bd6dfa004c931e99356477104e">factors_</a></td></tr>
<tr class="separator:aabc461bd6dfa004c931e99356477104e inherit pro_attribs_classdyno_1_1Formulation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00055">55</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a id="aa1e8046f9fe7559b216cc603b8ae312b" name="aa1e8046f9fe7559b216cc603b8ae312b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1e8046f9fe7559b216cc603b8ae312b">&#9670;&#160;</a></span>Base</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">using <a class="el" href="classdyno_1_1WorldPoseFormulation.html#aa1e8046f9fe7559b216cc603b8ae312b">dyno::WorldPoseFormulation::Base</a> =  <a class="el" href="classdyno_1_1Formulation.html">Formulation</a>&lt;<a class="el" href="namespacedyno.html#a72bee4f7b14bccf278baafa6b99dc83f">MapVision</a>&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00057">57</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="afadf62500b5015d59be67f8202314f5f" name="afadf62500b5015d59be67f8202314f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afadf62500b5015d59be67f8202314f5f">&#9670;&#160;</a></span>WorldPoseFormulation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">dyno::WorldPoseFormulation::WorldPoseFormulation </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdyno_1_1FormulationParams.html">FormulationParams</a> &amp;&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">typename Map::Ptr&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdyno_1_1NoiseModels.html">NoiseModels</a> &amp;&#160;</td>
          <td class="paramname"><em>noise_models</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdyno_1_1Sensors.html">Sensors</a> &amp;&#160;</td>
          <td class="paramname"><em>sensors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structdyno_1_1FormulationHooks.html">FormulationHooks</a> &amp;&#160;</td>
          <td class="paramname"><em>hooks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00065">65</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   68</span>      : <a class="code hl_typedef" href="classdyno_1_1WorldPoseFormulation.html#aa1e8046f9fe7559b216cc603b8ae312b">Base</a>(<a class="code hl_function" href="classdyno_1_1Formulation.html#af6844b53df3a65e2fd2572c9ed21fc7a">params</a>, <a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>, noise_models, <a class="code hl_function" href="classdyno_1_1Formulation.html#af1d0d91c1044e9813b93e055457762c3">sensors</a>, <a class="code hl_function" href="classdyno_1_1Formulation.html#aa4f1f491d354f1c3e389fc7d21fdf94b">hooks</a>) {}</div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_aa4f1f491d354f1c3e389fc7d21fdf94b"><div class="ttname"><a href="classdyno_1_1Formulation.html#aa4f1f491d354f1c3e389fc7d21fdf94b">dyno::Formulation&lt; MapVision &gt;::hooks</a></div><div class="ttdeci">const FormulationHooks &amp; hooks() const</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00443">Formulation.hpp:443</a></div></div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_aa882dfc5e5e0cc12a03184b08889ad7f"><div class="ttname"><a href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">dyno::Formulation&lt; MapVision &gt;::map</a></div><div class="ttdeci">Map::Ptr map() const</div><div class="ttdoc">Get the map used by the formulation.</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00405">Formulation.hpp:405</a></div></div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_af1d0d91c1044e9813b93e055457762c3"><div class="ttname"><a href="classdyno_1_1Formulation.html#af1d0d91c1044e9813b93e055457762c3">dyno::Formulation&lt; MapVision &gt;::sensors</a></div><div class="ttdeci">const Sensors &amp; sensors() const</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00445">Formulation.hpp:445</a></div></div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_af6844b53df3a65e2fd2572c9ed21fc7a"><div class="ttname"><a href="classdyno_1_1Formulation.html#af6844b53df3a65e2fd2572c9ed21fc7a">dyno::Formulation&lt; MapVision &gt;::params</a></div><div class="ttdeci">const FormulationParams &amp; params() const</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00446">Formulation.hpp:446</a></div></div>
<div class="ttc" id="aclassdyno_1_1WorldPoseFormulation_html_aa1e8046f9fe7559b216cc603b8ae312b"><div class="ttname"><a href="classdyno_1_1WorldPoseFormulation.html#aa1e8046f9fe7559b216cc603b8ae312b">dyno::WorldPoseFormulation::Base</a></div><div class="ttdeci">Formulation&lt; MapVision &gt; Base</div><div class="ttdef"><b>Definition:</b> <a href="WorldPoseEstimator_8hpp_source.html#l00057">WorldPoseEstimator.hpp:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab028ca8dea28627a84f0498f148b9009" name="ab028ca8dea28627a84f0498f148b9009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab028ca8dea28627a84f0498f148b9009">&#9670;&#160;</a></span>~WorldPoseFormulation()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual dyno::WorldPoseFormulation::~WorldPoseFormulation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00069">69</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>{}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4bc1d7f46c4f044bfbbd3273dd76b835" name="a4bc1d7f46c4f044bfbbd3273dd76b835"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bc1d7f46c4f044bfbbd3273dd76b835">&#9670;&#160;</a></span>createAccessor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdyno_1_1Formulation.html#aa61b5c915f46f13b09bfea05fef89b8f">AccessorTypePointer</a> dyno::WorldPoseFormulation::createAccessor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structdyno_1_1SharedFormulationData.html">SharedFormulationData</a> &amp;&#160;</td>
          <td class="paramname"><em>shared_data</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates the associated <a class="el" href="classdyno_1_1Accessor.html" title="Accessor defines the interface between the structured output of a BackendModule and any formulation u...">Accessor</a> for the derived formulation. The accessor will contain a pointer to <a class="el" href="classdyno_1_1Formulation.html#aece87cef780a5692feeffc034e3dbd44" title="Current linearisation that will be associated with the current graph.">This::theta_</a>, so that when the values are updated the accessor has access to the latest values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">values</td><td>const gtsam::Values* </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>AccessorType::Ptr </dd></dl>

<p>Implements <a class="el" href="classdyno_1_1Formulation.html#a8c9f31b5f14e48ddb5f6e98a67c0f5ec">dyno::Formulation&lt; MapVision &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00087">87</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>                                                               {</div>
<div class="line"><span class="lineno">   89</span>    <span class="keywordflow">return</span> std::make_shared&lt;WorldPoseAccessor&gt;(shared_data, this-&gt;<a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>());</div>
<div class="line"><span class="lineno">   90</span>  }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">dyno::Formulation&lt; MapVision &gt;::map()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldPoseFormulation_a4bc1d7f46c4f044bfbbd3273dd76b835_cgraph.png" border="0" usemap="#aclassdyno_1_1WorldPoseFormulation_a4bc1d7f46c4f044bfbbd3273dd76b835_cgraph" alt=""/></div>
<map name="aclassdyno_1_1WorldPoseFormulation_a4bc1d7f46c4f044bfbbd3273dd76b835_cgraph" id="aclassdyno_1_1WorldPoseFormulation_a4bc1d7f46c4f044bfbbd3273dd76b835_cgraph">
<area shape="rect" title="Creates the associated Accessor for the derived formulation. The accessor will contain a pointer to T..." alt="" coords="5,5,213,45"/>
<area shape="rect" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f" title="Get the map used by the formulation." alt="" coords="261,5,412,45"/>
</map>
</div>

</div>
</div>
<a id="ad1e6e0a4af9b06496359ceb969405f0a" name="ad1e6e0a4af9b06496359ceb969405f0a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e6e0a4af9b06496359ceb969405f0a">&#9670;&#160;</a></span>dynamicPointUpdateCallback()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::WorldPoseFormulation::dynamicPointUpdateCallback </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1Formulation.html#a9a172e526e325ba2bdfef03640ef1802">PointUpdateContextType</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::Values &amp;&#160;</td>
          <td class="paramname"><em>new_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::NonlinearFactorGraph &amp;&#160;</td>
          <td class="paramname"><em>new_factors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8cc_source.html#l00089">89</a> of file <a class="el" href="WorldPoseEstimator_8cc_source.html">WorldPoseEstimator.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   91</span>                                                                     {</div>
<div class="line"><span class="lineno">   92</span>  <span class="keyword">const</span> <span class="keyword">auto</span> lmk_node = context.lmk_node;</div>
<div class="line"><span class="lineno">   93</span>  <span class="keyword">const</span> <span class="keyword">auto</span> frame_node_k_1 = context.frame_node_k_1;</div>
<div class="line"><span class="lineno">   94</span>  <span class="keyword">const</span> <span class="keyword">auto</span> frame_node_k = context.frame_node_k;</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>  <span class="keyword">auto</span> dynamic_point_noise = <a class="code hl_variable" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a>.<a class="code hl_variable" href="structdyno_1_1NoiseModels.html#aa0ba01119cae77c87c562c119497c8d0">dynamic_point_noise</a>;</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>  <span class="keyword">auto</span> theta_accessor = this-&gt;<a class="code hl_function" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">accessorFromTheta</a>();</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>  <span class="keyword">const</span> gtsam::Key object_point_key_k_1 =</div>
<div class="line"><span class="lineno">  101</span>      lmk_node-&gt;makeDynamicKey(frame_node_k_1-&gt;frame_id);</div>
<div class="line"><span class="lineno">  102</span>  <span class="keyword">const</span> gtsam::Key object_point_key_k =</div>
<div class="line"><span class="lineno">  103</span>      lmk_node-&gt;makeDynamicKey(frame_node_k-&gt;frame_id);</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>  <span class="comment">// if first motion (i.e first time we have both k-1 and k), add both at k-1</span></div>
<div class="line"><span class="lineno">  106</span>  <span class="comment">// and k</span></div>
<div class="line"><span class="lineno">  107</span>  <span class="keywordflow">if</span> (context.is_starting_motion_frame) {</div>
<div class="line"><span class="lineno">  108</span>    <span class="keyword">auto</span> [measured_point_local, measurement_covariance] =</div>
<div class="line"><span class="lineno">  109</span>        MeasurementTraits::pointWithCovariance(</div>
<div class="line"><span class="lineno">  110</span>            lmk_node-&gt;getMeasurement(frame_node_k_1));</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">params_</a>.<a class="code hl_function" href="structdyno_1_1BackendParams.html#a52c8dbf1d0bc61102e410ca896ce8db8">makeDynamicMeasurementsRobust</a>()) {</div>
<div class="line"><span class="lineno">  113</span>      measurement_covariance = <a class="code hl_function" href="namespacedyno_1_1factor__graph__tools.html#a77c3666aaffdca23d67d64240ed53914">factor_graph_tools::robustifyHuber</a>(</div>
<div class="line"><span class="lineno">  114</span>          <a class="code hl_variable" href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">params_</a>.<a class="code hl_variable" href="structdyno_1_1BackendParams.html#af863bf2642a031c6bfcfcf54479d56d4">k_huber_3d_points_</a>, measurement_covariance);</div>
<div class="line"><span class="lineno">  115</span>    }</div>
<div class="line"><span class="lineno">  116</span> </div>
<div class="line"><span class="lineno">  117</span>    new_factors.emplace_shared&lt;<a class="code hl_typedef" href="namespacedyno.html#ad2695c66ea8d7bd38aaa57ef1bca4365">PoseToPointFactor</a>&gt;(</div>
<div class="line"><span class="lineno">  118</span>        frame_node_k_1-&gt;makePoseKey(),  <span class="comment">// pose key at previous frames</span></div>
<div class="line"><span class="lineno">  119</span>        object_point_key_k_1, measured_point_local, measurement_covariance);</div>
<div class="line"><span class="lineno">  120</span>    <span class="comment">// object_debug_info.num_dynamic_factors++;</span></div>
<div class="line"><span class="lineno">  121</span>    result.updateAffectedObject(frame_node_k_1-&gt;frame_id,</div>
<div class="line"><span class="lineno">  122</span>                                context.getObjectId());</div>
<div class="line"><span class="lineno">  123</span>    <span class="keywordflow">if</span> (result.debug_info)</div>
<div class="line"><span class="lineno">  124</span>      result.debug_info-&gt;getObjectInfo(context.getObjectId())</div>
<div class="line"><span class="lineno">  125</span>          .num_dynamic_factors++;</div>
<div class="line"><span class="lineno">  126</span> </div>
<div class="line"><span class="lineno">  127</span>    <span class="comment">// add landmark at previous frame</span></div>
<div class="line"><span class="lineno">  128</span>    <a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a> lmk_world_k_1;</div>
<div class="line"><span class="lineno">  129</span>    <a class="code hl_function" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">getSafeQuery</a>(lmk_world_k_1,</div>
<div class="line"><span class="lineno">  130</span>                 theta_accessor-&gt;query&lt;<a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a>&gt;(object_point_key_k_1),</div>
<div class="line"><span class="lineno">  131</span>                 gtsam::Point3(context.X_k_1_measured * measured_point_local));</div>
<div class="line"><span class="lineno">  132</span>    new_values.insert(object_point_key_k_1, lmk_world_k_1);</div>
<div class="line"><span class="lineno">  133</span>    <span class="keywordflow">if</span> (result.debug_info)</div>
<div class="line"><span class="lineno">  134</span>      result.debug_info-&gt;getObjectInfo(context.getObjectId())</div>
<div class="line"><span class="lineno">  135</span>          .num_new_dynamic_points++;</div>
<div class="line"><span class="lineno">  136</span>  }</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>  <span class="comment">// previous point must be added by the previous iteration</span></div>
<div class="line"><span class="lineno">  139</span>  CHECK(new_values.exists(object_point_key_k_1) ||</div>
<div class="line"><span class="lineno">  140</span>        theta_accessor-&gt;exists(object_point_key_k_1));</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>  <span class="comment">// const Landmark measured_k =</span></div>
<div class="line"><span class="lineno">  143</span>  <span class="comment">// lmk_node-&gt;getMeasurement(frame_node_k).landmark;</span></div>
<div class="line"><span class="lineno">  144</span>  <span class="keyword">auto</span> [measured_point_local, measurement_covariance] =</div>
<div class="line"><span class="lineno">  145</span>      MeasurementTraits::pointWithCovariance(</div>
<div class="line"><span class="lineno">  146</span>          lmk_node-&gt;getMeasurement(frame_node_k));</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">params_</a>.<a class="code hl_function" href="structdyno_1_1BackendParams.html#a52c8dbf1d0bc61102e410ca896ce8db8">makeDynamicMeasurementsRobust</a>()) {</div>
<div class="line"><span class="lineno">  149</span>    measurement_covariance = <a class="code hl_function" href="namespacedyno_1_1factor__graph__tools.html#a77c3666aaffdca23d67d64240ed53914">factor_graph_tools::robustifyHuber</a>(</div>
<div class="line"><span class="lineno">  150</span>        <a class="code hl_variable" href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">params_</a>.<a class="code hl_variable" href="structdyno_1_1BackendParams.html#af863bf2642a031c6bfcfcf54479d56d4">k_huber_3d_points_</a>, measurement_covariance);</div>
<div class="line"><span class="lineno">  151</span>  }</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>  new_factors.emplace_shared&lt;<a class="code hl_typedef" href="namespacedyno.html#ad2695c66ea8d7bd38aaa57ef1bca4365">PoseToPointFactor</a>&gt;(</div>
<div class="line"><span class="lineno">  154</span>      frame_node_k</div>
<div class="line"><span class="lineno">  155</span>          -&gt;makePoseKey(),  <span class="comment">// pose key at this (in the iteration) frames</span></div>
<div class="line"><span class="lineno">  156</span>      object_point_key_k, measured_point_local, measurement_covariance);</div>
<div class="line"><span class="lineno">  157</span>  <span class="keywordflow">if</span> (result.debug_info)</div>
<div class="line"><span class="lineno">  158</span>    result.debug_info-&gt;getObjectInfo(context.getObjectId())</div>
<div class="line"><span class="lineno">  159</span>        .num_dynamic_factors++;</div>
<div class="line"><span class="lineno">  160</span>  result.updateAffectedObject(frame_node_k-&gt;frame_id, context.getObjectId());</div>
<div class="line"><span class="lineno">  161</span> </div>
<div class="line"><span class="lineno">  162</span>  <a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a> lmk_world_k;</div>
<div class="line"><span class="lineno">  163</span>  <a class="code hl_function" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">getSafeQuery</a>(lmk_world_k, theta_accessor-&gt;query&lt;<a class="code hl_typedef" href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">Landmark</a>&gt;(object_point_key_k),</div>
<div class="line"><span class="lineno">  164</span>               gtsam::Point3(context.X_k_measured * measured_point_local));</div>
<div class="line"><span class="lineno">  165</span>  new_values.insert(object_point_key_k, lmk_world_k);</div>
<div class="line"><span class="lineno">  166</span>  <span class="keywordflow">if</span> (result.debug_info)</div>
<div class="line"><span class="lineno">  167</span>    result.debug_info-&gt;getObjectInfo(context.getObjectId())</div>
<div class="line"><span class="lineno">  168</span>        .num_new_dynamic_points++;</div>
<div class="line"><span class="lineno">  169</span> </div>
<div class="line"><span class="lineno">  170</span>  <span class="keyword">const</span> gtsam::Key object_pose_k_1_key =</div>
<div class="line"><span class="lineno">  171</span>      frame_node_k_1-&gt;makeObjectPoseKey(context.getObjectId());</div>
<div class="line"><span class="lineno">  172</span>  <span class="keyword">const</span> gtsam::Key object_pose_k_key =</div>
<div class="line"><span class="lineno">  173</span>      frame_node_k-&gt;makeObjectPoseKey(context.getObjectId());</div>
<div class="line"><span class="lineno">  174</span> </div>
<div class="line"><span class="lineno">  175</span>  <span class="keyword">auto</span> landmark_motion_noise = <a class="code hl_variable" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a>.<a class="code hl_variable" href="structdyno_1_1NoiseModels.html#a83368aae44c18d90239c00dcf557729a">landmark_motion_noise</a>;</div>
<div class="line"><span class="lineno">  176</span>  new_factors.emplace_shared&lt;LandmarkMotionPoseFactor&gt;(</div>
<div class="line"><span class="lineno">  177</span>      object_point_key_k_1, object_point_key_k, object_pose_k_1_key,</div>
<div class="line"><span class="lineno">  178</span>      object_pose_k_key, landmark_motion_noise);</div>
<div class="line"><span class="lineno">  179</span>  result.updateAffectedObject(frame_node_k_1-&gt;frame_id, context.getObjectId());</div>
<div class="line"><span class="lineno">  180</span>  result.updateAffectedObject(frame_node_k-&gt;frame_id, context.getObjectId());</div>
<div class="line"><span class="lineno">  181</span>  <span class="keywordflow">if</span> (result.debug_info)</div>
<div class="line"><span class="lineno">  182</span>    result.debug_info-&gt;getObjectInfo(context.getObjectId())</div>
<div class="line"><span class="lineno">  183</span>        .num_motion_factors++;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>  <span class="comment">// mark as now in map</span></div>
<div class="line"><span class="lineno">  186</span>  <a class="code hl_variable" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">is_dynamic_tracklet_in_map_</a>.insert2(context.getTrackletId(), <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  187</span>}</div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_a0e9e95a8f33f2da1fe8f7123feecf81c"><div class="ttname"><a href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">dyno::Formulation&lt; MapVision &gt;::noise_models_</a></div><div class="ttdeci">const NoiseModels noise_models_</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00597">Formulation.hpp:597</a></div></div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_a18df73bd68393b6b9860c6c332bd5496"><div class="ttname"><a href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">dyno::Formulation&lt; MapVision &gt;::params_</a></div><div class="ttdeci">const FormulationParams params_</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00595">Formulation.hpp:595</a></div></div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_a536dbcbdd6fcd6598fcedb7866cec1de"><div class="ttname"><a href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">dyno::Formulation&lt; MapVision &gt;::accessorFromTheta</a></div><div class="ttdeci">AccessorType::Ptr accessorFromTheta() const</div><div class="ttdoc">Public fucntion to access the Accessor for the derived formulation.</div><div class="ttdef"><b>Definition:</b> <a href="Formulation-impl_8hpp_source.html#l00476">Formulation-impl.hpp:962</a></div></div>
<div class="ttc" id="aclassdyno_1_1WorldPoseFormulation_html_a84a21b7e21d4db1de7686d04aba7be2f"><div class="ttname"><a href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">dyno::WorldPoseFormulation::is_dynamic_tracklet_in_map_</a></div><div class="ttdeci">gtsam::FastMap&lt; TrackletId, bool &gt; is_dynamic_tracklet_in_map_</div><div class="ttdef"><b>Definition:</b> <a href="WorldPoseEstimator_8hpp_source.html#l00100">WorldPoseEstimator.hpp:100</a></div></div>
<div class="ttc" id="anamespacedyno_1_1factor__graph__tools_html_a77c3666aaffdca23d67d64240ed53914"><div class="ttname"><a href="namespacedyno_1_1factor__graph__tools.html#a77c3666aaffdca23d67d64240ed53914">dyno::factor_graph_tools::robustifyHuber</a></div><div class="ttdeci">gtsam::SharedNoiseModel robustifyHuber(double k, gtsam::SharedNoiseModel model)</div><div class="ttdoc">Wrapper on the creation of a robust Huber noise model from a Shared noise model.</div><div class="ttdef"><b>Definition:</b> <a href="FactorGraphTools_8cc_source.html#l00047">FactorGraphTools.cc:47</a></div></div>
<div class="ttc" id="anamespacedyno_html_a6c8dbdcd5e61797d494457220b875761"><div class="ttname"><a href="namespacedyno.html#a6c8dbdcd5e61797d494457220b875761">dyno::Landmark</a></div><div class="ttdeci">gtsam::Point3 Landmark</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00088">Types.hpp:88</a></div></div>
<div class="ttc" id="anamespacedyno_html_ad2695c66ea8d7bd38aaa57ef1bca4365"><div class="ttname"><a href="namespacedyno.html#ad2695c66ea8d7bd38aaa57ef1bca4365">dyno::PoseToPointFactor</a></div><div class="ttdeci">gtsam::PoseToPointFactor&lt; gtsam::Pose3, Landmark &gt; PoseToPointFactor</div><div class="ttdoc">Alias to a gtsam::PoseToPointFactor&lt;gtsam::Pose3, Landmark&gt;</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00053">BackendDefinitions.hpp:53</a></div></div>
<div class="ttc" id="anamespacedyno_html_ad5ce0869676f7888164ba26aceda60a9"><div class="ttname"><a href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">dyno::getSafeQuery</a></div><div class="ttdeci">bool getSafeQuery(ValueType &amp;result, const StateQuery&lt; ValueType &gt; &amp;query, const ValueType &amp;default_value)</div><div class="ttdoc">Safe getter to a StateQuery object. If the StateQuery is successful, result is set to the value of th...</div><div class="ttdef"><b>Definition:</b> <a href="MapNodes_8hpp_source.html#l00363">MapNodes.hpp:363</a></div></div>
<div class="ttc" id="astructdyno_1_1BackendParams_html_a52c8dbf1d0bc61102e410ca896ce8db8"><div class="ttname"><a href="structdyno_1_1BackendParams.html#a52c8dbf1d0bc61102e410ca896ce8db8">dyno::BackendParams::makeDynamicMeasurementsRobust</a></div><div class="ttdeci">bool makeDynamicMeasurementsRobust() const</div><div class="ttdoc">True if robust kernals are on and the dynamic point noise should also be robust.</div><div class="ttdef"><b>Definition:</b> <a href="BackendParams_8hpp_source.html#l00160">BackendParams.hpp:160</a></div></div>
<div class="ttc" id="astructdyno_1_1BackendParams_html_af863bf2642a031c6bfcfcf54479d56d4"><div class="ttname"><a href="structdyno_1_1BackendParams.html#af863bf2642a031c6bfcfcf54479d56d4">dyno::BackendParams::k_huber_3d_points_</a></div><div class="ttdeci">double k_huber_3d_points_</div><div class="ttdef"><b>Definition:</b> <a href="BackendParams_8hpp_source.html#l00092">BackendParams.hpp:92</a></div></div>
<div class="ttc" id="astructdyno_1_1NoiseModels_html_a83368aae44c18d90239c00dcf557729a"><div class="ttname"><a href="structdyno_1_1NoiseModels.html#a83368aae44c18d90239c00dcf557729a">dyno::NoiseModels::landmark_motion_noise</a></div><div class="ttdeci">gtsam::SharedNoiseModel landmark_motion_noise</div><div class="ttdoc">Noise on the landmark tenrary factor.</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00133">BackendDefinitions.hpp:133</a></div></div>
<div class="ttc" id="astructdyno_1_1NoiseModels_html_aa0ba01119cae77c87c562c119497c8d0"><div class="ttname"><a href="structdyno_1_1NoiseModels.html#aa0ba01119cae77c87c562c119497c8d0">dyno::NoiseModels::dynamic_point_noise</a></div><div class="ttdeci">gtsam::SharedNoiseModel dynamic_point_noise</div><div class="ttdoc">Isometric [3x3] noise model on dynamic points;.</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00137">BackendDefinitions.hpp:137</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">dyno::Formulation&lt; MapVision &gt;::accessorFromTheta()</a>, <a class="el" href="structdyno_1_1UpdateObservationResult.html#a8a980ad2e2f463b0a78b5c6e8a412976">dyno::UpdateObservationResult::debug_info</a>, <a class="el" href="structdyno_1_1NoiseModels.html#aa0ba01119cae77c87c562c119497c8d0">dyno::NoiseModels::dynamic_point_noise</a>, <a class="el" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">dyno::getSafeQuery()</a>, <a class="el" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">is_dynamic_tracklet_in_map_</a>, <a class="el" href="structdyno_1_1BackendParams.html#af863bf2642a031c6bfcfcf54479d56d4">dyno::BackendParams::k_huber_3d_points_</a>, <a class="el" href="structdyno_1_1NoiseModels.html#a83368aae44c18d90239c00dcf557729a">dyno::NoiseModels::landmark_motion_noise</a>, <a class="el" href="structdyno_1_1BackendParams.html#a52c8dbf1d0bc61102e410ca896ce8db8">dyno::BackendParams::makeDynamicMeasurementsRobust()</a>, <a class="el" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">dyno::Formulation&lt; MapVision &gt;::noise_models_</a>, <a class="el" href="classdyno_1_1Formulation.html#a18df73bd68393b6b9860c6c332bd5496">dyno::Formulation&lt; MapVision &gt;::params_</a>, <a class="el" href="namespacedyno_1_1factor__graph__tools.html#a77c3666aaffdca23d67d64240ed53914">dyno::factor_graph_tools::robustifyHuber()</a>, and <a class="el" href="structdyno_1_1UpdateObservationResult.html#a002ddcad2bc2b520dd274acc8370d0a9">dyno::UpdateObservationResult::updateAffectedObject()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldPoseFormulation_ad1e6e0a4af9b06496359ceb969405f0a_cgraph.png" border="0" usemap="#aclassdyno_1_1WorldPoseFormulation_ad1e6e0a4af9b06496359ceb969405f0a_cgraph" alt=""/></div>
<map name="aclassdyno_1_1WorldPoseFormulation_ad1e6e0a4af9b06496359ceb969405f0a_cgraph" id="aclassdyno_1_1WorldPoseFormulation_ad1e6e0a4af9b06496359ceb969405f0a_cgraph">
<area shape="rect" title=" " alt="" coords="5,134,228,174"/>
<area shape="rect" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de" title="Public fucntion to access the Accessor for the derived formulation." alt="" coords="306,5,513,60"/>
<area shape="rect" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9" title="Safe getter to a StateQuery object. If the StateQuery is successful, result is set to the value of th..." alt="" coords="334,84,485,109"/>
<area shape="rect" href="structdyno_1_1BackendParams.html#a52c8dbf1d0bc61102e410ca896ce8db8" title="True if robust kernals are on and the dynamic point noise should also be robust." alt="" coords="276,134,543,174"/>
<area shape="rect" href="namespacedyno_1_1factor__graph__tools.html#a77c3666aaffdca23d67d64240ed53914" title="Wrapper on the creation of a robust Huber noise model from a Shared noise model." alt="" coords="327,198,492,238"/>
<area shape="rect" href="structdyno_1_1UpdateObservationResult.html#a002ddcad2bc2b520dd274acc8370d0a9" title=" " alt="" coords="295,262,524,302"/>
<area shape="rect" href="classdyno_1_1StateQuery.html#af7ca5fb04717f5719c62a54b3b67fd17" title=" " alt="" coords="591,84,753,109"/>
<area shape="rect" href="namespacedyno.html#af86d00d51197894e11bd78ec0f84024a" title=" " alt="" coords="801,84,1013,109"/>
</map>
</div>

</div>
</div>
<a id="a2e99543a54f33a3f9d9be0d203f1a765" name="a2e99543a54f33a3f9d9be0d203f1a765"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e99543a54f33a3f9d9be0d203f1a765">&#9670;&#160;</a></span>isDynamicTrackletInMap()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dyno::WorldPoseFormulation::isDynamicTrackletInMap </td>
          <td>(</td>
          <td class="paramtype">const typename <a class="el" href="structdyno_1_1MapTraits.html#a72db8cc0191a116471646c6302bea29b">MapTraitsType::LandmarkNodePtr</a> &amp;&#160;</td>
          <td class="paramname"><em>lmk_node</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Virtual function to be implemented by derived class and indicates that the specified landmark exists within the graph already. This is used as part of the internal bookeeping. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">lmk_node</td><td>typename <a class="el" href="structdyno_1_1MapTraits.html#a72db8cc0191a116471646c6302bea29b">MapTraitsType::LandmarkNodePtr</a>&amp;. Pointer to a landmark node. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true </dd>
<dd>
false </dd></dl>

<p>Implements <a class="el" href="classdyno_1_1Formulation.html#a7cbe87537d35b8d21463d402342ef356">dyno::Formulation&lt; MapVision &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00080">80</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>                                                                            {</div>
<div class="line"><span class="lineno">   82</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#afdd174eb44901fb205371d796287378c">TrackletId</a> tracklet_id = lmk_node-&gt;tracklet_id;</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">is_dynamic_tracklet_in_map_</a>.exists(tracklet_id);</div>
<div class="line"><span class="lineno">   84</span>  }</div>
<div class="ttc" id="anamespacedyno_html_afdd174eb44901fb205371d796287378c"><div class="ttname"><a href="namespacedyno.html#afdd174eb44901fb205371d796287378c">dyno::TrackletId</a></div><div class="ttdeci">long int TrackletId</div><div class="ttdoc">Unique tracklet/landmark id, i.</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00081">Types.hpp:81</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1WorldPoseFormulation.html#a84a21b7e21d4db1de7686d04aba7be2f">is_dynamic_tracklet_in_map_</a>.</p>

</div>
</div>
<a id="a50488d29033d15a68f76fcaaffd63754" name="a50488d29033d15a68f76fcaaffd63754"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50488d29033d15a68f76fcaaffd63754">&#9670;&#160;</a></span>loggerPrefix()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dyno::WorldPoseFormulation::loggerPrefix </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Defines the base name of this formulation. This name will appear as part of the output logs and may be augmented with the FormulationParams::suffix, if given. To get the fully qualified name (the actual name that will appear in the logs), use <a class="el" href="classdyno_1_1Formulation.html#a6b9b3b3a6c14748b57725bee233bcca4" title="Get the fully qualified name of this formulation which is derived from the loggerPrefix and optionall...">This::getFullyQualifiedName()</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>std::string </dd></dl>

<p>Implements <a class="el" href="classdyno_1_1Formulation.html#aa3902e16e40c4eb8215ddfb4b7a625c5">dyno::Formulation&lt; MapVision &gt;</a>.</p>

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00092">92</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   92</span>{ <span class="keywordflow">return</span> <span class="stringliteral">&quot;wcpe&quot;</span>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a2fe402643436b3cdf4b38748317c284c" name="a2fe402643436b3cdf4b38748317c284c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fe402643436b3cdf4b38748317c284c">&#9670;&#160;</a></span>objectUpdateContext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::WorldPoseFormulation::objectUpdateContext </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1Formulation.html#a3a8077c836f8dc574c084ed01f69d9c7">ObjectUpdateContextType</a> &amp;&#160;</td>
          <td class="paramname"><em>context</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structdyno_1_1UpdateObservationResult.html">UpdateObservationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::Values &amp;&#160;</td>
          <td class="paramname"><em>new_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gtsam::NonlinearFactorGraph &amp;&#160;</td>
          <td class="paramname"><em>new_factors</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8cc_source.html#l00189">189</a> of file <a class="el" href="WorldPoseEstimator_8cc_source.html">WorldPoseEstimator.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  191</span>                                                                     {</div>
<div class="line"><span class="lineno">  192</span>  <span class="keyword">auto</span> frame_node_k = context.frame_node_k;</div>
<div class="line"><span class="lineno">  193</span>  <span class="keyword">const</span> gtsam::Key object_pose_key_k =</div>
<div class="line"><span class="lineno">  194</span>      frame_node_k-&gt;makeObjectPoseKey(context.getObjectId());</div>
<div class="line"><span class="lineno">  195</span> </div>
<div class="line"><span class="lineno">  196</span>  <span class="keyword">auto</span> theta_accessor = this-&gt;<a class="code hl_function" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">accessorFromTheta</a>();</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.exists(object_pose_key_k)) {</div>
<div class="line"><span class="lineno">  199</span>    <a class="code hl_typedef" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k_1 = context.getFrameId() - 1u;</div>
<div class="line"><span class="lineno">  200</span>    <span class="comment">// try and propogate from previous initalisation</span></div>
<div class="line"><span class="lineno">  201</span>    StateQuery&lt;gtsam::Pose3&gt; pose_k_1_query =</div>
<div class="line"><span class="lineno">  202</span>        theta_accessor-&gt;getObjectPose(frame_id_k_1, context.getObjectId());</div>
<div class="line"><span class="lineno">  203</span> </div>
<div class="line"><span class="lineno">  204</span>    <span class="comment">// first frame the object is seen in</span></div>
<div class="line"><span class="lineno">  205</span>    <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> first_seen_frame = context.object_node-&gt;getFirstSeenFrame();</div>
<div class="line"><span class="lineno">  206</span> </div>
<div class="line"><span class="lineno">  207</span>    <span class="comment">// takes me from k-1 to k</span></div>
<div class="line"><span class="lineno">  208</span>    <a class="code hl_typedef" href="namespacedyno.html#a6549470bc523e57ef4bfa81eed756659">Motion3</a> motion;</div>
<div class="line"><span class="lineno">  209</span>    gtsam::Pose3 object_pose_k;</div>
<div class="line"><span class="lineno">  210</span>    <span class="comment">// we have a motion from k-1 to k and a pose at k</span></div>
<div class="line"><span class="lineno">  211</span>    <span class="keywordflow">if</span> (<a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>()-&gt;hasInitialObjectMotion(context.getFrameId(),</div>
<div class="line"><span class="lineno">  212</span>                                      context.getObjectId(), &amp;motion) &amp;&amp;</div>
<div class="line"><span class="lineno">  213</span>        pose_k_1_query) {</div>
<div class="line"><span class="lineno">  214</span>      object_pose_k = motion * pose_k_1_query.get();</div>
<div class="line"><span class="lineno">  215</span>      CHECK_NE(first_seen_frame, context.getFrameId());</div>
<div class="line"><span class="lineno">  216</span> </div>
<div class="line"><span class="lineno">  217</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  218</span>      <span class="comment">// no motion or previous pose, so initalise with centroid translation and</span></div>
<div class="line"><span class="lineno">  219</span>      <span class="comment">// identity rotation</span></div>
<div class="line"><span class="lineno">  220</span>      <span class="keyword">const</span> <span class="keyword">auto</span> [centroid_initial, result] =</div>
<div class="line"><span class="lineno">  221</span>          theta_accessor-&gt;computeObjectCentroid(context.getFrameId(),</div>
<div class="line"><span class="lineno">  222</span>                                                context.getObjectId());</div>
<div class="line"><span class="lineno">  223</span>      CHECK(result);</div>
<div class="line"><span class="lineno">  224</span>      gtsam::Pose3 initial_object_pose(gtsam::Rot3::Identity(),</div>
<div class="line"><span class="lineno">  225</span>                                       centroid_initial);</div>
<div class="line"><span class="lineno">  226</span> </div>
<div class="line"><span class="lineno">  227</span>      <a class="code hl_function" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">getSafeQuery</a>(object_pose_k,</div>
<div class="line"><span class="lineno">  228</span>                   theta_accessor-&gt;query&lt;gtsam::Pose3&gt;(object_pose_key_k),</div>
<div class="line"><span class="lineno">  229</span>                   initial_object_pose);</div>
<div class="line"><span class="lineno">  230</span> </div>
<div class="line"><span class="lineno">  231</span>      <span class="comment">// CHECK_EQ(first_seen_frame, context.getFrameId());</span></div>
<div class="line"><span class="lineno">  232</span>    }</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>    <span class="comment">// for experiments and testing</span></div>
<div class="line"><span class="lineno">  235</span>    <span class="keyword">constexpr</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> init_LL_with_identity = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  236</span>    <span class="keyword">constexpr</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> use_identity_rot_L_for_init = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  237</span>    <span class="keyword">constexpr</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> corrupt_L_for_init = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  238</span>    <span class="keywordflow">if</span> (init_LL_with_identity &amp;&amp; pose_k_1_query) {</div>
<div class="line"><span class="lineno">  239</span>      object_pose_k = pose_k_1_query.get();</div>
<div class="line"><span class="lineno">  240</span>    }</div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">if</span> (use_identity_rot_L_for_init) {</div>
<div class="line"><span class="lineno">  242</span>      <span class="keyword">auto</span> tmp_pose =</div>
<div class="line"><span class="lineno">  243</span>          gtsam::Pose3(gtsam::Rot3::Identity(), object_pose_k.translation());</div>
<div class="line"><span class="lineno">  244</span>      object_pose_k = tmp_pose;</div>
<div class="line"><span class="lineno">  245</span>    }</div>
<div class="line"><span class="lineno">  246</span>    <span class="keywordflow">if</span> (corrupt_L_for_init) {</div>
<div class="line"><span class="lineno">  247</span>      object_pose_k = utils::perturbWithNoise&lt;gtsam::Pose3&gt;(object_pose_k, 0.2);</div>
<div class="line"><span class="lineno">  248</span>    }</div>
<div class="line"><span class="lineno">  249</span> </div>
<div class="line"><span class="lineno">  250</span>    LOG(INFO) &lt;&lt; <span class="stringliteral">&quot;Adding object pose &quot;</span> &lt;&lt; object_pose_k &lt;&lt; <span class="stringliteral">&quot; object id &quot;</span></div>
<div class="line"><span class="lineno">  251</span>              &lt;&lt; context.getObjectId();</div>
<div class="line"><span class="lineno">  252</span> </div>
<div class="line"><span class="lineno">  253</span>    new_values.insert(object_pose_key_k, object_pose_k);</div>
<div class="line"><span class="lineno">  254</span>    <a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.insert2(object_pose_key_k, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  255</span>    VLOG(50) &lt;&lt; <span class="stringliteral">&quot;Adding object pose key &quot;</span></div>
<div class="line"><span class="lineno">  256</span>             &lt;&lt; <a class="code hl_function" href="namespacedyno.html#af86d00d51197894e11bd78ec0f84024a">DynosamKeyFormatter</a>(object_pose_key_k);</div>
<div class="line"><span class="lineno">  257</span>  }</div>
<div class="line"><span class="lineno">  258</span> </div>
<div class="line"><span class="lineno">  259</span>  <span class="keywordflow">if</span> (FLAGS_use_smoothing_factor) {</div>
<div class="line"><span class="lineno">  260</span>    <span class="keyword">const</span> <span class="keyword">auto</span> frame_id = context.getFrameId();</div>
<div class="line"><span class="lineno">  261</span>    <span class="keyword">const</span> <span class="keyword">auto</span> object_id = context.getObjectId();</div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">if</span> (frame_id &lt; 2) <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  263</span> </div>
<div class="line"><span class="lineno">  264</span>    <span class="keyword">auto</span> frame_node_k_2 = <a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>()-&gt;getFrame(frame_id - 2u);</div>
<div class="line"><span class="lineno">  265</span>    <span class="keyword">auto</span> frame_node_k_1 = <a class="code hl_function" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">map</a>()-&gt;getFrame(frame_id - 1u);</div>
<div class="line"><span class="lineno">  266</span> </div>
<div class="line"><span class="lineno">  267</span>    <span class="keywordflow">if</span> (!frame_node_k_2 || !frame_node_k_1) {</div>
<div class="line"><span class="lineno">  268</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>    <span class="comment">// pose key at k-2</span></div>
<div class="line"><span class="lineno">  272</span>    <span class="keyword">const</span> gtsam::Symbol object_pose_key_k_2 =</div>
<div class="line"><span class="lineno">  273</span>        frame_node_k_2-&gt;makeObjectPoseKey(object_id);</div>
<div class="line"><span class="lineno">  274</span>    <span class="comment">// pose key at previous frame (k-1)</span></div>
<div class="line"><span class="lineno">  275</span>    <span class="keyword">const</span> gtsam::Symbol object_pose_key_k_1 =</div>
<div class="line"><span class="lineno">  276</span>        frame_node_k_1-&gt;makeObjectPoseKey(object_id);</div>
<div class="line"><span class="lineno">  277</span> </div>
<div class="line"><span class="lineno">  278</span>    <span class="keyword">auto</span> object_smoothing_noise = <a class="code hl_variable" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">noise_models_</a>.<a class="code hl_variable" href="structdyno_1_1NoiseModels.html#acf038fec49e230c17c8481d74b4e1f26">object_smoothing_noise</a>;</div>
<div class="line"><span class="lineno">  279</span>    CHECK(object_smoothing_noise);</div>
<div class="line"><span class="lineno">  280</span>    CHECK_EQ(object_smoothing_noise-&gt;dim(), 6u);</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    {</div>
<div class="line"><span class="lineno">  283</span>      <a class="code hl_typedef" href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">ObjectId</a> object_label_k_2, object_label_k_1, object_label_k;</div>
<div class="line"><span class="lineno">  284</span>      <a class="code hl_typedef" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k_2, frame_id_k_1, frame_id_k;</div>
<div class="line"><span class="lineno">  285</span>      CHECK(<a class="code hl_function" href="namespacedyno.html#a04d081eda6da8546260221d75c5265c6">reconstructPoseInfo</a>(object_pose_key_k_2, object_label_k_2,</div>
<div class="line"><span class="lineno">  286</span>                                frame_id_k_2));</div>
<div class="line"><span class="lineno">  287</span>      CHECK(<a class="code hl_function" href="namespacedyno.html#a04d081eda6da8546260221d75c5265c6">reconstructPoseInfo</a>(object_pose_key_k_1, object_label_k_1,</div>
<div class="line"><span class="lineno">  288</span>                                frame_id_k_1));</div>
<div class="line"><span class="lineno">  289</span>      CHECK(<a class="code hl_function" href="namespacedyno.html#a04d081eda6da8546260221d75c5265c6">reconstructPoseInfo</a>(object_pose_key_k, object_label_k, frame_id_k));</div>
<div class="line"><span class="lineno">  290</span>      CHECK_EQ(object_label_k_2, object_label_k);</div>
<div class="line"><span class="lineno">  291</span>      CHECK_EQ(object_label_k_1, object_label_k);</div>
<div class="line"><span class="lineno">  292</span>      CHECK_EQ(frame_id_k_1 + 1, frame_id_k);    <span class="comment">// assumes consequative frames</span></div>
<div class="line"><span class="lineno">  293</span>      CHECK_EQ(frame_id_k_2 + 1, frame_id_k_1);  <span class="comment">// assumes consequative frames</span></div>
<div class="line"><span class="lineno">  294</span>    }</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="comment">// if the motion key at k (motion from k-1 to k), and key at k-1 (motion</span></div>
<div class="line"><span class="lineno">  297</span>    <span class="comment">// from k-2 to k-1) exists in the map or is about to exist via new values,</span></div>
<div class="line"><span class="lineno">  298</span>    <span class="comment">// add the smoothing factor</span></div>
<div class="line"><span class="lineno">  299</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.exists(object_pose_key_k_1) &amp;&amp;</div>
<div class="line"><span class="lineno">  300</span>        <a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.exists(object_pose_key_k) &amp;&amp;</div>
<div class="line"><span class="lineno">  301</span>        <a class="code hl_variable" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">is_other_values_in_map</a>.exists(object_pose_key_k_2)) {</div>
<div class="line"><span class="lineno">  302</span>      new_factors.emplace_shared&lt;LandmarkPoseSmoothingFactor&gt;(</div>
<div class="line"><span class="lineno">  303</span>          object_pose_key_k_2, object_pose_key_k_1, object_pose_key_k,</div>
<div class="line"><span class="lineno">  304</span>          object_smoothing_noise);</div>
<div class="line"><span class="lineno">  305</span>      <span class="keywordflow">if</span> (result.debug_info)</div>
<div class="line"><span class="lineno">  306</span>        result.debug_info-&gt;getObjectInfo(object_id).smoothing_factor_added =</div>
<div class="line"><span class="lineno">  307</span>            <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  308</span>      VLOG(50) &lt;&lt; <span class="stringliteral">&quot;Adding smoothing &quot;</span></div>
<div class="line"><span class="lineno">  309</span>               &lt;&lt; <a class="code hl_function" href="namespacedyno.html#af86d00d51197894e11bd78ec0f84024a">DynosamKeyFormatter</a>(object_pose_key_k_2) &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span></div>
<div class="line"><span class="lineno">  310</span>               &lt;&lt; <a class="code hl_function" href="namespacedyno.html#af86d00d51197894e11bd78ec0f84024a">DynosamKeyFormatter</a>(object_pose_key_k);</div>
<div class="line"><span class="lineno">  311</span>    }</div>
<div class="line"><span class="lineno">  312</span>  }</div>
<div class="line"><span class="lineno">  313</span>}</div>
<div class="ttc" id="aclassdyno_1_1Formulation_html_af8fa9cd53878c20db3b398f702e45b49"><div class="ttname"><a href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">dyno::Formulation&lt; MapVision &gt;::is_other_values_in_map</a></div><div class="ttdeci">gtsam::FastMap&lt; gtsam::Key, bool &gt; is_other_values_in_map</div><div class="ttdef"><b>Definition:</b> <a href="Formulation_8hpp_source.html#l00602">Formulation.hpp:602</a></div></div>
<div class="ttc" id="anamespacedyno_html_a04d081eda6da8546260221d75c5265c6"><div class="ttname"><a href="namespacedyno.html#a04d081eda6da8546260221d75c5265c6">dyno::reconstructPoseInfo</a></div><div class="ttdeci">bool reconstructPoseInfo(gtsam::Key key, ObjectId &amp;object_label, FrameId &amp;frame_id)</div><div class="ttdef"><b>Definition:</b> <a href="Symbols_8cc_source.html#l00083">Symbols.cc:83</a></div></div>
<div class="ttc" id="anamespacedyno_html_a38bb86e4154b86428b8d133be03fb2b5"><div class="ttname"><a href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">dyno::ObjectId</a></div><div class="ttdeci">int ObjectId</div><div class="ttdoc">Discrete object id, j.</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00070">Types.hpp:70</a></div></div>
<div class="ttc" id="anamespacedyno_html_a6549470bc523e57ef4bfa81eed756659"><div class="ttname"><a href="namespacedyno.html#a6549470bc523e57ef4bfa81eed756659">dyno::Motion3</a></div><div class="ttdeci">gtsam::Pose3 Motion3</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00106">Types.hpp:106</a></div></div>
<div class="ttc" id="anamespacedyno_html_ac4303d6fafb755f794b072d76f9cfb41"><div class="ttname"><a href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">dyno::FrameId</a></div><div class="ttdeci">size_t FrameId</div><div class="ttdoc">Discrete time-step k.</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00074">Types.hpp:74</a></div></div>
<div class="ttc" id="anamespacedyno_html_af86d00d51197894e11bd78ec0f84024a"><div class="ttname"><a href="namespacedyno.html#af86d00d51197894e11bd78ec0f84024a">dyno::DynosamKeyFormatter</a></div><div class="ttdeci">std::string DynosamKeyFormatter(gtsam::Key)</div><div class="ttdef"><b>Definition:</b> <a href="Symbols_8cc_source.html#l00135">Symbols.cc:135</a></div></div>
<div class="ttc" id="astructdyno_1_1NoiseModels_html_acf038fec49e230c17c8481d74b4e1f26"><div class="ttname"><a href="structdyno_1_1NoiseModels.html#acf038fec49e230c17c8481d74b4e1f26">dyno::NoiseModels::object_smoothing_noise</a></div><div class="ttdeci">gtsam::SharedNoiseModel object_smoothing_noise</div><div class="ttdoc">Contant velocity noise model between motions.</div><div class="ttdef"><b>Definition:</b> <a href="BackendDefinitions_8hpp_source.html#l00135">BackendDefinitions.hpp:135</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de">dyno::Formulation&lt; MapVision &gt;::accessorFromTheta()</a>, <a class="el" href="structdyno_1_1UpdateObservationResult.html#a8a980ad2e2f463b0a78b5c6e8a412976">dyno::UpdateObservationResult::debug_info</a>, <a class="el" href="namespacedyno.html#af86d00d51197894e11bd78ec0f84024a">dyno::DynosamKeyFormatter()</a>, <a class="el" href="classdyno_1_1StateQuery.html#af7ca5fb04717f5719c62a54b3b67fd17">dyno::StateQuery&lt; ValueType &gt;::get()</a>, <a class="el" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9">dyno::getSafeQuery()</a>, <a class="el" href="classdyno_1_1Formulation.html#af8fa9cd53878c20db3b398f702e45b49">dyno::Formulation&lt; MapVision &gt;::is_other_values_in_map</a>, <a class="el" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f">dyno::Formulation&lt; MapVision &gt;::map()</a>, <a class="el" href="classdyno_1_1Formulation.html#a0e9e95a8f33f2da1fe8f7123feecf81c">dyno::Formulation&lt; MapVision &gt;::noise_models_</a>, <a class="el" href="structdyno_1_1NoiseModels.html#acf038fec49e230c17c8481d74b4e1f26">dyno::NoiseModels::object_smoothing_noise</a>, and <a class="el" href="namespacedyno.html#a04d081eda6da8546260221d75c5265c6">dyno::reconstructPoseInfo()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1WorldPoseFormulation_a2fe402643436b3cdf4b38748317c284c_cgraph.png" border="0" usemap="#aclassdyno_1_1WorldPoseFormulation_a2fe402643436b3cdf4b38748317c284c_cgraph" alt=""/></div>
<map name="aclassdyno_1_1WorldPoseFormulation_a2fe402643436b3cdf4b38748317c284c_cgraph" id="aclassdyno_1_1WorldPoseFormulation_a2fe402643436b3cdf4b38748317c284c_cgraph">
<area shape="rect" title=" " alt="" coords="5,154,213,194"/>
<area shape="rect" href="classdyno_1_1Formulation.html#a536dbcbdd6fcd6598fcedb7866cec1de" title="Public fucntion to access the Accessor for the derived formulation." alt="" coords="261,5,468,60"/>
<area shape="rect" href="namespacedyno.html#af86d00d51197894e11bd78ec0f84024a" title=" " alt="" coords="727,111,939,136"/>
<area shape="rect" href="classdyno_1_1StateQuery.html#af7ca5fb04717f5719c62a54b3b67fd17" title=" " alt="" coords="516,136,679,161"/>
<area shape="rect" href="namespacedyno.html#ad5ce0869676f7888164ba26aceda60a9" title="Safe getter to a StateQuery object. If the StateQuery is successful, result is set to the value of th..." alt="" coords="289,187,440,212"/>
<area shape="rect" href="classdyno_1_1Formulation.html#aa882dfc5e5e0cc12a03184b08889ad7f" title="Get the map used by the formulation." alt="" coords="289,237,440,277"/>
<area shape="rect" href="namespacedyno.html#a04d081eda6da8546260221d75c5265c6" title=" " alt="" coords="269,301,460,327"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a84a21b7e21d4db1de7686d04aba7be2f" name="a84a21b7e21d4db1de7686d04aba7be2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84a21b7e21d4db1de7686d04aba7be2f">&#9670;&#160;</a></span>is_dynamic_tracklet_in_map_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gtsam::FastMap&lt;<a class="el" href="namespacedyno.html#afdd174eb44901fb205371d796287378c">TrackletId</a>, bool&gt; dyno::WorldPoseFormulation::is_dynamic_tracklet_in_map_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="WorldPoseEstimator_8hpp_source.html#l00100">100</a> of file <a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1WorldMotionFormulation.html#ad60f9621d41608943694144aad4d2e22">dyno::WorldMotionFormulation::dynamicPointUpdateCallback()</a>, <a class="el" href="classdyno_1_1WorldPoseFormulation.html#ad1e6e0a4af9b06496359ceb969405f0a">dynamicPointUpdateCallback()</a>, and <a class="el" href="classdyno_1_1WorldPoseFormulation.html#a2e99543a54f33a3f9d9be0d203f1a765">isDynamicTrackletInMap()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>dynosam/include/dynosam/backend/rgbd/<a class="el" href="WorldPoseEstimator_8hpp_source.html">WorldPoseEstimator.hpp</a></li>
<li>dynosam/src/backend/rgbd/<a class="el" href="WorldPoseEstimator_8cc_source.html">WorldPoseEstimator.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
