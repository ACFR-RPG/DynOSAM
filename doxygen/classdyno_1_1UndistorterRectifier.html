<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DynoSAM: dyno::UndistorterRectifier Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DynoSAM
   </div>
   <div id="projectbrief">Dynamic Object Smoothing and Mapping for Dynamic SLAM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedyno.html">dyno</a></li><li class="navelem"><a class="el" href="classdyno_1_1UndistorterRectifier.html">UndistorterRectifier</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="classdyno_1_1UndistorterRectifier-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dyno::UndistorterRectifier Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>The <a class="el" href="classdyno_1_1UndistorterRectifier.html" title="The UndistorterRectifier class Computes undistortion maps and undistorts on a per-image basis....">UndistorterRectifier</a> class Computes undistortion maps and undistorts on a per-image basis. Optionally, one can also apply image rectification by providing a corresponding rotation matrix R.  
 <a href="classdyno_1_1UndistorterRectifier.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for dyno::UndistorterRectifier:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier__coll__graph.png" border="0" usemap="#adyno_1_1UndistorterRectifier_coll__map" alt="Collaboration graph"/></div>
<map name="adyno_1_1UndistorterRectifier_coll__map" id="adyno_1_1UndistorterRectifier_coll__map">
<area shape="rect" title="The UndistorterRectifier class Computes undistortion maps and undistorts on a per&#45;image basis...." alt="" coords="5,93,195,119"/>
<area shape="rect" href="classdyno_1_1CameraParams.html" title=" " alt="" coords="19,5,181,31"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaffa018d8098ac0c4916029c05340d0b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#aaffa018d8098ac0c4916029c05340d0b">UndistorterRectifier</a> (const cv::Mat &amp;P, const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;cam_params, const cv::Mat &amp;R=cv::Mat())</td></tr>
<tr class="memdesc:aaffa018d8098ac0c4916029c05340d0b"><td class="mdescLeft">&#160;</td><td class="mdescRight"><a class="el" href="classdyno_1_1UndistorterRectifier.html" title="The UndistorterRectifier class Computes undistortion maps and undistorts on a per-image basis....">UndistorterRectifier</a>.  <br /></td></tr>
<tr class="separator:aaffa018d8098ac0c4916029c05340d0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd1a5646e0b689009ac1d5b7454f65bb"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#abd1a5646e0b689009ac1d5b7454f65bb">~UndistorterRectifier</a> ()=default</td></tr>
<tr class="separator:abd1a5646e0b689009ac1d5b7454f65bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa55a8cd2fa64ee3b968f2be1d6acf19f"><td class="memItemLeft" align="right" valign="top">gtsam::Vector3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#aa55a8cd2fa64ee3b968f2be1d6acf19f">undistortKeypointAndGetVersor</a> (const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;keypoint) const</td></tr>
<tr class="memdesc:aa55a8cd2fa64ee3b968f2be1d6acf19f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Undistorts a single pixel and returns the corresponding versor (unit norm vector corresponding to bearing). The rectifciation and new camera matrix (R and P) are used from construction.  <br /></td></tr>
<tr class="separator:aa55a8cd2fa64ee3b968f2be1d6acf19f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80b4a50fd637142aee912e2aa0f200ee"><td class="memItemLeft" align="right" valign="top">gtsam::Vector3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a80b4a50fd637142aee912e2aa0f200ee">undistortKeypointAndGetProjectedVersor</a> (const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;keypoint) const</td></tr>
<tr class="separator:a80b4a50fd637142aee912e2aa0f200ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc5dd76c4ccb8e8ffb31a0ef7fe20853"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#acc5dd76c4ccb8e8ffb31a0ef7fe20853">undistortRectifyImage</a> (const cv::Mat &amp;img, cv::Mat &amp;undistorted_img) const</td></tr>
<tr class="memdesc:acc5dd76c4ccb8e8ffb31a0ef7fe20853"><td class="mdescLeft">&#160;</td><td class="mdescRight">undistortRectifyImage Given distorted (and optionally non-rectified) image, returns a distortion-free rectified one.  <br /></td></tr>
<tr class="separator:acc5dd76c4ccb8e8ffb31a0ef7fe20853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a870349a1e058dcd67b749bc8dcfbf9de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a870349a1e058dcd67b749bc8dcfbf9de">undistortRectifyKeypoints</a> (const <a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;keypoints, <a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;undistorted_keypoints) const</td></tr>
<tr class="memdesc:a870349a1e058dcd67b749bc8dcfbf9de"><td class="mdescLeft">&#160;</td><td class="mdescRight">undistortRectifyKeypoints Undistorts and rectifies a sparse set of keypoints (instead of a whole image), using OpenCV undistortPoints.  <br /></td></tr>
<tr class="separator:a870349a1e058dcd67b749bc8dcfbf9de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ae64676bd43fb299d9c72034fa3ee3c09"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">UndistortRectifyKeypoints</a> (const <a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;keypoints, <a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;undistorted_keypoints, const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;cam_params, std::optional&lt; cv::Mat &gt; P={}, std::optional&lt; cv::Mat &gt; R={})</td></tr>
<tr class="memdesc:ae64676bd43fb299d9c72034fa3ee3c09"><td class="mdescLeft">&#160;</td><td class="mdescRight">undistortRectifyKeypoints undistorts and rectifies  <br /></td></tr>
<tr class="separator:ae64676bd43fb299d9c72034fa3ee3c09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a210fba595205f9c9f36eb76bb37a7b69"><td class="memItemLeft" align="right" valign="top">static gtsam::Vector3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a210fba595205f9c9f36eb76bb37a7b69">UndistortKeypointAndGetVersor</a> (const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;keypoint, const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;cam_params, std::optional&lt; cv::Mat &gt; R={})</td></tr>
<tr class="memdesc:a210fba595205f9c9f36eb76bb37a7b69"><td class="mdescLeft">&#160;</td><td class="mdescRight">UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding versor. (unit norm vector corresponding to bearing).  <br /></td></tr>
<tr class="separator:a210fba595205f9c9f36eb76bb37a7b69"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af102413f7c20a9120b1e1d0a7d848c41"><td class="memItemLeft" align="right" valign="top">static gtsam::Vector3&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#af102413f7c20a9120b1e1d0a7d848c41">UndistortKeypointAndGetProjectedVersor</a> (const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;keypoint, const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;cam_params, std::optional&lt; cv::Mat &gt; P={}, std::optional&lt; cv::Mat &gt; R={})</td></tr>
<tr class="memdesc:af102413f7c20a9120b1e1d0a7d848c41"><td class="mdescLeft">&#160;</td><td class="mdescRight">UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding projected versor using the new camera matrix P If P is not provided, the camera matrix, K is used.  <br /></td></tr>
<tr class="separator:af102413f7c20a9120b1e1d0a7d848c41"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a4a4cf24ce89d70f3ec6c3c25051f4691"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a4a4cf24ce89d70f3ec6c3c25051f4691">initUndistortRectifyMaps</a> (const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;cam_params, const cv::Mat &amp;R, const cv::Mat &amp;P, cv::Mat *map_x, cv::Mat *map_y)</td></tr>
<tr class="memdesc:a4a4cf24ce89d70f3ec6c3c25051f4691"><td class="mdescLeft">&#160;</td><td class="mdescRight">initUndistortRectifyMaps Initialize pixel to pixel maps for undistortion and rectification. If rectification is not needed, as is the case with a monocular camera, the identity matrix should be passed as R.  <br /></td></tr>
<tr class="separator:a4a4cf24ce89d70f3ec6c3c25051f4691"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:af3048fe6825ee5417c7a1c06dd8b6bbf"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">map_x_</a></td></tr>
<tr class="separator:af3048fe6825ee5417c7a1c06dd8b6bbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7aaab8874540dccd0815892f7a8292b3"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">map_y_</a></td></tr>
<tr class="separator:a7aaab8874540dccd0815892f7a8292b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9ff20e8ca392571eb781fd02c28bed"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a8a9ff20e8ca392571eb781fd02c28bed">P_</a></td></tr>
<tr class="separator:a8a9ff20e8ca392571eb781fd02c28bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc5c190f5cab0f130e31caa29538bd2b"><td class="memItemLeft" align="right" valign="top">cv::Mat&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a></td></tr>
<tr class="separator:afc5c190f5cab0f130e31caa29538bd2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0736f046f29687fef6bcdddc4e424817"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a></td></tr>
<tr class="separator:a0736f046f29687fef6bcdddc4e424817"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01cc178f9ad842ad8c06ba87c2a249e0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a01cc178f9ad842ad8c06ba87c2a249e0">remap_use_constant_border_type_</a> = false</td></tr>
<tr class="separator:a01cc178f9ad842ad8c06ba87c2a249e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67854f4361d9cfc41898656abdc3334a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#a67854f4361d9cfc41898656abdc3334a">remap_interpolation_type_</a> = cv::INTER_LINEAR</td></tr>
<tr class="separator:a67854f4361d9cfc41898656abdc3334a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-static-attribs" name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:aab8943538ce56715b0157d460b92f6a5"><td class="memItemLeft" align="right" valign="top">static constexpr int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a> = CV_32FC1</td></tr>
<tr class="separator:aab8943538ce56715b0157d460b92f6a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The <a class="el" href="classdyno_1_1UndistorterRectifier.html" title="The UndistorterRectifier class Computes undistortion maps and undistorts on a per-image basis....">UndistorterRectifier</a> class Computes undistortion maps and undistorts on a per-image basis. Optionally, one can also apply image rectification by providing a corresponding rotation matrix R. </p>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00058">58</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="aaffa018d8098ac0c4916029c05340d0b" name="aaffa018d8098ac0c4916029c05340d0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaffa018d8098ac0c4916029c05340d0b">&#9670;&#160;</a></span>UndistorterRectifier()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dyno::UndistorterRectifier::UndistorterRectifier </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;&#160;</td>
          <td class="paramname"><em>cam_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>R</em> = <code>cv::Mat()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p><a class="el" href="classdyno_1_1UndistorterRectifier.html" title="The UndistorterRectifier class Computes undistortion maps and undistorts on a per-image basis....">UndistorterRectifier</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">P</td><td>new projection matrix after stereo rectification (identity if no stereo rectification needed). In the case of the monocular camera, P (new camera matrix) is usually equal to K (the camera matrix). See: <a href="https://docs.opencv.org/4.x/d9/d0c/group__calib3d.html#ga7dfb72c9cf9780a347fbe3d1c47e5d5a">https://docs.opencv.org/4.x/d9/d0c/group__calib3d.html#ga7dfb72c9cf9780a347fbe3d1c47e5d5a</a> P is normally set to P1 or P2 computed by cv::stereoRectify. </td></tr>
    <tr><td class="paramname">cam_params</td><td><a class="el" href="classdyno_1_1Camera.html">Camera</a> Parameters. </td></tr>
    <tr><td class="paramname">R</td><td>optional rotation matrix if you want to rectify image (aka apply a rotation matrix) typically computed by cv::stereoRectify. If you have a mono camera, you typically don't set this matrix. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00036">36</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   39</span>    : <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">map_x_</a>(), <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">map_y_</a>(), <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a8a9ff20e8ca392571eb781fd02c28bed">P_</a>(P), <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a>(R), <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a>(cam_params) {</div>
<div class="line"><span class="lineno">   40</span>  <a class="code hl_function" href="classdyno_1_1UndistorterRectifier.html#a4a4cf24ce89d70f3ec6c3c25051f4691">initUndistortRectifyMaps</a>(cam_params, R, P, &amp;<a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">map_x_</a>, &amp;<a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">map_y_</a>);</div>
<div class="line"><span class="lineno">   41</span>}</div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_a0736f046f29687fef6bcdddc4e424817"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">dyno::UndistorterRectifier::cam_params_</a></div><div class="ttdeci">CameraParams cam_params_</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00217">UndistortRectifier.hpp:217</a></div></div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_a4a4cf24ce89d70f3ec6c3c25051f4691"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#a4a4cf24ce89d70f3ec6c3c25051f4691">dyno::UndistorterRectifier::initUndistortRectifyMaps</a></div><div class="ttdeci">void initUndistortRectifyMaps(const CameraParams &amp;cam_params, const cv::Mat &amp;R, const cv::Mat &amp;P, cv::Mat *map_x, cv::Mat *map_y)</div><div class="ttdoc">initUndistortRectifyMaps Initialize pixel to pixel maps for undistortion and rectification....</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8cc_source.html#l00212">UndistortRectifier.cc:212</a></div></div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_a7aaab8874540dccd0815892f7a8292b3"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">dyno::UndistorterRectifier::map_y_</a></div><div class="ttdeci">cv::Mat map_y_</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00212">UndistortRectifier.hpp:212</a></div></div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_a8a9ff20e8ca392571eb781fd02c28bed"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#a8a9ff20e8ca392571eb781fd02c28bed">dyno::UndistorterRectifier::P_</a></div><div class="ttdeci">cv::Mat P_</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00214">UndistortRectifier.hpp:214</a></div></div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_af3048fe6825ee5417c7a1c06dd8b6bbf"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">dyno::UndistorterRectifier::map_x_</a></div><div class="ttdeci">cv::Mat map_x_</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00211">UndistortRectifier.hpp:211</a></div></div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_afc5c190f5cab0f130e31caa29538bd2b"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">dyno::UndistorterRectifier::R_</a></div><div class="ttdeci">cv::Mat R_</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00215">UndistortRectifier.hpp:215</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1UndistorterRectifier.html#a4a4cf24ce89d70f3ec6c3c25051f4691">initUndistortRectifyMaps()</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">map_x_</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">map_y_</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_aaffa018d8098ac0c4916029c05340d0b_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_aaffa018d8098ac0c4916029c05340d0b_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_aaffa018d8098ac0c4916029c05340d0b_cgraph" id="aclassdyno_1_1UndistorterRectifier_aaffa018d8098ac0c4916029c05340d0b_cgraph">
<area shape="rect" title="UndistorterRectifier." alt="" coords="5,133,195,173"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#a4a4cf24ce89d70f3ec6c3c25051f4691" title="initUndistortRectifyMaps Initialize pixel to pixel maps for undistortion and rectification...." alt="" coords="243,133,433,173"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="481,5,643,45"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="481,69,643,109"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="481,133,643,173"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#abee4c6077c08a626e78d8bdab667b935" title=" " alt="" coords="481,197,643,237"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="503,262,621,287"/>
</map>
</div>

</div>
</div>
<a id="abd1a5646e0b689009ac1d5b7454f65bb" name="abd1a5646e0b689009ac1d5b7454f65bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd1a5646e0b689009ac1d5b7454f65bb">&#9670;&#160;</a></span>~UndistorterRectifier()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual dyno::UndistorterRectifier::~UndistorterRectifier </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4a4cf24ce89d70f3ec6c3c25051f4691" name="a4a4cf24ce89d70f3ec6c3c25051f4691"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a4cf24ce89d70f3ec6c3c25051f4691">&#9670;&#160;</a></span>initUndistortRectifyMaps()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::UndistorterRectifier::initUndistortRectifyMaps </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;&#160;</td>
          <td class="paramname"><em>cam_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>R</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>P</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat *&#160;</td>
          <td class="paramname"><em>map_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat *&#160;</td>
          <td class="paramname"><em>map_y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>initUndistortRectifyMaps Initialize pixel to pixel maps for undistortion and rectification. If rectification is not needed, as is the case with a monocular camera, the identity matrix should be passed as R. </p>
<p>The function computes the joint undistortion and rectification transformation and represents the result in the form of maps for remap. The undistorted image looks like original, as if it is captured with a camera using the camera matrix = P and zero distortion. In case of a monocular camera, P is usually equal to cameraMatrix, or it can be computed by cv::getOptimalNewCameraMatrix for a better control over scaling. In case of a stereo camera, it is the output of stereo rectification (cv::stereoRectify)</p>
<p>NOTE: for stereo cameras, cam_params.P_ should be already computed using cv::stereoRectify().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cam_params</td><td><a class="el" href="classdyno_1_1Camera.html">Camera</a> Parameters. </td></tr>
    <tr><td class="paramname">R</td><td>optional rotation matrix if you want to rectify image (aka apply a rotation matrix typically computed by cv::stereoRectify). </td></tr>
    <tr><td class="paramname">P</td><td>new projection matrix after stereo rectification (identity if no stereo rectification needed). P is normally set to P1 or P2 computed by cv::stereoRectify. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00212">212</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>                  {</div>
<div class="line"><span class="lineno">  218</span>  CHECK_NOTNULL(map_x);</div>
<div class="line"><span class="lineno">  219</span>  CHECK_NOTNULL(map_y);</div>
<div class="line"><span class="lineno">  220</span>  <span class="comment">// static constexpr int kImageType = CV_32FC1;</span></div>
<div class="line"><span class="lineno">  221</span>  <span class="comment">// static constexpr int kImageType = CV_16SC2;</span></div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>  <span class="keyword">const</span> cv::Size image_size = cam_params.imageSize();</div>
<div class="line"><span class="lineno">  224</span>  <span class="keyword">const</span> cv::Mat&amp; distortion_matrix = cam_params.getDistortionCoeffs();</div>
<div class="line"><span class="lineno">  225</span>  <span class="keyword">const</span> cv::Mat&amp; camera_matrix = cam_params.getCameraMatrix();</div>
<div class="line"><span class="lineno">  226</span>  <span class="keyword">const</span> <a class="code hl_enumeration" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356">DistortionModel</a> distortion_model = cam_params.getDistortionModel();</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>  cv::Mat map_x_float, map_y_float;</div>
<div class="line"><span class="lineno">  230</span>  <span class="keywordflow">switch</span> (distortion_model) {</div>
<div class="line"><span class="lineno">  231</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356ab50339a10e1de285ac99d4c3990b8693">DistortionModel::NONE</a>: {</div>
<div class="line"><span class="lineno">  232</span>      map_x_float.create(image_size, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a>);</div>
<div class="line"><span class="lineno">  233</span>      map_y_float.create(image_size, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a>);</div>
<div class="line"><span class="lineno">  234</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  235</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a57d07fba056969bb09dcb1459746cde5">DistortionModel::RADTAN</a>: {</div>
<div class="line"><span class="lineno">  236</span>      cv::initUndistortRectifyMap(</div>
<div class="line"><span class="lineno">  237</span>          <span class="comment">// Input</span></div>
<div class="line"><span class="lineno">  238</span>          camera_matrix,</div>
<div class="line"><span class="lineno">  239</span>          distortion_matrix,</div>
<div class="line"><span class="lineno">  240</span>          R,</div>
<div class="line"><span class="lineno">  241</span>          P,</div>
<div class="line"><span class="lineno">  242</span>          image_size,</div>
<div class="line"><span class="lineno">  243</span>          <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a>,</div>
<div class="line"><span class="lineno">  244</span>          <span class="comment">// Output:</span></div>
<div class="line"><span class="lineno">  245</span>          map_x_float,</div>
<div class="line"><span class="lineno">  246</span>          map_y_float);</div>
<div class="line"><span class="lineno">  247</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  248</span>    <span class="comment">//TODO: Jesse should this not also be for FISH_EYE model?</span></div>
<div class="line"><span class="lineno">  249</span>    <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a00d0cd9f6b32fb176671646968102e78">DistortionModel::EQUIDISTANT</a>: {</div>
<div class="line"><span class="lineno">  250</span>      cv::fisheye::initUndistortRectifyMap(</div>
<div class="line"><span class="lineno">  251</span>          <span class="comment">// Input,</span></div>
<div class="line"><span class="lineno">  252</span>          camera_matrix,</div>
<div class="line"><span class="lineno">  253</span>          distortion_matrix,</div>
<div class="line"><span class="lineno">  254</span>          R,</div>
<div class="line"><span class="lineno">  255</span>          P,</div>
<div class="line"><span class="lineno">  256</span>          image_size,</div>
<div class="line"><span class="lineno">  257</span>          <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a>,</div>
<div class="line"><span class="lineno">  258</span>          <span class="comment">// Output:</span></div>
<div class="line"><span class="lineno">  259</span>          map_x_float,</div>
<div class="line"><span class="lineno">  260</span>          map_y_float);</div>
<div class="line"><span class="lineno">  261</span>    } <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  262</span>    <span class="keywordflow">default</span>: {</div>
<div class="line"><span class="lineno">  263</span>      LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;Unknown distortion model: &quot;</span></div>
<div class="line"><span class="lineno">  264</span>                 &lt;&lt; <a class="code hl_function" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d">to_string</a>(distortion_model) &lt;&lt; <span class="stringliteral">&quot; when constructing undistortion maps&quot;</span>;</div>
<div class="line"><span class="lineno">  265</span>    }</div>
<div class="line"><span class="lineno">  266</span>  }</div>
<div class="line"><span class="lineno">  267</span> </div>
<div class="line"><span class="lineno">  268</span>  <span class="comment">//TODO: (Jesse) experiment with what marcus was talking about</span></div>
<div class="line"><span class="lineno">  269</span>  <span class="comment">// TODO(marcus): can we add this in without causing errors like before?</span></div>
<div class="line"><span class="lineno">  270</span>  <span class="comment">// The reason we convert from floating to fixed-point representations</span></div>
<div class="line"><span class="lineno">  271</span>  <span class="comment">// of a map is that they can yield much faster (~2x) remapping operations.</span></div>
<div class="line"><span class="lineno">  272</span>  <span class="comment">// cv::convertMaps(map_x_float, map_y_float, *map_x, *map_y, CV_16SC2, false);</span></div>
<div class="line"><span class="lineno">  273</span> </div>
<div class="line"><span class="lineno">  274</span>  *map_x = map_x_float;</div>
<div class="line"><span class="lineno">  275</span>  *map_y = map_y_float;</div>
<div class="line"><span class="lineno">  276</span>}</div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_aab8943538ce56715b0157d460b92f6a5"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">dyno::UndistorterRectifier::kRectifyImageType</a></div><div class="ttdeci">static constexpr int kRectifyImageType</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00219">UndistortRectifier.hpp:219</a></div></div>
<div class="ttc" id="anamespacedyno_html_a7118762ab4c63de4996b3983b5b82356"><div class="ttname"><a href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356">dyno::DistortionModel</a></div><div class="ttdeci">DistortionModel</div><div class="ttdef"><b>Definition:</b> <a href="CameraParams_8hpp_source.html#l00054">CameraParams.hpp:54</a></div></div>
<div class="ttc" id="anamespacedyno_html_a7118762ab4c63de4996b3983b5b82356a00d0cd9f6b32fb176671646968102e78"><div class="ttname"><a href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a00d0cd9f6b32fb176671646968102e78">dyno::DistortionModel::EQUIDISTANT</a></div><div class="ttdeci">@ EQUIDISTANT</div></div>
<div class="ttc" id="anamespacedyno_html_a7118762ab4c63de4996b3983b5b82356a57d07fba056969bb09dcb1459746cde5"><div class="ttname"><a href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a57d07fba056969bb09dcb1459746cde5">dyno::DistortionModel::RADTAN</a></div><div class="ttdeci">@ RADTAN</div></div>
<div class="ttc" id="anamespacedyno_html_a7118762ab4c63de4996b3983b5b82356ab50339a10e1de285ac99d4c3990b8693"><div class="ttname"><a href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356ab50339a10e1de285ac99d4c3990b8693">dyno::DistortionModel::NONE</a></div><div class="ttdeci">@ NONE</div></div>
<div class="ttc" id="anamespacedyno_html_a809604e427db44cbf532a545c71a3b5d"><div class="ttname"><a href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d">dyno::to_string</a></div><div class="ttdeci">std::string to_string(const T &amp;t)</div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a00d0cd9f6b32fb176671646968102e78">dyno::EQUIDISTANT</a>, <a class="el" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a">dyno::CameraParams::getCameraMatrix()</a>, <a class="el" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd">dyno::CameraParams::getDistortionCoeffs()</a>, <a class="el" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304">dyno::CameraParams::getDistortionModel()</a>, <a class="el" href="classdyno_1_1CameraParams.html#abee4c6077c08a626e78d8bdab667b935">dyno::CameraParams::imageSize()</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a>, <a class="el" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356ab50339a10e1de285ac99d4c3990b8693">dyno::NONE</a>, <a class="el" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a57d07fba056969bb09dcb1459746cde5">dyno::RADTAN</a>, and <a class="el" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d">dyno::to_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#aaffa018d8098ac0c4916029c05340d0b">UndistorterRectifier()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_cgraph" id="aclassdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_cgraph">
<area shape="rect" title="initUndistortRectifyMaps Initialize pixel to pixel maps for undistortion and rectification...." alt="" coords="5,133,196,173"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="244,5,405,45"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="244,69,405,109"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="244,133,405,173"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#abee4c6077c08a626e78d8bdab667b935" title=" " alt="" coords="244,197,405,237"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="265,262,384,287"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_icgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_icgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_icgraph" id="aclassdyno_1_1UndistorterRectifier_a4a4cf24ce89d70f3ec6c3c25051f4691_icgraph">
<area shape="rect" title="initUndistortRectifyMaps Initialize pixel to pixel maps for undistortion and rectification...." alt="" coords="243,5,433,45"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#aaffa018d8098ac0c4916029c05340d0b" title="UndistorterRectifier." alt="" coords="5,5,195,45"/>
</map>
</div>

</div>
</div>
<a id="a80b4a50fd637142aee912e2aa0f200ee" name="a80b4a50fd637142aee912e2aa0f200ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80b4a50fd637142aee912e2aa0f200ee">&#9670;&#160;</a></span>undistortKeypointAndGetProjectedVersor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gtsam::Vector3 dyno::UndistorterRectifier::undistortKeypointAndGetProjectedVersor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoint</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00152">152</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  152</span>                                                                                                        {</div>
<div class="line"><span class="lineno">  153</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdyno_1_1UndistorterRectifier.html#af102413f7c20a9120b1e1d0a7d848c41">UndistortKeypointAndGetProjectedVersor</a>(keypoint, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a>, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a8a9ff20e8ca392571eb781fd02c28bed">P_</a>, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a>);</div>
<div class="line"><span class="lineno">  154</span>}</div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_af102413f7c20a9120b1e1d0a7d848c41"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#af102413f7c20a9120b1e1d0a7d848c41">dyno::UndistorterRectifier::UndistortKeypointAndGetProjectedVersor</a></div><div class="ttdeci">static gtsam::Vector3 UndistortKeypointAndGetProjectedVersor(const Keypoint &amp;keypoint, const CameraParams &amp;cam_params, std::optional&lt; cv::Mat &gt; P={}, std::optional&lt; cv::Mat &gt; R={})</div><div class="ttdoc">UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding projected versor...</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8cc_source.html#l00119">UndistortRectifier.cc:119</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#a8a9ff20e8ca392571eb781fd02c28bed">P_</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#af102413f7c20a9120b1e1d0a7d848c41">UndistortKeypointAndGetProjectedVersor()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_a80b4a50fd637142aee912e2aa0f200ee_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_a80b4a50fd637142aee912e2aa0f200ee_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_a80b4a50fd637142aee912e2aa0f200ee_cgraph" id="aclassdyno_1_1UndistorterRectifier_a80b4a50fd637142aee912e2aa0f200ee_cgraph">
<area shape="rect" title=" " alt="" coords="5,85,260,139"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#af102413f7c20a9120b1e1d0a7d848c41" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding projected versor..." alt="" coords="308,85,564,139"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="883,5,1045,45"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09" title="undistortRectifyKeypoints undistorts and rectifies" alt="" coords="612,120,811,160"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2" title=" " alt="" coords="859,70,1069,95"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="883,120,1045,160"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="883,184,1045,224"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37" title=" " alt="" coords="859,249,1069,274"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="905,298,1023,323"/>
</map>
</div>

</div>
</div>
<a id="af102413f7c20a9120b1e1d0a7d848c41" name="af102413f7c20a9120b1e1d0a7d848c41"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af102413f7c20a9120b1e1d0a7d848c41">&#9670;&#160;</a></span>UndistortKeypointAndGetProjectedVersor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gtsam::Vector3 dyno::UndistorterRectifier::UndistortKeypointAndGetProjectedVersor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;&#160;</td>
          <td class="paramname"><em>cam_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; cv::Mat &gt;&#160;</td>
          <td class="paramname"><em>P</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; cv::Mat &gt;&#160;</td>
          <td class="paramname"><em>R</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding projected versor using the new camera matrix P If P is not provided, the camera matrix, K is used. </p>
<p>The projected version is calculated as K^{-1} * [u, v, 1] and then normalized</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keypoint</td><td>const Keypoints&amp; </td></tr>
    <tr><td class="paramname">cam_params</td><td>const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a>&amp; </td></tr>
    <tr><td class="paramname">P</td><td>std::optional&lt;cv::Mat&gt; new camera matrix used for the projections </td></tr>
    <tr><td class="paramname">R</td><td>std::optional&lt;cv::Mat&gt; not needed in the monocular case </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>gtsam::Vector3 </dd></dl>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00119">119</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  124</span>{</div>
<div class="line"><span class="lineno">  125</span>  <a class="code hl_typedef" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> distorted_keypoint;</div>
<div class="line"><span class="lineno">  126</span>  distorted_keypoint.push_back(keypoint);</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>  <a class="code hl_typedef" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> undistorted_keypoint;</div>
<div class="line"><span class="lineno">  129</span>  <a class="code hl_function" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">UndistorterRectifier::UndistortRectifyKeypoints</a>(</div>
<div class="line"><span class="lineno">  130</span>      distorted_keypoint,</div>
<div class="line"><span class="lineno">  131</span>      undistorted_keypoint,</div>
<div class="line"><span class="lineno">  132</span>      cam_params,</div>
<div class="line"><span class="lineno">  133</span>      std::nullopt,</div>
<div class="line"><span class="lineno">  134</span>      R);</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>  gtsam::Vector3 versor(</div>
<div class="line"><span class="lineno">  137</span>      undistorted_keypoint.at(0)(0), undistorted_keypoint.at(0)(1), 1.0);</div>
<div class="line"><span class="lineno">  138</span>  gtsam::Matrix K = gtsam::Matrix::Identity(3, 3);</div>
<div class="line"><span class="lineno">  139</span> </div>
<div class="line"><span class="lineno">  140</span>  <span class="keywordflow">if</span>(P) {</div>
<div class="line"><span class="lineno">  141</span>    <span class="comment">//construct K from new camera matrix P</span></div>
<div class="line"><span class="lineno">  142</span>    cv::cv2eigen(*P, K);</div>
<div class="line"><span class="lineno">  143</span>  }</div>
<div class="line"><span class="lineno">  144</span>  <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  145</span>    cv::cv2eigen(cam_params.getCameraMatrix(), K);</div>
<div class="line"><span class="lineno">  146</span>  }</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>  <span class="keywordflow">return</span> gtsam::Vector3 ( K.inverse() * versor).normalized();</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>}</div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_ae64676bd43fb299d9c72034fa3ee3c09"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">dyno::UndistorterRectifier::UndistortRectifyKeypoints</a></div><div class="ttdeci">static void UndistortRectifyKeypoints(const Keypoints &amp;keypoints, Keypoints &amp;undistorted_keypoints, const CameraParams &amp;cam_params, std::optional&lt; cv::Mat &gt; P={}, std::optional&lt; cv::Mat &gt; R={})</div><div class="ttdoc">undistortRectifyKeypoints undistorts and rectifies</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8cc_source.html#l00043">UndistortRectifier.cc:43</a></div></div>
<div class="ttc" id="anamespacedyno_html_a6e4b9811fc666e292979ad077f5cca41"><div class="ttname"><a href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">dyno::Keypoints</a></div><div class="ttdeci">gtsam::Point2Vector Keypoints</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00095">Types.hpp:95</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a">dyno::CameraParams::getCameraMatrix()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">UndistortRectifyKeypoints()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#a80b4a50fd637142aee912e2aa0f200ee">undistortKeypointAndGetProjectedVersor()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_cgraph" id="aclassdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_cgraph">
<area shape="rect" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding projected versor..." alt="" coords="5,85,261,139"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="581,5,742,45"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09" title="undistortRectifyKeypoints undistorts and rectifies" alt="" coords="309,120,508,160"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2" title=" " alt="" coords="556,70,767,95"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="581,120,742,160"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="581,184,742,224"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37" title=" " alt="" coords="556,249,767,274"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="602,298,721,323"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_icgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_icgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_icgraph" id="aclassdyno_1_1UndistorterRectifier_af102413f7c20a9120b1e1d0a7d848c41_icgraph">
<area shape="rect" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding projected versor..." alt="" coords="308,5,564,60"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#a80b4a50fd637142aee912e2aa0f200ee" title=" " alt="" coords="5,5,260,60"/>
</map>
</div>

</div>
</div>
<a id="aa55a8cd2fa64ee3b968f2be1d6acf19f" name="aa55a8cd2fa64ee3b968f2be1d6acf19f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa55a8cd2fa64ee3b968f2be1d6acf19f">&#9670;&#160;</a></span>undistortKeypointAndGetVersor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gtsam::Vector3 dyno::UndistorterRectifier::undistortKeypointAndGetVersor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoint</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Undistorts a single pixel and returns the corresponding versor (unit norm vector corresponding to bearing). The rectifciation and new camera matrix (R and P) are used from construction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keypoint</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>gtsam::Vector3 </dd></dl>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00115">115</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  115</span>                                                                                               {</div>
<div class="line"><span class="lineno">  116</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classdyno_1_1UndistorterRectifier.html#a210fba595205f9c9f36eb76bb37a7b69">UndistortKeypointAndGetVersor</a>(keypoint, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a>, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a>);</div>
<div class="line"><span class="lineno">  117</span>}</div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_a210fba595205f9c9f36eb76bb37a7b69"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#a210fba595205f9c9f36eb76bb37a7b69">dyno::UndistorterRectifier::UndistortKeypointAndGetVersor</a></div><div class="ttdeci">static gtsam::Vector3 UndistortKeypointAndGetVersor(const Keypoint &amp;keypoint, const CameraParams &amp;cam_params, std::optional&lt; cv::Mat &gt; R={})</div><div class="ttdoc">UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding versor....</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8cc_source.html#l00092">UndistortRectifier.cc:92</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#a210fba595205f9c9f36eb76bb37a7b69">UndistortKeypointAndGetVersor()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_aa55a8cd2fa64ee3b968f2be1d6acf19f_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_aa55a8cd2fa64ee3b968f2be1d6acf19f_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_aa55a8cd2fa64ee3b968f2be1d6acf19f_cgraph" id="aclassdyno_1_1UndistorterRectifier_aa55a8cd2fa64ee3b968f2be1d6acf19f_cgraph">
<area shape="rect" title="Undistorts a single pixel and returns the corresponding versor (unit norm vector corresponding to bea..." alt="" coords="5,151,240,191"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#a210fba595205f9c9f36eb76bb37a7b69" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding versor...." alt="" coords="288,151,524,191"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09" title="undistortRectifyKeypoints undistorts and rectifies" alt="" coords="572,151,771,191"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2" title=" " alt="" coords="819,5,1029,31"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="843,55,1005,95"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="843,119,1005,159"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="843,183,1005,223"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37" title=" " alt="" coords="819,248,1029,273"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="865,297,983,323"/>
</map>
</div>

</div>
</div>
<a id="a210fba595205f9c9f36eb76bb37a7b69" name="a210fba595205f9c9f36eb76bb37a7b69"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a210fba595205f9c9f36eb76bb37a7b69">&#9670;&#160;</a></span>UndistortKeypointAndGetVersor()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">gtsam::Vector3 dyno::UndistorterRectifier::UndistortKeypointAndGetVersor </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#aaa260a8022691078c59e1ac6a4fa05b5">Keypoint</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;&#160;</td>
          <td class="paramname"><em>cam_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; cv::Mat &gt;&#160;</td>
          <td class="paramname"><em>R</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding versor. (unit norm vector corresponding to bearing). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cv_px</td><td>keypoint </td></tr>
    <tr><td class="paramname">cam_params</td><td><a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> instance </td></tr>
    <tr><td class="paramname">R</td><td>std::optional&lt;cv::Mat&gt; not needed in the monocular case </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00092">92</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   96</span>{</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>  <a class="code hl_typedef" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> distorted_keypoint;</div>
<div class="line"><span class="lineno">   99</span>  distorted_keypoint.push_back(keypoint);</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>  <a class="code hl_typedef" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> undistorted_keypoint;</div>
<div class="line"><span class="lineno">  102</span>  <a class="code hl_function" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">UndistorterRectifier::UndistortRectifyKeypoints</a>(</div>
<div class="line"><span class="lineno">  103</span>      distorted_keypoint,</div>
<div class="line"><span class="lineno">  104</span>      undistorted_keypoint,</div>
<div class="line"><span class="lineno">  105</span>      cam_params,</div>
<div class="line"><span class="lineno">  106</span>      std::nullopt,</div>
<div class="line"><span class="lineno">  107</span>      R);</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>  <span class="comment">// Transform to unit vector.</span></div>
<div class="line"><span class="lineno">  110</span>  gtsam::Vector3 versor(</div>
<div class="line"><span class="lineno">  111</span>      undistorted_keypoint.at(0)(0), undistorted_keypoint.at(0)(1), 1.0);</div>
<div class="line"><span class="lineno">  112</span>  <span class="keywordflow">return</span> versor.normalized();</div>
<div class="line"><span class="lineno">  113</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">UndistortRectifyKeypoints()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#aa55a8cd2fa64ee3b968f2be1d6acf19f">undistortKeypointAndGetVersor()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_cgraph" id="aclassdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_cgraph">
<area shape="rect" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding versor...." alt="" coords="5,151,241,191"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09" title="undistortRectifyKeypoints undistorts and rectifies" alt="" coords="289,151,488,191"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2" title=" " alt="" coords="536,5,747,31"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="561,55,722,95"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="561,119,722,159"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="561,183,722,223"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37" title=" " alt="" coords="536,248,747,273"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="582,297,701,323"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_icgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_icgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_icgraph" id="aclassdyno_1_1UndistorterRectifier_a210fba595205f9c9f36eb76bb37a7b69_icgraph">
<area shape="rect" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding versor...." alt="" coords="288,5,524,45"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#aa55a8cd2fa64ee3b968f2be1d6acf19f" title="Undistorts a single pixel and returns the corresponding versor (unit norm vector corresponding to bea..." alt="" coords="5,5,240,45"/>
</map>
</div>

</div>
</div>
<a id="acc5dd76c4ccb8e8ffb31a0ef7fe20853" name="acc5dd76c4ccb8e8ffb31a0ef7fe20853"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc5dd76c4ccb8e8ffb31a0ef7fe20853">&#9670;&#160;</a></span>undistortRectifyImage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::UndistorterRectifier::undistortRectifyImage </td>
          <td>(</td>
          <td class="paramtype">const cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>img</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cv::Mat &amp;&#160;</td>
          <td class="paramname"><em>undistorted_img</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>undistortRectifyImage Given distorted (and optionally non-rectified) image, returns a distortion-free rectified one. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">img</td><td>Distorted non-rectified input image </td></tr>
    <tr><td class="paramname">undistorted_img</td><td>Undistorted Rectified output image </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00157">157</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  159</span>{</div>
<div class="line"><span class="lineno">  160</span>  CHECK_EQ(<a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">map_x_</a>.size, img.size);</div>
<div class="line"><span class="lineno">  161</span>  CHECK_EQ(<a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">map_y_</a>.size, img.size);</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>  <span class="keyword">const</span> <span class="keyword">auto</span> original_image_type = img.type();</div>
<div class="line"><span class="lineno">  164</span>  <span class="comment">//convert the input image into a CV type compatible with the rectify maps</span></div>
<div class="line"><span class="lineno">  165</span>  cv::Mat converted_img;</div>
<div class="line"><span class="lineno">  166</span>  img.copyTo(converted_img);</div>
<div class="line"><span class="lineno">  167</span>  converted_img.convertTo(converted_img, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a>);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>  cv::remap(converted_img,</div>
<div class="line"><span class="lineno">  170</span>            undistorted_img,</div>
<div class="line"><span class="lineno">  171</span>            <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">map_x_</a>,</div>
<div class="line"><span class="lineno">  172</span>            <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">map_y_</a>,</div>
<div class="line"><span class="lineno">  173</span>            <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a67854f4361d9cfc41898656abdc3334a">remap_interpolation_type_</a>,</div>
<div class="line"><span class="lineno">  174</span>            <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a01cc178f9ad842ad8c06ba87c2a249e0">remap_use_constant_border_type_</a> ? cv::BORDER_CONSTANT</div>
<div class="line"><span class="lineno">  175</span>                                            : cv::BORDER_REPLICATE);</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>  <span class="comment">//convert back to the original input image type</span></div>
<div class="line"><span class="lineno">  178</span>  undistorted_img.convertTo(undistorted_img, original_image_type);</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>}</div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_a01cc178f9ad842ad8c06ba87c2a249e0"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#a01cc178f9ad842ad8c06ba87c2a249e0">dyno::UndistorterRectifier::remap_use_constant_border_type_</a></div><div class="ttdeci">bool remap_use_constant_border_type_</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00222">UndistortRectifier.hpp:222</a></div></div>
<div class="ttc" id="aclassdyno_1_1UndistorterRectifier_html_a67854f4361d9cfc41898656abdc3334a"><div class="ttname"><a href="classdyno_1_1UndistorterRectifier.html#a67854f4361d9cfc41898656abdc3334a">dyno::UndistorterRectifier::remap_interpolation_type_</a></div><div class="ttdeci">int remap_interpolation_type_</div><div class="ttdef"><b>Definition:</b> <a href="UndistortRectifier_8hpp_source.html#l00223">UndistortRectifier.hpp:223</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1UndistorterRectifier.html#aab8943538ce56715b0157d460b92f6a5">kRectifyImageType</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#af3048fe6825ee5417c7a1c06dd8b6bbf">map_x_</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#a7aaab8874540dccd0815892f7a8292b3">map_y_</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#a67854f4361d9cfc41898656abdc3334a">remap_interpolation_type_</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#a01cc178f9ad842ad8c06ba87c2a249e0">remap_use_constant_border_type_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1ImageContainer.html#a1ca4c0a57616da9fa0dfd1e3bae9c469">dyno::ImageContainer::RectifyImages()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_acc5dd76c4ccb8e8ffb31a0ef7fe20853_icgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_acc5dd76c4ccb8e8ffb31a0ef7fe20853_icgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_acc5dd76c4ccb8e8ffb31a0ef7fe20853_icgraph" id="aclassdyno_1_1UndistorterRectifier_acc5dd76c4ccb8e8ffb31a0ef7fe20853_icgraph">
<area shape="rect" title="undistortRectifyImage Given distorted (and optionally non&#45;rectified) image, returns a distortion&#45;free..." alt="" coords="220,5,409,45"/>
<area shape="rect" href="classdyno_1_1ImageContainer.html#a1ca4c0a57616da9fa0dfd1e3bae9c469" title=" " alt="" coords="5,5,172,45"/>
</map>
</div>

</div>
</div>
<a id="a870349a1e058dcd67b749bc8dcfbf9de" name="a870349a1e058dcd67b749bc8dcfbf9de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a870349a1e058dcd67b749bc8dcfbf9de">&#9670;&#160;</a></span>undistortRectifyKeypoints()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::UndistorterRectifier::undistortRectifyKeypoints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;&#160;</td>
          <td class="paramname"><em>undistorted_keypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>undistortRectifyKeypoints Undistorts and rectifies a sparse set of keypoints (instead of a whole image), using OpenCV undistortPoints. </p>
<p>OpenCV undistortPoints (this does not use the remap function, but an iterative approach to find the undistorted keypoints...). Check OpenCV documentation for details about this function.</p>
<p>It uses the internal camera parameters, and the optional R_ and P_ matrices as provided at construction (by cv::stereoRectify). If R_/P_ are identity no rectification is performed and the resulting keypoints are in normalized coordinates. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">keypoints</td><td>Distorted and unrectified keypoints </td></tr>
    <tr><td class="paramname">undistorted_keypoints</td><td>Undistorted and rectified keypoints. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00183">183</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>{</div>
<div class="line"><span class="lineno">  186</span>  undistorted_keypoints.clear();</div>
<div class="line"><span class="lineno">  187</span>  <a class="code hl_function" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">UndistorterRectifier::UndistortRectifyKeypoints</a>(</div>
<div class="line"><span class="lineno">  188</span>      keypoints, undistorted_keypoints, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a>, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a>, <a class="code hl_variable" href="classdyno_1_1UndistorterRectifier.html#a8a9ff20e8ca392571eb781fd02c28bed">P_</a>);</div>
<div class="line"><span class="lineno">  189</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1UndistorterRectifier.html#a0736f046f29687fef6bcdddc4e424817">cam_params_</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#a8a9ff20e8ca392571eb781fd02c28bed">P_</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#afc5c190f5cab0f130e31caa29538bd2b">R_</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09">UndistortRectifyKeypoints()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_a870349a1e058dcd67b749bc8dcfbf9de_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_a870349a1e058dcd67b749bc8dcfbf9de_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_a870349a1e058dcd67b749bc8dcfbf9de_cgraph" id="aclassdyno_1_1UndistorterRectifier_a870349a1e058dcd67b749bc8dcfbf9de_cgraph">
<area shape="rect" title="undistortRectifyKeypoints Undistorts and rectifies a sparse set of keypoints (instead of a whole imag..." alt="" coords="5,151,203,191"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#ae64676bd43fb299d9c72034fa3ee3c09" title="undistortRectifyKeypoints undistorts and rectifies" alt="" coords="251,151,449,191"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2" title=" " alt="" coords="497,5,708,31"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="522,55,683,95"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="522,119,683,159"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="522,183,683,223"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37" title=" " alt="" coords="497,248,708,273"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="543,297,662,323"/>
</map>
</div>

</div>
</div>
<a id="ae64676bd43fb299d9c72034fa3ee3c09" name="ae64676bd43fb299d9c72034fa3ee3c09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64676bd43fb299d9c72034fa3ee3c09">&#9670;&#160;</a></span>UndistortRectifyKeypoints()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void dyno::UndistorterRectifier::UndistortRectifyKeypoints </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;&#160;</td>
          <td class="paramname"><em>keypoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a6e4b9811fc666e292979ad077f5cca41">Keypoints</a> &amp;&#160;</td>
          <td class="paramname"><em>undistorted_keypoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> &amp;&#160;</td>
          <td class="paramname"><em>cam_params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; cv::Mat &gt;&#160;</td>
          <td class="paramname"><em>P</em> = <code>{}</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; cv::Mat &gt;&#160;</td>
          <td class="paramname"><em>R</em> = <code>{}</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>undistortRectifyKeypoints undistorts and rectifies </p>

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8cc_source.html#l00043">43</a> of file <a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   49</span>{</div>
<div class="line"><span class="lineno">   50</span>    <span class="keyword">const</span> <span class="keyword">auto</span> distortion_model = cam_params.getDistortionModel();</div>
<div class="line"><span class="lineno">   51</span>    <span class="keyword">const</span> cv::Mat&amp; distortion_matrix = cam_params.getDistortionCoeffs();</div>
<div class="line"><span class="lineno">   52</span>    <span class="keyword">const</span> cv::Mat&amp; camera_matrix = cam_params.getCameraMatrix();</div>
<div class="line"><span class="lineno">   53</span> </div>
<div class="line"><span class="lineno">   54</span>    <span class="comment">//but slow as we have to do all conversion back and forth</span></div>
<div class="line"><span class="lineno">   55</span>    <span class="comment">//if the Eigen matrices are aligned we might not even need to do this...</span></div>
<div class="line"><span class="lineno">   56</span>    std::vector&lt;cv::Point2f&gt; keypoints_cv = <a class="code hl_function" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37">utils::gtsamPointsToCv</a>(keypoints);</div>
<div class="line"><span class="lineno">   57</span>    std::vector&lt;cv::Point2f&gt; undistorted_keypoints_cv;</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span> </div>
<div class="line"><span class="lineno">   60</span> </div>
<div class="line"><span class="lineno">   61</span>    <span class="keywordflow">switch</span> (distortion_model) {</div>
<div class="line"><span class="lineno">   62</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a57d07fba056969bb09dcb1459746cde5">DistortionModel::RADTAN</a>: {</div>
<div class="line"><span class="lineno">   63</span>        cv::undistortPoints(keypoints_cv,</div>
<div class="line"><span class="lineno">   64</span>                            undistorted_keypoints_cv,</div>
<div class="line"><span class="lineno">   65</span>                            camera_matrix,</div>
<div class="line"><span class="lineno">   66</span>                            distortion_matrix,</div>
<div class="line"><span class="lineno">   67</span>                            R ? R.value() : cv::noArray(),</div>
<div class="line"><span class="lineno">   68</span>                            P ? P.value() : cv::noArray());</div>
<div class="line"><span class="lineno">   69</span>        } <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   70</span>        <span class="keywordflow">case</span> <a class="code hl_enumvalue" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a00d0cd9f6b32fb176671646968102e78">DistortionModel::EQUIDISTANT</a>: {</div>
<div class="line"><span class="lineno">   71</span>        <span class="comment">// TODO: Create unit test for fisheye / equidistant model</span></div>
<div class="line"><span class="lineno">   72</span>        cv::fisheye::undistortPoints(keypoints_cv,</div>
<div class="line"><span class="lineno">   73</span>                                    undistorted_keypoints_cv,</div>
<div class="line"><span class="lineno">   74</span>                                    camera_matrix,</div>
<div class="line"><span class="lineno">   75</span>                                    distortion_matrix,</div>
<div class="line"><span class="lineno">   76</span>                                    R ? R.value() : cv::noArray(),</div>
<div class="line"><span class="lineno">   77</span>                                    P ? P.value() : cv::noArray());</div>
<div class="line"><span class="lineno">   78</span>        } <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">   79</span>        <span class="keywordflow">default</span>: {</div>
<div class="line"><span class="lineno">   80</span>            LOG(FATAL) &lt;&lt; <span class="stringliteral">&quot;Unknown distortion model &quot;</span> &lt;&lt; <a class="code hl_function" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d">to_string</a>(distortion_model) &lt;&lt; <span class="stringliteral">&quot; when rectifying keypoints&quot;</span>;</div>
<div class="line"><span class="lineno">   81</span>        }</div>
<div class="line"><span class="lineno">   82</span> </div>
<div class="line"><span class="lineno">   83</span>    }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    undistorted_keypoints.clear();</div>
<div class="line"><span class="lineno">   86</span>    undistorted_keypoints = <a class="code hl_function" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2">utils::cvPointsToGtsam</a>(undistorted_keypoints_cv);</div>
<div class="line"><span class="lineno">   87</span>}</div>
<div class="ttc" id="anamespacedyno_1_1utils_html_af331019717c52781bef4bf816e2165b2"><div class="ttname"><a href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2">dyno::utils::cvPointsToGtsam</a></div><div class="ttdeci">gtsam::Point2Vector cvPointsToGtsam(const std::vector&lt; cv::Point_&lt; T &gt; &gt; &amp;points)</div><div class="ttdef"><b>Definition:</b> <a href="GtsamUtils_8hpp_source.html#l00234">GtsamUtils.hpp:234</a></div></div>
<div class="ttc" id="anamespacedyno_1_1utils_html_af59783e0798baa636b8a23535a676f37"><div class="ttname"><a href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37">dyno::utils::gtsamPointsToCv</a></div><div class="ttdeci">std::vector&lt; cv::Point_&lt; T &gt; &gt; gtsamPointsToCv(const std::vector&lt; gtsam::Point2, Allocator &gt; &amp;points)</div><div class="ttdef"><b>Definition:</b> <a href="GtsamUtils_8hpp_source.html#l00248">GtsamUtils.hpp:248</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2">dyno::utils::cvPointsToGtsam()</a>, <a class="el" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a00d0cd9f6b32fb176671646968102e78">dyno::EQUIDISTANT</a>, <a class="el" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a">dyno::CameraParams::getCameraMatrix()</a>, <a class="el" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd">dyno::CameraParams::getDistortionCoeffs()</a>, <a class="el" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304">dyno::CameraParams::getDistortionModel()</a>, <a class="el" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37">dyno::utils::gtsamPointsToCv()</a>, <a class="el" href="namespacedyno.html#a7118762ab4c63de4996b3983b5b82356a57d07fba056969bb09dcb1459746cde5">dyno::RADTAN</a>, and <a class="el" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d">dyno::to_string()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#af102413f7c20a9120b1e1d0a7d848c41">UndistortKeypointAndGetProjectedVersor()</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#a210fba595205f9c9f36eb76bb37a7b69">UndistortKeypointAndGetVersor()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#a870349a1e058dcd67b749bc8dcfbf9de">undistortRectifyKeypoints()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_cgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_cgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_cgraph" id="aclassdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_cgraph">
<area shape="rect" title="undistortRectifyKeypoints undistorts and rectifies" alt="" coords="5,151,204,191"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af331019717c52781bef4bf816e2165b2" title=" " alt="" coords="252,5,463,31"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ae50eb600c23415b3f7bd46e70553f96a" title=" " alt="" coords="277,55,438,95"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#a19bbd8710bfeec7e1dc1096f1ea773cd" title=" " alt="" coords="277,119,438,159"/>
<area shape="rect" href="classdyno_1_1CameraParams.html#ad824176d6c92a8162e6360c0760fa304" title=" " alt="" coords="277,183,438,223"/>
<area shape="rect" href="namespacedyno_1_1utils.html#af59783e0798baa636b8a23535a676f37" title=" " alt="" coords="252,248,463,273"/>
<area shape="rect" href="namespacedyno.html#a809604e427db44cbf532a545c71a3b5d" title=" " alt="" coords="298,297,417,323"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_icgraph.png" border="0" usemap="#aclassdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_icgraph" alt=""/></div>
<map name="aclassdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_icgraph" id="aclassdyno_1_1UndistorterRectifier_ae64676bd43fb299d9c72034fa3ee3c09_icgraph">
<area shape="rect" title="undistortRectifyKeypoints undistorts and rectifies" alt="" coords="612,85,811,125"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#af102413f7c20a9120b1e1d0a7d848c41" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding projected versor..." alt="" coords="308,5,564,60"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#a210fba595205f9c9f36eb76bb37a7b69" title="UndistortKeypointAndGetVersor undistort a single pixel, and return the corresponding versor...." alt="" coords="318,85,554,125"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#a870349a1e058dcd67b749bc8dcfbf9de" title="undistortRectifyKeypoints Undistorts and rectifies a sparse set of keypoints (instead of a whole imag..." alt="" coords="337,149,535,189"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#a80b4a50fd637142aee912e2aa0f200ee" title=" " alt="" coords="5,5,260,60"/>
<area shape="rect" href="classdyno_1_1UndistorterRectifier.html#aa55a8cd2fa64ee3b968f2be1d6acf19f" title="Undistorts a single pixel and returns the corresponding versor (unit norm vector corresponding to bea..." alt="" coords="15,85,250,125"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a0736f046f29687fef6bcdddc4e424817" name="a0736f046f29687fef6bcdddc4e424817"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0736f046f29687fef6bcdddc4e424817">&#9670;&#160;</a></span>cam_params_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdyno_1_1CameraParams.html">CameraParams</a> dyno::UndistorterRectifier::cam_params_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00217">217</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#a80b4a50fd637142aee912e2aa0f200ee">undistortKeypointAndGetProjectedVersor()</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#aa55a8cd2fa64ee3b968f2be1d6acf19f">undistortKeypointAndGetVersor()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#a870349a1e058dcd67b749bc8dcfbf9de">undistortRectifyKeypoints()</a>.</p>

</div>
</div>
<a id="aab8943538ce56715b0157d460b92f6a5" name="aab8943538ce56715b0157d460b92f6a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8943538ce56715b0157d460b92f6a5">&#9670;&#160;</a></span>kRectifyImageType</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr int dyno::UndistorterRectifier::kRectifyImageType = CV_32FC1</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00219">219</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#a4a4cf24ce89d70f3ec6c3c25051f4691">initUndistortRectifyMaps()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#acc5dd76c4ccb8e8ffb31a0ef7fe20853">undistortRectifyImage()</a>.</p>

</div>
</div>
<a id="af3048fe6825ee5417c7a1c06dd8b6bbf" name="af3048fe6825ee5417c7a1c06dd8b6bbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3048fe6825ee5417c7a1c06dd8b6bbf">&#9670;&#160;</a></span>map_x_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat dyno::UndistorterRectifier::map_x_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00211">211</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#aaffa018d8098ac0c4916029c05340d0b">UndistorterRectifier()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#acc5dd76c4ccb8e8ffb31a0ef7fe20853">undistortRectifyImage()</a>.</p>

</div>
</div>
<a id="a7aaab8874540dccd0815892f7a8292b3" name="a7aaab8874540dccd0815892f7a8292b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7aaab8874540dccd0815892f7a8292b3">&#9670;&#160;</a></span>map_y_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat dyno::UndistorterRectifier::map_y_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00212">212</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#aaffa018d8098ac0c4916029c05340d0b">UndistorterRectifier()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#acc5dd76c4ccb8e8ffb31a0ef7fe20853">undistortRectifyImage()</a>.</p>

</div>
</div>
<a id="a8a9ff20e8ca392571eb781fd02c28bed" name="a8a9ff20e8ca392571eb781fd02c28bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a9ff20e8ca392571eb781fd02c28bed">&#9670;&#160;</a></span>P_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat dyno::UndistorterRectifier::P_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00214">214</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#a80b4a50fd637142aee912e2aa0f200ee">undistortKeypointAndGetProjectedVersor()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#a870349a1e058dcd67b749bc8dcfbf9de">undistortRectifyKeypoints()</a>.</p>

</div>
</div>
<a id="afc5c190f5cab0f130e31caa29538bd2b" name="afc5c190f5cab0f130e31caa29538bd2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc5c190f5cab0f130e31caa29538bd2b">&#9670;&#160;</a></span>R_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">cv::Mat dyno::UndistorterRectifier::R_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00215">215</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#a80b4a50fd637142aee912e2aa0f200ee">undistortKeypointAndGetProjectedVersor()</a>, <a class="el" href="classdyno_1_1UndistorterRectifier.html#aa55a8cd2fa64ee3b968f2be1d6acf19f">undistortKeypointAndGetVersor()</a>, and <a class="el" href="classdyno_1_1UndistorterRectifier.html#a870349a1e058dcd67b749bc8dcfbf9de">undistortRectifyKeypoints()</a>.</p>

</div>
</div>
<a id="a67854f4361d9cfc41898656abdc3334a" name="a67854f4361d9cfc41898656abdc3334a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67854f4361d9cfc41898656abdc3334a">&#9670;&#160;</a></span>remap_interpolation_type_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int dyno::UndistorterRectifier::remap_interpolation_type_ = cv::INTER_LINEAR</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00223">223</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#acc5dd76c4ccb8e8ffb31a0ef7fe20853">undistortRectifyImage()</a>.</p>

</div>
</div>
<a id="a01cc178f9ad842ad8c06ba87c2a249e0" name="a01cc178f9ad842ad8c06ba87c2a249e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01cc178f9ad842ad8c06ba87c2a249e0">&#9670;&#160;</a></span>remap_use_constant_border_type_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool dyno::UndistorterRectifier::remap_use_constant_border_type_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="UndistortRectifier_8hpp_source.html#l00222">222</a> of file <a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1UndistorterRectifier.html#acc5dd76c4ccb8e8ffb31a0ef7fe20853">undistortRectifyImage()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>dynosam/include/dynosam/frontend/vision/<a class="el" href="UndistortRectifier_8hpp_source.html">UndistortRectifier.hpp</a></li>
<li>dynosam/src/frontend/vision/<a class="el" href="UndistortRectifier_8cc_source.html">UndistortRectifier.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
