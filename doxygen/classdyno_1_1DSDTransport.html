<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>DynoSAM: dyno::DSDTransport Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">DynoSAM
   </div>
   <div id="projectbrief">Dynamic Object Smoothing and Mapping for Dynamic SLAM</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacedyno.html">dyno</a></li><li class="navelem"><a class="el" href="classdyno_1_1DSDTransport.html">DSDTransport</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classdyno_1_1DSDTransport-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">dyno::DSDTransport Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Class for managing the publishing and conversion of ObjectOdometry messages. DSD is shorthand for Dynamic SLAM Display.  
 <a href="classdyno_1_1DSDTransport.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="DSDCommonRos_8hpp_source.html">DSDCommonRos.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html">Publisher</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Nested <a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html" title="Nested Publisher that publishes all the object odometries for a single frame/timestamp....">Publisher</a> that publishes all the object odometries for a single frame/timestamp. Object odometries are set on construction. Functionality for publishing the object odom's themselves and broadcasting their position on the tf tree using the object current pose is addionally included.  <a href="classdyno_1_1DSDTransport_1_1Publisher.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae7b7325756d28299858565630149c34e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#ae7b7325756d28299858565630149c34e">DSDTransport</a> (rclcpp::Node::SharedPtr node)</td></tr>
<tr class="separator:ae7b7325756d28299858565630149c34e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3de22d3c37040622cda31ab745955fe"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html">Publisher</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#af3de22d3c37040622cda31ab745955fe">addObjectInfo</a> (const <a class="el" href="namespacedyno.html#af0e7693f6363b7c2b87803049135cf43">ObjectMotionMap</a> &amp;motions, const <a class="el" href="namespacedyno.html#a47c0a08523c12765d4bd6e243f900c16">ObjectPoseMap</a> &amp;poses, const std::string &amp;frame_id_link, const <a class="el" href="namespacedyno.html#a3a5fbf92c649a119093d4cc3b0636871">FrameIdTimestampMap</a> &amp;frame_timestamp_map, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id, <a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a> timestamp)</td></tr>
<tr class="memdesc:af3de22d3c37040622cda31ab745955fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a object odometry <a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html" title="Nested Publisher that publishes all the object odometries for a single frame/timestamp....">Publisher</a> given object state (motion and pose) information up to a given frame (k). The resulting publisher can then be used to published ObjectOdometry messages and update the tf tree with the object poses w.r.t to the parent frame id link.  <br /></td></tr>
<tr class="separator:af3de22d3c37040622cda31ab745955fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a41525d7e486a44137435c5ed47a2e8db"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db">constructObjectFrameLink</a> (<a class="el" href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">ObjectId</a> object_id)</td></tr>
<tr class="memdesc:a41525d7e486a44137435c5ed47a2e8db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct object id tf link from an object id. This will be used as the link in the ROS tf tree and as the child frame id for the object odometry.  <br /></td></tr>
<tr class="separator:a41525d7e486a44137435c5ed47a2e8db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68cd19d60a58b1b568f9006d5483ee97"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacedyno.html#a1e7b8e7cb9c94acacd56b98dc9900a97">ObjectOdometry</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97">constructObjectOdometry</a> (const gtsam::Pose3 &amp;e_H_k_world, const gtsam::Pose3 &amp;pose_k, <a class="el" href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">ObjectId</a> object_id, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, <a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a> timestamp_k, const std::string &amp;frame_id_link, const std::string &amp;child_frame_id_link)</td></tr>
<tr class="separator:a68cd19d60a58b1b568f9006d5483ee97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa25a57f09531c34b256273e8b0fc2c63"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacedyno.html#a17f4c1fe4d4fb10dff1544f64ac6aadc">ObjectOdometryMap</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#aa25a57f09531c34b256273e8b0fc2c63">constructObjectOdometries</a> (const <a class="el" href="namespacedyno.html#af0e7693f6363b7c2b87803049135cf43">ObjectMotionMap</a> &amp;motions, const <a class="el" href="namespacedyno.html#a47c0a08523c12765d4bd6e243f900c16">ObjectPoseMap</a> &amp;poses, <a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> frame_id_k, <a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a> timestamp_k, const std::string &amp;frame_id_link)</td></tr>
<tr class="separator:aa25a57f09531c34b256273e8b0fc2c63"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6181566479bf9f5bad14d66c048afd9e"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="namespacedyno.html#a08ed1ede4e6919d056b91f50997b3cb5">MultiObjectOdometryPath</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#a6181566479bf9f5bad14d66c048afd9e">constructMultiObjectOdometryPaths</a> (const <a class="el" href="namespacedyno.html#af0e7693f6363b7c2b87803049135cf43">ObjectMotionMap</a> &amp;motions, const <a class="el" href="namespacedyno.html#a47c0a08523c12765d4bd6e243f900c16">ObjectPoseMap</a> &amp;poses, <a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a> timestamp_k, const <a class="el" href="namespacedyno.html#a3a5fbf92c649a119093d4cc3b0636871">FrameIdTimestampMap</a> &amp;frame_timestamp_map, const std::string &amp;frame_id_link, bool interpolate_missing_segments=true)</td></tr>
<tr class="separator:a6181566479bf9f5bad14d66c048afd9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a696520d40317a597358aa2629dea0855"><td class="memItemLeft" align="right" valign="top">rclcpp::Node::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">node_</a></td></tr>
<tr class="separator:a696520d40317a597358aa2629dea0855"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e3949119fc2b3e90656f2422c79f6bf"><td class="memItemLeft" align="right" valign="top">ObjectOdometryPub::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#a0e3949119fc2b3e90656f2422c79f6bf">object_odom_publisher_</a></td></tr>
<tr class="separator:a0e3949119fc2b3e90656f2422c79f6bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a8b65f994b5d8e6de606f1c63e45515"><td class="memItemLeft" align="right" valign="top">MultiObjectOdometryPathPub::SharedPtr&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#a8a8b65f994b5d8e6de606f1c63e45515">multi_object_odom_path_publisher_</a></td></tr>
<tr class="separator:a8a8b65f994b5d8e6de606f1c63e45515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdeb10314e5bd23a2f1ac076cf2ddcaf"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; tf2_ros::TransformBroadcaster &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classdyno_1_1DSDTransport.html#abdeb10314e5bd23a2f1ac076cf2ddcaf">tf_broadcaster_</a></td></tr>
<tr class="separator:abdeb10314e5bd23a2f1ac076cf2ddcaf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for managing the publishing and conversion of ObjectOdometry messages. DSD is shorthand for Dynamic SLAM Display. </p>
<p>Contains an ObjectOdometry publisher on the topic "object_odometry" and a tf2_ros::TransformBroadcaster to broadcast the object odometry TF. </p>

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8hpp_source.html#l00067">67</a> of file <a class="el" href="DSDCommonRos_8hpp_source.html">DSDCommonRos.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae7b7325756d28299858565630149c34e" name="ae7b7325756d28299858565630149c34e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae7b7325756d28299858565630149c34e">&#9670;&#160;</a></span>DSDTransport()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dyno::DSDTransport::DSDTransport </td>
          <td>(</td>
          <td class="paramtype">rclcpp::Node::SharedPtr&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8cc_source.html#l00013">13</a> of file <a class="el" href="DSDCommonRos_8cc_source.html">DSDCommonRos.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   13</span>                                                   : <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">node_</a>(node) {</div>
<div class="line"><span class="lineno">   14</span>  <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a0e3949119fc2b3e90656f2422c79f6bf">object_odom_publisher_</a> =</div>
<div class="line"><span class="lineno">   15</span>      node-&gt;create_publisher&lt;<a class="code hl_typedef" href="namespacedyno.html#a1e7b8e7cb9c94acacd56b98dc9900a97">ObjectOdometry</a>&gt;(<span class="stringliteral">&quot;object_odometry&quot;</span>, 1);</div>
<div class="line"><span class="lineno">   16</span>  <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a8a8b65f994b5d8e6de606f1c63e45515">multi_object_odom_path_publisher_</a> =</div>
<div class="line"><span class="lineno">   17</span>      node-&gt;create_publisher&lt;<a class="code hl_typedef" href="namespacedyno.html#a08ed1ede4e6919d056b91f50997b3cb5">MultiObjectOdometryPath</a>&gt;(<span class="stringliteral">&quot;object_odometry_path&quot;</span>,</div>
<div class="line"><span class="lineno">   18</span>                                                      1);</div>
<div class="line"><span class="lineno">   19</span>  <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#abdeb10314e5bd23a2f1ac076cf2ddcaf">tf_broadcaster_</a> = std::make_unique&lt;tf2_ros::TransformBroadcaster&gt;(*<a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">node_</a>);</div>
<div class="line"><span class="lineno">   20</span> </div>
<div class="line"><span class="lineno">   21</span>  VLOG(20) &lt;&lt; <span class="stringliteral">&quot;Constructed DSDTransport with effective namespace &quot;</span></div>
<div class="line"><span class="lineno">   22</span>           &lt;&lt; <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">node_</a>-&gt;get_effective_namespace();</div>
<div class="line"><span class="lineno">   23</span>}</div>
<div class="ttc" id="aclassdyno_1_1DSDTransport_html_a0e3949119fc2b3e90656f2422c79f6bf"><div class="ttname"><a href="classdyno_1_1DSDTransport.html#a0e3949119fc2b3e90656f2422c79f6bf">dyno::DSDTransport::object_odom_publisher_</a></div><div class="ttdeci">ObjectOdometryPub::SharedPtr object_odom_publisher_</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00209">DSDCommonRos.hpp:209</a></div></div>
<div class="ttc" id="aclassdyno_1_1DSDTransport_html_a696520d40317a597358aa2629dea0855"><div class="ttname"><a href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">dyno::DSDTransport::node_</a></div><div class="ttdeci">rclcpp::Node::SharedPtr node_</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00208">DSDCommonRos.hpp:208</a></div></div>
<div class="ttc" id="aclassdyno_1_1DSDTransport_html_a8a8b65f994b5d8e6de606f1c63e45515"><div class="ttname"><a href="classdyno_1_1DSDTransport.html#a8a8b65f994b5d8e6de606f1c63e45515">dyno::DSDTransport::multi_object_odom_path_publisher_</a></div><div class="ttdeci">MultiObjectOdometryPathPub::SharedPtr multi_object_odom_path_publisher_</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00210">DSDCommonRos.hpp:210</a></div></div>
<div class="ttc" id="aclassdyno_1_1DSDTransport_html_abdeb10314e5bd23a2f1ac076cf2ddcaf"><div class="ttname"><a href="classdyno_1_1DSDTransport.html#abdeb10314e5bd23a2f1ac076cf2ddcaf">dyno::DSDTransport::tf_broadcaster_</a></div><div class="ttdeci">std::shared_ptr&lt; tf2_ros::TransformBroadcaster &gt; tf_broadcaster_</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00211">DSDCommonRos.hpp:211</a></div></div>
<div class="ttc" id="anamespacedyno_html_a08ed1ede4e6919d056b91f50997b3cb5"><div class="ttname"><a href="namespacedyno.html#a08ed1ede4e6919d056b91f50997b3cb5">dyno::MultiObjectOdometryPath</a></div><div class="ttdeci">dynamic_slam_interfaces::msg::MultiObjectOdometryPath MultiObjectOdometryPath</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00048">DSDCommonRos.hpp:49</a></div></div>
<div class="ttc" id="anamespacedyno_html_a1e7b8e7cb9c94acacd56b98dc9900a97"><div class="ttname"><a href="namespacedyno.html#a1e7b8e7cb9c94acacd56b98dc9900a97">dyno::ObjectOdometry</a></div><div class="ttdeci">dynamic_slam_interfaces::msg::ObjectOdometry ObjectOdometry</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00046">DSDCommonRos.hpp:46</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1DSDTransport.html#a8a8b65f994b5d8e6de606f1c63e45515">multi_object_odom_path_publisher_</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">node_</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a0e3949119fc2b3e90656f2422c79f6bf">object_odom_publisher_</a>, and <a class="el" href="classdyno_1_1DSDTransport.html#abdeb10314e5bd23a2f1ac076cf2ddcaf">tf_broadcaster_</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="af3de22d3c37040622cda31ab745955fe" name="af3de22d3c37040622cda31ab745955fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3de22d3c37040622cda31ab745955fe">&#9670;&#160;</a></span>addObjectInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html">DSDTransport::Publisher</a> dyno::DSDTransport::addObjectInfo </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#af0e7693f6363b7c2b87803049135cf43">ObjectMotionMap</a> &amp;&#160;</td>
          <td class="paramname"><em>motions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#a47c0a08523c12765d4bd6e243f900c16">ObjectPoseMap</a> &amp;&#160;</td>
          <td class="paramname"><em>poses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>frame_id_link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#a3a5fbf92c649a119093d4cc3b0636871">FrameIdTimestampMap</a> &amp;&#160;</td>
          <td class="paramname"><em>frame_timestamp_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a>&#160;</td>
          <td class="paramname"><em>frame_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a>&#160;</td>
          <td class="paramname"><em>timestamp</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a object odometry <a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html" title="Nested Publisher that publishes all the object odometries for a single frame/timestamp....">Publisher</a> given object state (motion and pose) information up to a given frame (k). The resulting publisher can then be used to published ObjectOdometry messages and update the tf tree with the object poses w.r.t to the parent frame id link. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">motions_k</td><td>const ObjectMotionMap&amp; motions at time (... to k) </td></tr>
    <tr><td class="paramname">poses</td><td>const ObjectPoseMap&amp; poses at time (... to k) </td></tr>
    <tr><td class="paramname">frame_id_link</td><td>const std::string&amp; parent tf tree link (e.g. odom/world.) </td></tr>
    <tr><td class="paramname">frame_id</td><td>FrameId current frame (k) </td></tr>
    <tr><td class="paramname">timestamp</td><td>Timestamp </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html" title="Nested Publisher that publishes all the object odometries for a single frame/timestamp....">Publisher</a> </dd></dl>

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8cc_source.html#l00246">246</a> of file <a class="el" href="DSDCommonRos_8cc_source.html">DSDCommonRos.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  250</span>                         {</div>
<div class="line"><span class="lineno">  251</span>  <span class="keywordflow">return</span> Publisher(<a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">node_</a>, <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a0e3949119fc2b3e90656f2422c79f6bf">object_odom_publisher_</a>,</div>
<div class="line"><span class="lineno">  252</span>                   <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#a8a8b65f994b5d8e6de606f1c63e45515">multi_object_odom_path_publisher_</a>, <a class="code hl_variable" href="classdyno_1_1DSDTransport.html#abdeb10314e5bd23a2f1ac076cf2ddcaf">tf_broadcaster_</a>, motions,</div>
<div class="line"><span class="lineno">  253</span>                   poses, frame_id_link, frame_timestamp_map, frame_id,</div>
<div class="line"><span class="lineno">  254</span>                   timestamp);</div>
<div class="line"><span class="lineno">  255</span>}</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1DSDTransport.html#a8a8b65f994b5d8e6de606f1c63e45515">multi_object_odom_path_publisher_</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a696520d40317a597358aa2629dea0855">node_</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a0e3949119fc2b3e90656f2422c79f6bf">object_odom_publisher_</a>, and <a class="el" href="classdyno_1_1DSDTransport.html#abdeb10314e5bd23a2f1ac076cf2ddcaf">tf_broadcaster_</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1FrontendDSDRos.html#a9101c485338a62d8a86b37a56a68503e">dyno::FrontendDSDRos::processRGBDOutputpacket()</a>, and <a class="el" href="classdyno_1_1BackendDSDRos.html#a5316ec622424b5f5c3c5b111a56c4063">dyno::BackendDSDRos::spinOnce()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1DSDTransport_af3de22d3c37040622cda31ab745955fe_icgraph.png" border="0" usemap="#aclassdyno_1_1DSDTransport_af3de22d3c37040622cda31ab745955fe_icgraph" alt=""/></div>
<map name="aclassdyno_1_1DSDTransport_af3de22d3c37040622cda31ab745955fe_icgraph" id="aclassdyno_1_1DSDTransport_af3de22d3c37040622cda31ab745955fe_icgraph">
<area shape="rect" title="Create a object odometry Publisher given object state (motion and pose) information up to a given fra..." alt="" coords="477,37,628,77"/>
<area shape="rect" href="classdyno_1_1FrontendDSDRos.html#a9101c485338a62d8a86b37a56a68503e" title=" " alt="" coords="224,5,429,45"/>
<area shape="rect" href="classdyno_1_1BackendDSDRos.html#a5316ec622424b5f5c3c5b111a56c4063" title=" " alt="" coords="242,69,411,109"/>
<area shape="rect" href="classdyno_1_1FrontendDSDRos.html#a633a457c51868257f25d44d1a99f0e12" title=" " alt="" coords="5,5,176,45"/>
</map>
</div>

</div>
</div>
<a id="a6181566479bf9f5bad14d66c048afd9e" name="a6181566479bf9f5bad14d66c048afd9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6181566479bf9f5bad14d66c048afd9e">&#9670;&#160;</a></span>constructMultiObjectOdometryPaths()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedyno.html#a08ed1ede4e6919d056b91f50997b3cb5">MultiObjectOdometryPath</a> dyno::DSDTransport::constructMultiObjectOdometryPaths </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#af0e7693f6363b7c2b87803049135cf43">ObjectMotionMap</a> &amp;&#160;</td>
          <td class="paramname"><em>motions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#a47c0a08523c12765d4bd6e243f900c16">ObjectPoseMap</a> &amp;&#160;</td>
          <td class="paramname"><em>poses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a>&#160;</td>
          <td class="paramname"><em>timestamp_k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#a3a5fbf92c649a119093d4cc3b0636871">FrameIdTimestampMap</a> &amp;&#160;</td>
          <td class="paramname"><em>frame_timestamp_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>frame_id_link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>interpolate_missing_segments</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8cc_source.html#l00090">90</a> of file <a class="el" href="DSDCommonRos_8cc_source.html">DSDCommonRos.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   93</span>                                                                       {</div>
<div class="line"><span class="lineno">   94</span>  <a class="code hl_typedef" href="namespacedyno.html#a08ed1ede4e6919d056b91f50997b3cb5">MultiObjectOdometryPath</a> multi_path;</div>
<div class="line"><span class="lineno">   95</span>  multi_path.header.stamp = <a class="code hl_function" href="namespacedyno_1_1utils.html#a81025ee06847cec0fd854eff05362d19">utils::toRosTime</a>(timestamp_k);</div>
<div class="line"><span class="lineno">   96</span>  multi_path.header.frame_id = frame_id_link;</div>
<div class="line"><span class="lineno">   97</span> </div>
<div class="line"><span class="lineno">   98</span>  <span class="comment">// TODO: right now dont have the motion for every timestep so... just leave</span></div>
<div class="line"><span class="lineno">   99</span>  <span class="comment">// blank?</span></div>
<div class="line"><span class="lineno">  100</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [object_id, frame_pose_map] : poses) {</div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">const</span> std::string child_frame_id_link = <a class="code hl_function" href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db">constructObjectFrameLink</a>(object_id);</div>
<div class="line"><span class="lineno">  102</span>    <a class="code hl_typedef" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a> previous_frame_id = -1;</div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordtype">bool</span> first = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordtype">int</span> path_segment = 0;</div>
<div class="line"><span class="lineno">  105</span> </div>
<div class="line"><span class="lineno">  106</span>    std_msgs::msg::ColorRGBA colour_msg;</div>
<div class="line"><span class="lineno">  107</span>    <a class="code hl_function" href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb">convert</a>(<a class="code hl_function" href="structdyno_1_1Color.html#a6689af3d0ac5ceaa66000b5ca70becbd">Color::uniqueId</a>(object_id), colour_msg);</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>    <span class="comment">// paths for this object, broken into segments</span></div>
<div class="line"><span class="lineno">  110</span>    gtsam::FastMap&lt;int, ObjectOdometryPath&gt; segmented_paths;</div>
<div class="line"><span class="lineno">  111</span> </div>
<div class="line"><span class="lineno">  112</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [frame_id, object_pose] : frame_pose_map) {</div>
<div class="line"><span class="lineno">  113</span>      <span class="keywordflow">if</span> (!motions.exists(object_id, frame_id)) {</div>
<div class="line"><span class="lineno">  114</span>        <span class="comment">// LOG(WARNING)</span></div>
<div class="line"><span class="lineno">  115</span>        <span class="comment">//     &lt;&lt; &quot;Cannot construct ObjectOdometry for object &quot; &lt;&lt; object_id</span></div>
<div class="line"><span class="lineno">  116</span>        <span class="comment">//     &lt;&lt; &quot;, at frame &quot; &lt;&lt; frame_id</span></div>
<div class="line"><span class="lineno">  117</span>        <span class="comment">//     &lt;&lt; &quot; for MultiObjectOdometryPath. Missing entry in</span></div>
<div class="line"><span class="lineno">  118</span>        <span class="comment">//     ObjectMotionMap&quot;;</span></div>
<div class="line"><span class="lineno">  119</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  120</span>      }</div>
<div class="line"><span class="lineno">  121</span>      <span class="keyword">const</span> gtsam::Pose3&amp; object_motion = motions.at(object_id, frame_id);</div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>      <span class="keywordflow">if</span> (!frame_timestamp_map.exists(frame_id)) {</div>
<div class="line"><span class="lineno">  124</span>        LOG(WARNING) &lt;&lt; <span class="stringliteral">&quot;Cannot construct ObjectOdometry for object &quot;</span></div>
<div class="line"><span class="lineno">  125</span>                     &lt;&lt; object_id &lt;&lt; <span class="stringliteral">&quot;, at frame &quot;</span> &lt;&lt; frame_id</div>
<div class="line"><span class="lineno">  126</span>                     &lt;&lt; <span class="stringliteral">&quot; for MultiObjectOdometryPath. Missing entry in &quot;</span></div>
<div class="line"><span class="lineno">  127</span>                        <span class="stringliteral">&quot;FrameIdTimestampMap&quot;</span>;</div>
<div class="line"><span class="lineno">  128</span>        <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">  129</span>      }</div>
<div class="line"><span class="lineno">  130</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a>&amp; timestamp = frame_timestamp_map.at(frame_id);</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>      <span class="keywordflow">if</span> (!first &amp;&amp; frame_id != previous_frame_id + 1) {</div>
<div class="line"><span class="lineno">  133</span>        path_segment++;</div>
<div class="line"><span class="lineno">  134</span>      }</div>
<div class="line"><span class="lineno">  135</span>      first = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  136</span>      previous_frame_id = frame_id;</div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span>      <span class="comment">// RIGHT NOW MOTION IDENTITY</span></div>
<div class="line"><span class="lineno">  139</span>      <span class="comment">// timestamp is wrong</span></div>
<div class="line"><span class="lineno">  140</span>      gtsam::Pose3 motion;</div>
<div class="line"><span class="lineno">  141</span>      <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#a1e7b8e7cb9c94acacd56b98dc9900a97">ObjectOdometry</a> object_odometry = <a class="code hl_function" href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97">constructObjectOdometry</a>(</div>
<div class="line"><span class="lineno">  142</span>          object_motion, object_pose, object_id, frame_id, timestamp,</div>
<div class="line"><span class="lineno">  143</span>          frame_id_link, child_frame_id_link);</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>      <span class="keywordflow">if</span> (!segmented_paths.exists(path_segment)) {</div>
<div class="line"><span class="lineno">  146</span>        <a class="code hl_typedef" href="namespacedyno.html#ae75f40076d0752a992e0a684f375de74">ObjectOdometryPath</a> path;</div>
<div class="line"><span class="lineno">  147</span>        path.colour = colour_msg;</div>
<div class="line"><span class="lineno">  148</span>        path.object_id = object_id;</div>
<div class="line"><span class="lineno">  149</span>        path.path_segment = path_segment;</div>
<div class="line"><span class="lineno">  150</span> </div>
<div class="line"><span class="lineno">  151</span>        path.header = multi_path.header;</div>
<div class="line"><span class="lineno">  152</span> </div>
<div class="line"><span class="lineno">  153</span>        segmented_paths.insert2(path_segment, path);</div>
<div class="line"><span class="lineno">  154</span>      }</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>      <a class="code hl_typedef" href="namespacedyno.html#ae75f40076d0752a992e0a684f375de74">ObjectOdometryPath</a>&amp; path = segmented_paths.at(path_segment);</div>
<div class="line"><span class="lineno">  157</span>      path.object_odometries.push_back(object_odometry);</div>
<div class="line"><span class="lineno">  158</span>    }</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// TODO: make this a flag and the frame diff!</span></div>
<div class="line"><span class="lineno">  161</span>    <span class="keywordflow">if</span> (interpolate_missing_segments) {</div>
<div class="line"><span class="lineno">  162</span>      <span class="comment">// assume segmented paths are in order</span></div>
<div class="line"><span class="lineno">  163</span>      <span class="keywordflow">for</span> (<span class="keyword">auto</span> it = segmented_paths.begin();</div>
<div class="line"><span class="lineno">  164</span>           std::next(it) != segmented_paths.end(); ++it) {</div>
<div class="line"><span class="lineno">  165</span>        <span class="keyword">auto</span> current_segment_id = it-&gt;first;</div>
<div class="line"><span class="lineno">  166</span>        <span class="keyword">auto</span> next_segment_id = std::next(it)-&gt;first;</div>
<div class="line"><span class="lineno">  167</span>        CHECK_EQ(current_segment_id + 1, next_segment_id);</div>
<div class="line"><span class="lineno">  168</span> </div>
<div class="line"><span class="lineno">  169</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#ae75f40076d0752a992e0a684f375de74">ObjectOdometryPath</a>&amp; current_path_segment = it-&gt;second;</div>
<div class="line"><span class="lineno">  170</span>        <span class="keyword">const</span> <a class="code hl_typedef" href="namespacedyno.html#ae75f40076d0752a992e0a684f375de74">ObjectOdometryPath</a>&amp; next_path_segment = std::next(it)-&gt;second;</div>
<div class="line"><span class="lineno">  171</span> </div>
<div class="line"><span class="lineno">  172</span>        <span class="keyword">const</span> <span class="keyword">auto</span> begin_object_odom =</div>
<div class="line"><span class="lineno">  173</span>            current_path_segment.object_odometries.back();</div>
<div class="line"><span class="lineno">  174</span>        <span class="keyword">const</span> <span class="keyword">auto</span> end_object_odom =</div>
<div class="line"><span class="lineno">  175</span>            next_path_segment.object_odometries.front();</div>
<div class="line"><span class="lineno">  176</span>        <span class="comment">// interpolate between end of current and start of next</span></div>
<div class="line"><span class="lineno">  177</span>        <span class="comment">// less than 5 frames appart</span></div>
<div class="line"><span class="lineno">  178</span> </div>
<div class="line"><span class="lineno">  179</span>        <span class="keywordflow">if</span> (end_object_odom.sequence - begin_object_odom.sequence &lt; 5) {</div>
<div class="line"><span class="lineno">  180</span>          <a class="code hl_typedef" href="namespacedyno.html#ae75f40076d0752a992e0a684f375de74">ObjectOdometryPath</a> interpolated_segment;</div>
<div class="line"><span class="lineno">  181</span>          interpolated_segment.colour = colour_msg;</div>
<div class="line"><span class="lineno">  182</span>          interpolated_segment.object_id = object_id;</div>
<div class="line"><span class="lineno">  183</span>          <span class="comment">//-1 for path segment</span></div>
<div class="line"><span class="lineno">  184</span>          interpolated_segment.path_segment = -1;</div>
<div class="line"><span class="lineno">  185</span>          interpolated_segment.header = multi_path.header;</div>
<div class="line"><span class="lineno">  186</span>          <span class="comment">// NOTE: this is not actually interpolating its just going to make</span></div>
<div class="line"><span class="lineno">  187</span>          <span class="comment">// RVIZ draw a line between them!!</span></div>
<div class="line"><span class="lineno">  188</span>          interpolated_segment.object_odometries.push_back(begin_object_odom);</div>
<div class="line"><span class="lineno">  189</span>          interpolated_segment.object_odometries.push_back(end_object_odom);</div>
<div class="line"><span class="lineno">  190</span>          multi_path.paths.push_back(interpolated_segment);</div>
<div class="line"><span class="lineno">  191</span>        }</div>
<div class="line"><span class="lineno">  192</span>      }</div>
<div class="line"><span class="lineno">  193</span>    }</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [_, path] : segmented_paths) {</div>
<div class="line"><span class="lineno">  196</span>      multi_path.paths.push_back(path);</div>
<div class="line"><span class="lineno">  197</span>    }</div>
<div class="line"><span class="lineno">  198</span>  }</div>
<div class="line"><span class="lineno">  199</span> </div>
<div class="line"><span class="lineno">  200</span>  <span class="keywordflow">return</span> multi_path;</div>
<div class="line"><span class="lineno">  201</span>}</div>
<div class="ttc" id="aclassdyno_1_1DSDTransport_html_a41525d7e486a44137435c5ed47a2e8db"><div class="ttname"><a href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db">dyno::DSDTransport::constructObjectFrameLink</a></div><div class="ttdeci">static std::string constructObjectFrameLink(ObjectId object_id)</div><div class="ttdoc">Construct object id tf link from an object id. This will be used as the link in the ROS tf tree and a...</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8cc_source.html#l00025">DSDCommonRos.cc:25</a></div></div>
<div class="ttc" id="aclassdyno_1_1DSDTransport_html_a68cd19d60a58b1b568f9006d5483ee97"><div class="ttname"><a href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97">dyno::DSDTransport::constructObjectOdometry</a></div><div class="ttdeci">static ObjectOdometry constructObjectOdometry(const gtsam::Pose3 &amp;e_H_k_world, const gtsam::Pose3 &amp;pose_k, ObjectId object_id, FrameId frame_id_k, Timestamp timestamp_k, const std::string &amp;frame_id_link, const std::string &amp;child_frame_id_link)</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8cc_source.html#l00029">DSDCommonRos.cc:29</a></div></div>
<div class="ttc" id="anamespacedyno_1_1utils_html_a81025ee06847cec0fd854eff05362d19"><div class="ttname"><a href="namespacedyno_1_1utils.html#a81025ee06847cec0fd854eff05362d19">dyno::utils::toRosTime</a></div><div class="ttdeci">rclcpp::Time toRosTime(Timestamp timestamp)</div><div class="ttdoc">Converts Timestamp (in seconds) to ROS time.</div><div class="ttdef"><b>Definition:</b> <a href="RosUtils_8cc_source.html#l00293">RosUtils.cc:293</a></div></div>
<div class="ttc" id="anamespacedyno_html_a7fda67c0575c4b7a8210dcc8ae227370"><div class="ttname"><a href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">dyno::Timestamp</a></div><div class="ttdeci">double Timestamp</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00064">Types.hpp:64</a></div></div>
<div class="ttc" id="anamespacedyno_html_a8357d6a8de284f4d1fc3d074646b43bb"><div class="ttname"><a href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb">dyno::convert</a></div><div class="ttdeci">bool convert(const LandmarkStatus &amp;status, pcl::PointXYZRGB &amp;point)</div><div class="ttdef"><b>Definition:</b> <a href="PointCloudProcess_8hpp_source.html#l00055">PointCloudProcess.hpp:55</a></div></div>
<div class="ttc" id="anamespacedyno_html_ac4303d6fafb755f794b072d76f9cfb41"><div class="ttname"><a href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">dyno::FrameId</a></div><div class="ttdeci">size_t FrameId</div><div class="ttdoc">Discrete time-step k.</div><div class="ttdef"><b>Definition:</b> <a href="Types_8hpp_source.html#l00073">Types.hpp:73</a></div></div>
<div class="ttc" id="anamespacedyno_html_ae75f40076d0752a992e0a684f375de74"><div class="ttname"><a href="namespacedyno.html#ae75f40076d0752a992e0a684f375de74">dyno::ObjectOdometryPath</a></div><div class="ttdeci">dynamic_slam_interfaces::msg::ObjectOdometryPath ObjectOdometryPath</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00047">DSDCommonRos.hpp:47</a></div></div>
<div class="ttc" id="astructdyno_1_1Color_html_a6689af3d0ac5ceaa66000b5ca70becbd"><div class="ttname"><a href="structdyno_1_1Color.html#a6689af3d0ac5ceaa66000b5ca70becbd">dyno::Color::uniqueId</a></div><div class="ttdeci">static Color uniqueId(size_t id, float saturation=unique_id_default_saturation, float value=unique_id_default_value)</div><div class="ttdoc">Generates a sequence of never repeating colors using the golden ratio to seperate the colours along t...</div><div class="ttdef"><b>Definition:</b> <a href="ColourMap_8cc_source.html#l00169">ColourMap.cc:169</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1GenericObjectCentricMap.html#af6ce62ffab5aadf1981a0ec04c3fad1e">dyno::GenericObjectCentricMap&lt; VALUE &gt;::at()</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db">constructObjectFrameLink()</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97">constructObjectOdometry()</a>, <a class="el" href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb">dyno::convert()</a>, <a class="el" href="classdyno_1_1GenericObjectCentricMap.html#a974563b8edd3f4b0cb6fe17615d04fbd">dyno::GenericObjectCentricMap&lt; VALUE &gt;::exists()</a>, <a class="el" href="namespacedyno_1_1utils.html#a81025ee06847cec0fd854eff05362d19">dyno::utils::toRosTime()</a>, and <a class="el" href="structdyno_1_1Color.html#a6689af3d0ac5ceaa66000b5ca70becbd">dyno::Color::uniqueId()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1DSDTransport_a6181566479bf9f5bad14d66c048afd9e_cgraph.png" border="0" usemap="#aclassdyno_1_1DSDTransport_a6181566479bf9f5bad14d66c048afd9e_cgraph" alt=""/></div>
<map name="aclassdyno_1_1DSDTransport_a6181566479bf9f5bad14d66c048afd9e_cgraph" id="aclassdyno_1_1DSDTransport_a6181566479bf9f5bad14d66c048afd9e_cgraph">
<area shape="rect" title=" " alt="" coords="5,174,236,229"/>
<area shape="rect" href="classdyno_1_1GenericObjectCentricMap.html#af6ce62ffab5aadf1981a0ec04c3fad1e" title=" " alt="" coords="780,32,980,72"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db" title="Construct object id tf link from an object id. This will be used as the link in the ROS tf tree and a..." alt="" coords="284,124,484,164"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97" title=" " alt="" coords="285,261,483,301"/>
<area shape="rect" href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb" title=" " alt="" coords="1028,302,1139,327"/>
<area shape="rect" href="structdyno_1_1Color.html#a6689af3d0ac5ceaa66000b5ca70becbd" title="Generates a sequence of never repeating colors using the golden ratio to seperate the colours along t..." alt="" coords="1201,434,1361,459"/>
<area shape="rect" href="namespacedyno_1_1utils.html#a81025ee06847cec0fd854eff05362d19" title="Converts Timestamp (in seconds) to ROS time." alt="" coords="796,347,964,373"/>
<area shape="rect" href="classdyno_1_1GenericObjectCentricMap.html#a974563b8edd3f4b0cb6fe17615d04fbd" title=" " alt="" coords="284,60,484,100"/>
<area shape="rect" href="namespacedyno.html#a2e68bad5f89fd79e6a7515919080c286" title="Calculate the local body velocity given the motion in world from k&#45;1 to k and the object pose at k&#45;1...." alt="" coords="533,239,731,265"/>
<area shape="rect" href="namespacedyno_1_1utils.html#a7efb03484e6c5b1cc0d0eeeb43546ffa" title="Converts from input type to output type where output type is a ROS message with a header...." alt="" coords="543,340,721,380"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#a1741e83bf5442c885da98c9c5bb71f08" title="Returns true if the object lavel is equal to dyno::background_label." alt="" coords="1187,231,1375,271"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#ae90b3059d173a9354cc6a55a55ef80ac" title="Get object id (j) for this status." alt="" coords="1187,295,1375,335"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#a828faf38cea11c1dcc7651d49b68d8e1" title="Get value. Const version." alt="" coords="1187,359,1375,399"/>
<area shape="rect" href="structdyno_1_1Color.html#a08bcb6ea49861f6978858a2ff5159002" title=" " alt="" coords="1423,434,1585,459"/>
<area shape="rect" href="structdyno_1_1Color.html#a6bc55a80a463a481dbf4778c70d04733" title=" " alt="" coords="1661,409,1799,434"/>
<area shape="rect" href="namespacedyno.html#ab0e74ec8992860404a618192cc694b83" title=" " alt="" coords="1633,458,1827,483"/>
<area shape="rect" href="classdyno_1_1GenericObjectCentricMap.html#a33450c8ce82ab7fbfa2541ee0c6b20e3" title="Helper function to determine if the query exists. Operates like a regular exists function but also se..." alt="" coords="532,60,732,100"/>
</map>
</div>

</div>
</div>
<a id="a41525d7e486a44137435c5ed47a2e8db" name="a41525d7e486a44137435c5ed47a2e8db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a41525d7e486a44137435c5ed47a2e8db">&#9670;&#160;</a></span>constructObjectFrameLink()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string dyno::DSDTransport::constructObjectFrameLink </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">ObjectId</a>&#160;</td>
          <td class="paramname"><em>object_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Construct object id tf link from an object id. This will be used as the link in the ROS tf tree and as the child frame id for the object odometry. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object_id</td><td>ObjectId </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string </dd></dl>

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8cc_source.html#l00025">25</a> of file <a class="el" href="DSDCommonRos_8cc_source.html">DSDCommonRos.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>                                                                   {</div>
<div class="line"><span class="lineno">   26</span>  <span class="keywordflow">return</span> <span class="stringliteral">&quot;object_&quot;</span> + std::to_string(object_id) + <span class="stringliteral">&quot;_link&quot;</span>;</div>
<div class="line"><span class="lineno">   27</span>}</div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="classdyno_1_1DSDTransport.html#a6181566479bf9f5bad14d66c048afd9e">constructMultiObjectOdometryPaths()</a>, and <a class="el" href="classdyno_1_1DSDTransport.html#aa25a57f09531c34b256273e8b0fc2c63">constructObjectOdometries()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1DSDTransport_a41525d7e486a44137435c5ed47a2e8db_icgraph.png" border="0" usemap="#aclassdyno_1_1DSDTransport_a41525d7e486a44137435c5ed47a2e8db_icgraph" alt=""/></div>
<map name="aclassdyno_1_1DSDTransport_a41525d7e486a44137435c5ed47a2e8db_icgraph" id="aclassdyno_1_1DSDTransport_a41525d7e486a44137435c5ed47a2e8db_icgraph">
<area shape="rect" title="Construct object id tf link from an object id. This will be used as the link in the ROS tf tree and a..." alt="" coords="284,49,484,89"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#a6181566479bf9f5bad14d66c048afd9e" title=" " alt="" coords="5,5,236,60"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#aa25a57f09531c34b256273e8b0fc2c63" title=" " alt="" coords="17,85,225,125"/>
</map>
</div>

</div>
</div>
<a id="aa25a57f09531c34b256273e8b0fc2c63" name="aa25a57f09531c34b256273e8b0fc2c63"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa25a57f09531c34b256273e8b0fc2c63">&#9670;&#160;</a></span>constructObjectOdometries()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedyno.html#a17f4c1fe4d4fb10dff1544f64ac6aadc">ObjectOdometryMap</a> dyno::DSDTransport::constructObjectOdometries </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#af0e7693f6363b7c2b87803049135cf43">ObjectMotionMap</a> &amp;&#160;</td>
          <td class="paramname"><em>motions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespacedyno.html#a47c0a08523c12765d4bd6e243f900c16">ObjectPoseMap</a> &amp;&#160;</td>
          <td class="paramname"><em>poses</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a>&#160;</td>
          <td class="paramname"><em>frame_id_k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a>&#160;</td>
          <td class="paramname"><em>timestamp_k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>frame_id_link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8cc_source.html#l00052">52</a> of file <a class="el" href="DSDCommonRos_8cc_source.html">DSDCommonRos.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                    {</div>
<div class="line"><span class="lineno">   56</span>  <span class="comment">// need to get poses for k-1</span></div>
<div class="line"><span class="lineno">   57</span>  <span class="comment">// TODO: no way to ensure that the motions are for frame k</span></div>
<div class="line"><span class="lineno">   58</span>  <span class="comment">// this is a weird data-structure to use and motions are per frame and</span></div>
<div class="line"><span class="lineno">   59</span>  <span class="comment">// ObjectPoseMap is over all k to K</span></div>
<div class="line"><span class="lineno">   60</span>  <span class="comment">//  const FrameId frame_id_k_1 = frame_id_k - 1u;</span></div>
<div class="line"><span class="lineno">   61</span>  <a class="code hl_typedef" href="namespacedyno.html#a17f4c1fe4d4fb10dff1544f64ac6aadc">ObjectOdometryMap</a> object_odom_map;</div>
<div class="line"><span class="lineno">   62</span>  <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; [object_id, per_frame_motions] : motions) {</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">if</span> (!per_frame_motions.exists(frame_id_k)) {</div>
<div class="line"><span class="lineno">   64</span>      <span class="comment">// object does not exist at this frame.</span></div>
<div class="line"><span class="lineno">   65</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   66</span>    }</div>
<div class="line"><span class="lineno">   67</span>    <span class="keyword">const</span> gtsam::Pose3&amp; e_H_k_world = per_frame_motions.at(frame_id_k);</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">if</span> (!poses.exists(object_id, frame_id_k)) {</div>
<div class="line"><span class="lineno">   70</span>      VLOG(30) &lt;&lt; <span class="stringliteral">&quot;Cannot construct ObjectOdometry for object &quot;</span> &lt;&lt; object_id</div>
<div class="line"><span class="lineno">   71</span>               &lt;&lt; <span class="stringliteral">&quot;, at frame &quot;</span> &lt;&lt; frame_id_k</div>
<div class="line"><span class="lineno">   72</span>               &lt;&lt; <span class="stringliteral">&quot; Missing entry in ObjectPoseMap (but object motion &quot;</span></div>
<div class="line"><span class="lineno">   73</span>                  <span class="stringliteral">&quot;entry found!!)&quot;</span>;</div>
<div class="line"><span class="lineno">   74</span>      <span class="keywordflow">continue</span>;</div>
<div class="line"><span class="lineno">   75</span>    }</div>
<div class="line"><span class="lineno">   76</span>    <span class="keyword">const</span> gtsam::Pose3&amp; pose_k = poses.at(object_id, frame_id_k);</div>
<div class="line"><span class="lineno">   77</span> </div>
<div class="line"><span class="lineno">   78</span>    <span class="keyword">const</span> std::string child_frame_id_link = <a class="code hl_function" href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db">constructObjectFrameLink</a>(object_id);</div>
<div class="line"><span class="lineno">   79</span> </div>
<div class="line"><span class="lineno">   80</span>    object_odom_map.insert2(</div>
<div class="line"><span class="lineno">   81</span>        child_frame_id_link,</div>
<div class="line"><span class="lineno">   82</span>        <a class="code hl_function" href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97">constructObjectOdometry</a>(e_H_k_world, pose_k, object_id, frame_id_k,</div>
<div class="line"><span class="lineno">   83</span>                                timestamp_k, frame_id_link,</div>
<div class="line"><span class="lineno">   84</span>                                child_frame_id_link));</div>
<div class="line"><span class="lineno">   85</span>  }</div>
<div class="line"><span class="lineno">   86</span> </div>
<div class="line"><span class="lineno">   87</span>  <span class="keywordflow">return</span> object_odom_map;</div>
<div class="line"><span class="lineno">   88</span>}</div>
<div class="ttc" id="anamespacedyno_html_a17f4c1fe4d4fb10dff1544f64ac6aadc"><div class="ttname"><a href="namespacedyno.html#a17f4c1fe4d4fb10dff1544f64ac6aadc">dyno::ObjectOdometryMap</a></div><div class="ttdeci">gtsam::FastMap&lt; std::string, ObjectOdometry &gt; ObjectOdometryMap</div><div class="ttdef"><b>Definition:</b> <a href="DSDCommonRos_8hpp_source.html#l00056">DSDCommonRos.hpp:56</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="classdyno_1_1GenericObjectCentricMap.html#af6ce62ffab5aadf1981a0ec04c3fad1e">dyno::GenericObjectCentricMap&lt; VALUE &gt;::at()</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db">constructObjectFrameLink()</a>, <a class="el" href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97">constructObjectOdometry()</a>, and <a class="el" href="classdyno_1_1GenericObjectCentricMap.html#a974563b8edd3f4b0cb6fe17615d04fbd">dyno::GenericObjectCentricMap&lt; VALUE &gt;::exists()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1DSDTransport_aa25a57f09531c34b256273e8b0fc2c63_cgraph.png" border="0" usemap="#aclassdyno_1_1DSDTransport_aa25a57f09531c34b256273e8b0fc2c63_cgraph" alt=""/></div>
<map name="aclassdyno_1_1DSDTransport_aa25a57f09531c34b256273e8b0fc2c63_cgraph" id="aclassdyno_1_1DSDTransport_aa25a57f09531c34b256273e8b0fc2c63_cgraph">
<area shape="rect" title=" " alt="" coords="5,68,213,108"/>
<area shape="rect" href="classdyno_1_1GenericObjectCentricMap.html#af6ce62ffab5aadf1981a0ec04c3fad1e" title=" " alt="" coords="757,32,957,72"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#a41525d7e486a44137435c5ed47a2e8db" title="Construct object id tf link from an object id. This will be used as the link in the ROS tf tree and a..." alt="" coords="261,36,461,76"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#a68cd19d60a58b1b568f9006d5483ee97" title=" " alt="" coords="263,178,460,218"/>
<area shape="rect" href="classdyno_1_1GenericObjectCentricMap.html#a974563b8edd3f4b0cb6fe17615d04fbd" title=" " alt="" coords="261,100,461,140"/>
<area shape="rect" href="namespacedyno.html#a2e68bad5f89fd79e6a7515919080c286" title="Calculate the local body velocity given the motion in world from k&#45;1 to k and the object pose at k&#45;1...." alt="" coords="510,214,709,239"/>
<area shape="rect" href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb" title=" " alt="" coords="1005,211,1116,236"/>
<area shape="rect" href="namespacedyno_1_1utils.html#a7efb03484e6c5b1cc0d0eeeb43546ffa" title="Converts from input type to output type where output type is a ROS message with a header...." alt="" coords="521,149,698,189"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#a1741e83bf5442c885da98c9c5bb71f08" title="Returns true if the object lavel is equal to dyno::background_label." alt="" coords="1164,110,1352,150"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#ae90b3059d173a9354cc6a55a55ef80ac" title="Get object id (j) for this status." alt="" coords="1164,174,1352,214"/>
<area shape="rect" href="structdyno_1_1Color.html#a6689af3d0ac5ceaa66000b5ca70becbd" title="Generates a sequence of never repeating colors using the golden ratio to seperate the colours along t..." alt="" coords="1178,239,1338,264"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#a828faf38cea11c1dcc7651d49b68d8e1" title="Get value. Const version." alt="" coords="1164,289,1352,329"/>
<area shape="rect" href="structdyno_1_1Color.html#a08bcb6ea49861f6978858a2ff5159002" title=" " alt="" coords="1400,239,1563,264"/>
<area shape="rect" href="structdyno_1_1Color.html#a6bc55a80a463a481dbf4778c70d04733" title=" " alt="" coords="1638,214,1777,239"/>
<area shape="rect" href="namespacedyno.html#ab0e74ec8992860404a618192cc694b83" title=" " alt="" coords="1611,263,1804,288"/>
<area shape="rect" href="namespacedyno_1_1utils.html#a81025ee06847cec0fd854eff05362d19" title="Converts Timestamp (in seconds) to ROS time." alt="" coords="773,183,941,208"/>
<area shape="rect" href="classdyno_1_1GenericObjectCentricMap.html#a33450c8ce82ab7fbfa2541ee0c6b20e3" title="Helper function to determine if the query exists. Operates like a regular exists function but also se..." alt="" coords="509,85,709,125"/>
</map>
</div>

</div>
</div>
<a id="a68cd19d60a58b1b568f9006d5483ee97" name="a68cd19d60a58b1b568f9006d5483ee97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68cd19d60a58b1b568f9006d5483ee97">&#9670;&#160;</a></span>constructObjectOdometry()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespacedyno.html#a1e7b8e7cb9c94acacd56b98dc9900a97">ObjectOdometry</a> dyno::DSDTransport::constructObjectOdometry </td>
          <td>(</td>
          <td class="paramtype">const gtsam::Pose3 &amp;&#160;</td>
          <td class="paramname"><em>e_H_k_world</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const gtsam::Pose3 &amp;&#160;</td>
          <td class="paramname"><em>pose_k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a38bb86e4154b86428b8d133be03fb2b5">ObjectId</a>&#160;</td>
          <td class="paramname"><em>object_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#ac4303d6fafb755f794b072d76f9cfb41">FrameId</a>&#160;</td>
          <td class="paramname"><em>frame_id_k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespacedyno.html#a7fda67c0575c4b7a8210dcc8ae227370">Timestamp</a>&#160;</td>
          <td class="paramname"><em>timestamp_k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>frame_id_link</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>child_frame_id_link</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8cc_source.html#l00029">29</a> of file <a class="el" href="DSDCommonRos_8cc_source.html">DSDCommonRos.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span>                                                                          {</div>
<div class="line"><span class="lineno">   33</span>  <a class="code hl_typedef" href="namespacedyno.html#a1e7b8e7cb9c94acacd56b98dc9900a97">ObjectOdometry</a> object_odom;</div>
<div class="line"><span class="lineno">   34</span> </div>
<div class="line"><span class="lineno">   35</span>  <span class="comment">// technically this shoudl be k-1</span></div>
<div class="line"><span class="lineno">   36</span>  gtsam::Point3 body_velocity = <a class="code hl_function" href="namespacedyno.html#a2e68bad5f89fd79e6a7515919080c286">calculateBodyMotion</a>(e_H_k_world, pose_k);</div>
<div class="line"><span class="lineno">   37</span> </div>
<div class="line"><span class="lineno">   38</span>  nav_msgs::msg::Odometry odom_msg;</div>
<div class="line"><span class="lineno">   39</span>  <a class="code hl_function" href="namespacedyno_1_1utils.html#a7efb03484e6c5b1cc0d0eeeb43546ffa">utils::convertWithHeader</a>(pose_k, odom_msg, timestamp_k, frame_id_link,</div>
<div class="line"><span class="lineno">   40</span>                           child_frame_id_link);</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>  object_odom.odom = odom_msg;</div>
<div class="line"><span class="lineno">   43</span>  <span class="comment">// TODO: can check if correct representation?</span></div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>  <a class="code hl_function" href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb">dyno::convert</a>(e_H_k_world, object_odom.h_w_km1_k.pose);</div>
<div class="line"><span class="lineno">   46</span>  <span class="comment">// NO velocity!!</span></div>
<div class="line"><span class="lineno">   47</span>  object_odom.object_id = object_id;</div>
<div class="line"><span class="lineno">   48</span>  object_odom.sequence = frame_id_k;</div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordflow">return</span> object_odom;</div>
<div class="line"><span class="lineno">   50</span>}</div>
<div class="ttc" id="anamespacedyno_1_1utils_html_a7efb03484e6c5b1cc0d0eeeb43546ffa"><div class="ttname"><a href="namespacedyno_1_1utils.html#a7efb03484e6c5b1cc0d0eeeb43546ffa">dyno::utils::convertWithHeader</a></div><div class="ttdeci">bool convertWithHeader(const INPUT &amp;input, OUTPUT &amp;output, Timestamp timestamp, const std::string &amp;frame_id, std::optional&lt; std::string &gt; child_frame_id=std::nullopt)</div><div class="ttdoc">Converts from input type to output type where output type is a ROS message with a header....</div><div class="ttdef"><b>Definition:</b> <a href="RosUtils_8hpp_source.html#l00423">RosUtils.hpp:423</a></div></div>
<div class="ttc" id="anamespacedyno_html_a2e68bad5f89fd79e6a7515919080c286"><div class="ttname"><a href="namespacedyno.html#a2e68bad5f89fd79e6a7515919080c286">dyno::calculateBodyMotion</a></div><div class="ttdeci">gtsam::Vector3 calculateBodyMotion(const gtsam::Pose3 &amp;w_k_1_H_k, const gtsam::Pose3 &amp;w_L_k_1)</div><div class="ttdoc">Calculate the local body velocity given the motion in world from k-1 to k and the object pose at k-1....</div><div class="ttdef"><b>Definition:</b> <a href="DynamicObjects_8cc_source.html#l00037">DynamicObjects.cc:37</a></div></div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="namespacedyno.html#a2e68bad5f89fd79e6a7515919080c286">dyno::calculateBodyMotion()</a>, <a class="el" href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb">dyno::convert()</a>, and <a class="el" href="namespacedyno_1_1utils.html#a7efb03484e6c5b1cc0d0eeeb43546ffa">dyno::utils::convertWithHeader()</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1DSDTransport.html#a6181566479bf9f5bad14d66c048afd9e">constructMultiObjectOdometryPaths()</a>, and <a class="el" href="classdyno_1_1DSDTransport.html#aa25a57f09531c34b256273e8b0fc2c63">constructObjectOdometries()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_cgraph.png" border="0" usemap="#aclassdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_cgraph" alt=""/></div>
<map name="aclassdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_cgraph" id="aclassdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_cgraph">
<area shape="rect" title=" " alt="" coords="5,71,203,111"/>
<area shape="rect" href="namespacedyno.html#a2e68bad5f89fd79e6a7515919080c286" title="Calculate the local body velocity given the motion in world from k&#45;1 to k and the object pose at k&#45;1...." alt="" coords="251,27,449,53"/>
<area shape="rect" href="namespacedyno.html#a8357d6a8de284f4d1fc3d074646b43bb" title=" " alt="" coords="713,106,824,131"/>
<area shape="rect" href="namespacedyno_1_1utils.html#a7efb03484e6c5b1cc0d0eeeb43546ffa" title="Converts from input type to output type where output type is a ROS message with a header...." alt="" coords="261,128,439,168"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#a1741e83bf5442c885da98c9c5bb71f08" title="Returns true if the object lavel is equal to dyno::background_label." alt="" coords="872,5,1060,45"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#ae90b3059d173a9354cc6a55a55ef80ac" title="Get object id (j) for this status." alt="" coords="872,69,1060,109"/>
<area shape="rect" href="structdyno_1_1Color.html#a6689af3d0ac5ceaa66000b5ca70becbd" title="Generates a sequence of never repeating colors using the golden ratio to seperate the colours along t..." alt="" coords="886,134,1046,159"/>
<area shape="rect" href="classdyno_1_1TrackedValueStatus.html#a828faf38cea11c1dcc7651d49b68d8e1" title="Get value. Const version." alt="" coords="872,184,1060,224"/>
<area shape="rect" href="structdyno_1_1Color.html#a08bcb6ea49861f6978858a2ff5159002" title=" " alt="" coords="1108,134,1271,159"/>
<area shape="rect" href="structdyno_1_1Color.html#a6bc55a80a463a481dbf4778c70d04733" title=" " alt="" coords="1346,109,1485,134"/>
<area shape="rect" href="namespacedyno.html#ab0e74ec8992860404a618192cc694b83" title=" " alt="" coords="1319,158,1512,183"/>
<area shape="rect" href="namespacedyno_1_1utils.html#a81025ee06847cec0fd854eff05362d19" title="Converts Timestamp (in seconds) to ROS time." alt="" coords="497,131,665,157"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_icgraph.png" border="0" usemap="#aclassdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_icgraph" alt=""/></div>
<map name="aclassdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_icgraph" id="aclassdyno_1_1DSDTransport_a68cd19d60a58b1b568f9006d5483ee97_icgraph">
<area shape="rect" title=" " alt="" coords="284,49,481,89"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#a6181566479bf9f5bad14d66c048afd9e" title=" " alt="" coords="5,5,236,60"/>
<area shape="rect" href="classdyno_1_1DSDTransport.html#aa25a57f09531c34b256273e8b0fc2c63" title=" " alt="" coords="17,85,225,125"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a8a8b65f994b5d8e6de606f1c63e45515" name="a8a8b65f994b5d8e6de606f1c63e45515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a8b65f994b5d8e6de606f1c63e45515">&#9670;&#160;</a></span>multi_object_odom_path_publisher_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">MultiObjectOdometryPathPub::SharedPtr dyno::DSDTransport::multi_object_odom_path_publisher_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8hpp_source.html#l00210">210</a> of file <a class="el" href="DSDCommonRos_8hpp_source.html">DSDCommonRos.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1DSDTransport.html#af3de22d3c37040622cda31ab745955fe">addObjectInfo()</a>, <a class="el" href="classdyno_1_1DSDTransport.html#ae7b7325756d28299858565630149c34e">DSDTransport()</a>, and <a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html#a13fa5d59dbc73f40fd2969b33a2f7c9d">dyno::DSDTransport::Publisher::publishObjectPaths()</a>.</p>

</div>
</div>
<a id="a696520d40317a597358aa2629dea0855" name="a696520d40317a597358aa2629dea0855"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a696520d40317a597358aa2629dea0855">&#9670;&#160;</a></span>node_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rclcpp::Node::SharedPtr dyno::DSDTransport::node_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8hpp_source.html#l00208">208</a> of file <a class="el" href="DSDCommonRos_8hpp_source.html">DSDCommonRos.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1DSDTransport.html#af3de22d3c37040622cda31ab745955fe">addObjectInfo()</a>, and <a class="el" href="classdyno_1_1DSDTransport.html#ae7b7325756d28299858565630149c34e">DSDTransport()</a>.</p>

</div>
</div>
<a id="a0e3949119fc2b3e90656f2422c79f6bf" name="a0e3949119fc2b3e90656f2422c79f6bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e3949119fc2b3e90656f2422c79f6bf">&#9670;&#160;</a></span>object_odom_publisher_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ObjectOdometryPub::SharedPtr dyno::DSDTransport::object_odom_publisher_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8hpp_source.html#l00209">209</a> of file <a class="el" href="DSDCommonRos_8hpp_source.html">DSDCommonRos.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1DSDTransport.html#af3de22d3c37040622cda31ab745955fe">addObjectInfo()</a>, and <a class="el" href="classdyno_1_1DSDTransport.html#ae7b7325756d28299858565630149c34e">DSDTransport()</a>.</p>

</div>
</div>
<a id="abdeb10314e5bd23a2f1ac076cf2ddcaf" name="abdeb10314e5bd23a2f1ac076cf2ddcaf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abdeb10314e5bd23a2f1ac076cf2ddcaf">&#9670;&#160;</a></span>tf_broadcaster_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;tf2_ros::TransformBroadcaster&gt; dyno::DSDTransport::tf_broadcaster_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="DSDCommonRos_8hpp_source.html#l00211">211</a> of file <a class="el" href="DSDCommonRos_8hpp_source.html">DSDCommonRos.hpp</a>.</p>

<p class="reference">Referenced by <a class="el" href="classdyno_1_1DSDTransport.html#af3de22d3c37040622cda31ab745955fe">addObjectInfo()</a>, <a class="el" href="classdyno_1_1DSDTransport.html#ae7b7325756d28299858565630149c34e">DSDTransport()</a>, and <a class="el" href="classdyno_1_1DSDTransport_1_1Publisher.html#a273d58dd87e02093d55d866ea687a29f">dyno::DSDTransport::Publisher::publishObjectTransforms()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>dynosam_ros/include/dynosam_ros/displays/dynamic_slam_displays/<a class="el" href="DSDCommonRos_8hpp_source.html">DSDCommonRos.hpp</a></li>
<li>dynosam_ros/src/displays/dynamic_slam_displays/<a class="el" href="DSDCommonRos_8cc_source.html">DSDCommonRos.cc</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
